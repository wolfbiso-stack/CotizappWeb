(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();var dL=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function YN(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var e2={exports:{}},ef={},t2={exports:{}},jt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var td=Symbol.for("react.element"),ZN=Symbol.for("react.portal"),e4=Symbol.for("react.fragment"),t4=Symbol.for("react.strict_mode"),r4=Symbol.for("react.profiler"),s4=Symbol.for("react.provider"),n4=Symbol.for("react.context"),a4=Symbol.for("react.forward_ref"),i4=Symbol.for("react.suspense"),o4=Symbol.for("react.memo"),A4=Symbol.for("react.lazy"),Vb=Symbol.iterator;function l4(e){return e===null||typeof e!="object"?null:(e=Vb&&e[Vb]||e["@@iterator"],typeof e=="function"?e:null)}var r2={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},s2=Object.assign,n2={};function zl(e,t,r){this.props=e,this.context=t,this.refs=n2,this.updater=r||r2}zl.prototype.isReactComponent={};zl.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};zl.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function a2(){}a2.prototype=zl.prototype;function Ax(e,t,r){this.props=e,this.context=t,this.refs=n2,this.updater=r||r2}var lx=Ax.prototype=new a2;lx.constructor=Ax;s2(lx,zl.prototype);lx.isPureReactComponent=!0;var zb=Array.isArray,i2=Object.prototype.hasOwnProperty,cx={current:null},o2={key:!0,ref:!0,__self:!0,__source:!0};function A2(e,t,r){var s,a={},i=null,o=null;if(t!=null)for(s in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)i2.call(t,s)&&!o2.hasOwnProperty(s)&&(a[s]=t[s]);var A=arguments.length-2;if(A===1)a.children=r;else if(1<A){for(var l=Array(A),c=0;c<A;c++)l[c]=arguments[c+2];a.children=l}if(e&&e.defaultProps)for(s in A=e.defaultProps,A)a[s]===void 0&&(a[s]=A[s]);return{$$typeof:td,type:e,key:i,ref:o,props:a,_owner:cx.current}}function c4(e,t){return{$$typeof:td,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function ux(e){return typeof e=="object"&&e!==null&&e.$$typeof===td}function u4(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var qb=/\/+/g;function cp(e,t){return typeof e=="object"&&e!==null&&e.key!=null?u4(""+e.key):t.toString(36)}function Vh(e,t,r,s,a){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case td:case ZN:o=!0}}if(o)return o=e,a=a(o),e=s===""?"."+cp(o,0):s,zb(a)?(r="",e!=null&&(r=e.replace(qb,"$&/")+"/"),Vh(a,t,r,"",function(c){return c})):a!=null&&(ux(a)&&(a=c4(a,r+(!a.key||o&&o.key===a.key?"":(""+a.key).replace(qb,"$&/")+"/")+e)),t.push(a)),1;if(o=0,s=s===""?".":s+":",zb(e))for(var A=0;A<e.length;A++){i=e[A];var l=s+cp(i,A);o+=Vh(i,t,r,l,a)}else if(l=l4(e),typeof l=="function")for(e=l.call(e),A=0;!(i=e.next()).done;)i=i.value,l=s+cp(i,A++),o+=Vh(i,t,r,l,a);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function qd(e,t,r){if(e==null)return e;var s=[],a=0;return Vh(e,s,"","",function(i){return t.call(r,i,a++)}),s}function d4(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Xs={current:null},zh={transition:null},h4={ReactCurrentDispatcher:Xs,ReactCurrentBatchConfig:zh,ReactCurrentOwner:cx};function l2(){throw Error("act(...) is not supported in production builds of React.")}jt.Children={map:qd,forEach:function(e,t,r){qd(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return qd(e,function(){t++}),t},toArray:function(e){return qd(e,function(t){return t})||[]},only:function(e){if(!ux(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};jt.Component=zl;jt.Fragment=e4;jt.Profiler=r4;jt.PureComponent=Ax;jt.StrictMode=t4;jt.Suspense=i4;jt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=h4;jt.act=l2;jt.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var s=s2({},e.props),a=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=cx.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var A=e.type.defaultProps;for(l in t)i2.call(t,l)&&!o2.hasOwnProperty(l)&&(s[l]=t[l]===void 0&&A!==void 0?A[l]:t[l])}var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){A=Array(l);for(var c=0;c<l;c++)A[c]=arguments[c+2];s.children=A}return{$$typeof:td,type:e.type,key:a,ref:i,props:s,_owner:o}};jt.createContext=function(e){return e={$$typeof:n4,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:s4,_context:e},e.Consumer=e};jt.createElement=A2;jt.createFactory=function(e){var t=A2.bind(null,e);return t.type=e,t};jt.createRef=function(){return{current:null}};jt.forwardRef=function(e){return{$$typeof:a4,render:e}};jt.isValidElement=ux;jt.lazy=function(e){return{$$typeof:A4,_payload:{_status:-1,_result:e},_init:d4}};jt.memo=function(e,t){return{$$typeof:o4,type:e,compare:t===void 0?null:t}};jt.startTransition=function(e){var t=zh.transition;zh.transition={};try{e()}finally{zh.transition=t}};jt.unstable_act=l2;jt.useCallback=function(e,t){return Xs.current.useCallback(e,t)};jt.useContext=function(e){return Xs.current.useContext(e)};jt.useDebugValue=function(){};jt.useDeferredValue=function(e){return Xs.current.useDeferredValue(e)};jt.useEffect=function(e,t){return Xs.current.useEffect(e,t)};jt.useId=function(){return Xs.current.useId()};jt.useImperativeHandle=function(e,t,r){return Xs.current.useImperativeHandle(e,t,r)};jt.useInsertionEffect=function(e,t){return Xs.current.useInsertionEffect(e,t)};jt.useLayoutEffect=function(e,t){return Xs.current.useLayoutEffect(e,t)};jt.useMemo=function(e,t){return Xs.current.useMemo(e,t)};jt.useReducer=function(e,t,r){return Xs.current.useReducer(e,t,r)};jt.useRef=function(e){return Xs.current.useRef(e)};jt.useState=function(e){return Xs.current.useState(e)};jt.useSyncExternalStore=function(e,t,r){return Xs.current.useSyncExternalStore(e,t,r)};jt.useTransition=function(){return Xs.current.useTransition()};jt.version="18.3.1";t2.exports=jt;var X=t2.exports;const Pt=YN(X);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f4=X,p4=Symbol.for("react.element"),m4=Symbol.for("react.fragment"),g4=Object.prototype.hasOwnProperty,x4=f4.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,b4={key:!0,ref:!0,__self:!0,__source:!0};function c2(e,t,r){var s,a={},i=null,o=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(s in t)g4.call(t,s)&&!b4.hasOwnProperty(s)&&(a[s]=t[s]);if(e&&e.defaultProps)for(s in t=e.defaultProps,t)a[s]===void 0&&(a[s]=t[s]);return{$$typeof:p4,type:e,key:i,ref:o,props:a,_owner:x4.current}}ef.Fragment=m4;ef.jsx=c2;ef.jsxs=c2;e2.exports=ef;var n=e2.exports,wm={},u2={exports:{}},Fn={},d2={exports:{}},h2={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(U,V){var Z=U.length;U.push(V);e:for(;0<Z;){var me=Z-1>>>1,F=U[me];if(0<a(F,V))U[me]=V,U[Z]=F,Z=me;else break e}}function r(U){return U.length===0?null:U[0]}function s(U){if(U.length===0)return null;var V=U[0],Z=U.pop();if(Z!==V){U[0]=Z;e:for(var me=0,F=U.length,G=F>>>1;me<G;){var q=2*(me+1)-1,ee=U[q],se=q+1,Ae=U[se];if(0>a(ee,Z))se<F&&0>a(Ae,ee)?(U[me]=Ae,U[se]=Z,me=se):(U[me]=ee,U[q]=Z,me=q);else if(se<F&&0>a(Ae,Z))U[me]=Ae,U[se]=Z,me=se;else break e}}return V}function a(U,V){var Z=U.sortIndex-V.sortIndex;return Z!==0?Z:U.id-V.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,A=o.now();e.unstable_now=function(){return o.now()-A}}var l=[],c=[],d=1,f=null,m=3,h=!1,v=!1,b=!1,N=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function B(U){for(var V=r(c);V!==null;){if(V.callback===null)s(c);else if(V.startTime<=U)s(c),V.sortIndex=V.expirationTime,t(l,V);else break;V=r(c)}}function C(U){if(b=!1,B(U),!v)if(r(l)!==null)v=!0,Q(E);else{var V=r(c);V!==null&&I(C,V.startTime-U)}}function E(U,V){v=!1,b&&(b=!1,w(R),R=-1),h=!0;var Z=m;try{for(B(V),f=r(l);f!==null&&(!(f.expirationTime>V)||U&&!k());){var me=f.callback;if(typeof me=="function"){f.callback=null,m=f.priorityLevel;var F=me(f.expirationTime<=V);V=e.unstable_now(),typeof F=="function"?f.callback=F:f===r(l)&&s(l),B(V)}else s(l);f=r(l)}if(f!==null)var G=!0;else{var q=r(c);q!==null&&I(C,q.startTime-V),G=!1}return G}finally{f=null,m=Z,h=!1}}var S=!1,D=null,R=-1,W=5,ne=-1;function k(){return!(e.unstable_now()-ne<W)}function L(){if(D!==null){var U=e.unstable_now();ne=U;var V=!0;try{V=D(!0,U)}finally{V?O():(S=!1,D=null)}}else S=!1}var O;if(typeof x=="function")O=function(){x(L)};else if(typeof MessageChannel<"u"){var _=new MessageChannel,K=_.port2;_.port1.onmessage=L,O=function(){K.postMessage(null)}}else O=function(){N(L,0)};function Q(U){D=U,S||(S=!0,O())}function I(U,V){R=N(function(){U(e.unstable_now())},V)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(U){U.callback=null},e.unstable_continueExecution=function(){v||h||(v=!0,Q(E))},e.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):W=0<U?Math.floor(1e3/U):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return r(l)},e.unstable_next=function(U){switch(m){case 1:case 2:case 3:var V=3;break;default:V=m}var Z=m;m=V;try{return U()}finally{m=Z}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(U,V){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var Z=m;m=U;try{return V()}finally{m=Z}},e.unstable_scheduleCallback=function(U,V,Z){var me=e.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?me+Z:me):Z=me,U){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=Z+F,U={id:d++,callback:V,priorityLevel:U,startTime:Z,expirationTime:F,sortIndex:-1},Z>me?(U.sortIndex=Z,t(c,U),r(l)===null&&U===r(c)&&(b?(w(R),R=-1):b=!0,I(C,Z-me))):(U.sortIndex=F,t(l,U),v||h||(v=!0,Q(E))),U},e.unstable_shouldYield=k,e.unstable_wrapCallback=function(U){var V=m;return function(){var Z=m;m=V;try{return U.apply(this,arguments)}finally{m=Z}}}})(h2);d2.exports=h2;var w4=d2.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var v4=X,En=w4;function Le(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var f2=new Set,ju={};function hA(e,t){Pl(e,t),Pl(e+"Capture",t)}function Pl(e,t){for(ju[e]=t,e=0;e<t.length;e++)f2.add(t[e])}var ui=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),vm=Object.prototype.hasOwnProperty,y4=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Gb={},Wb={};function B4(e){return vm.call(Wb,e)?!0:vm.call(Gb,e)?!1:y4.test(e)?Wb[e]=!0:(Gb[e]=!0,!1)}function N4(e,t,r,s){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return s?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function j4(e,t,r,s){if(t===null||typeof t>"u"||N4(e,t,r,s))return!0;if(s)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ys(e,t,r,s,a,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=s,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var ws={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ws[e]=new Ys(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ws[t]=new Ys(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ws[e]=new Ys(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ws[e]=new Ys(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ws[e]=new Ys(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ws[e]=new Ys(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ws[e]=new Ys(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ws[e]=new Ys(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ws[e]=new Ys(e,5,!1,e.toLowerCase(),null,!1,!1)});var dx=/[\-:]([a-z])/g;function hx(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(dx,hx);ws[t]=new Ys(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(dx,hx);ws[t]=new Ys(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(dx,hx);ws[t]=new Ys(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ws[e]=new Ys(e,1,!1,e.toLowerCase(),null,!1,!1)});ws.xlinkHref=new Ys("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ws[e]=new Ys(e,1,!1,e.toLowerCase(),null,!0,!0)});function fx(e,t,r,s){var a=ws.hasOwnProperty(t)?ws[t]:null;(a!==null?a.type!==0:s||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(j4(t,r,a,s)&&(r=null),s||a===null?B4(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,s=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,s?e.setAttributeNS(s,t,r):e.setAttribute(t,r))))}var gi=v4.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Gd=Symbol.for("react.element"),ol=Symbol.for("react.portal"),Al=Symbol.for("react.fragment"),px=Symbol.for("react.strict_mode"),ym=Symbol.for("react.profiler"),p2=Symbol.for("react.provider"),m2=Symbol.for("react.context"),mx=Symbol.for("react.forward_ref"),Bm=Symbol.for("react.suspense"),Nm=Symbol.for("react.suspense_list"),gx=Symbol.for("react.memo"),Vi=Symbol.for("react.lazy"),g2=Symbol.for("react.offscreen"),Jb=Symbol.iterator;function kc(e){return e===null||typeof e!="object"?null:(e=Jb&&e[Jb]||e["@@iterator"],typeof e=="function"?e:null)}var mr=Object.assign,up;function Jc(e){if(up===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);up=t&&t[1]||""}return`
`+up+e}var dp=!1;function hp(e,t){if(!e||dp)return"";dp=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var s=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){s=c}e.call(t.prototype)}else{try{throw Error()}catch(c){s=c}e()}}catch(c){if(c&&s&&typeof c.stack=="string"){for(var a=c.stack.split(`
`),i=s.stack.split(`
`),o=a.length-1,A=i.length-1;1<=o&&0<=A&&a[o]!==i[A];)A--;for(;1<=o&&0<=A;o--,A--)if(a[o]!==i[A]){if(o!==1||A!==1)do if(o--,A--,0>A||a[o]!==i[A]){var l=`
`+a[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=A);break}}}finally{dp=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Jc(e):""}function C4(e){switch(e.tag){case 5:return Jc(e.type);case 16:return Jc("Lazy");case 13:return Jc("Suspense");case 19:return Jc("SuspenseList");case 0:case 2:case 15:return e=hp(e.type,!1),e;case 11:return e=hp(e.type.render,!1),e;case 1:return e=hp(e.type,!0),e;default:return""}}function jm(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Al:return"Fragment";case ol:return"Portal";case ym:return"Profiler";case px:return"StrictMode";case Bm:return"Suspense";case Nm:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case m2:return(e.displayName||"Context")+".Consumer";case p2:return(e._context.displayName||"Context")+".Provider";case mx:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case gx:return t=e.displayName||null,t!==null?t:jm(e.type)||"Memo";case Vi:t=e._payload,e=e._init;try{return jm(e(t))}catch{}}return null}function _4(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return jm(t);case 8:return t===px?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function po(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function x2(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function S4(e){var t=x2(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(o){s=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return s},setValue:function(o){s=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Wd(e){e._valueTracker||(e._valueTracker=S4(e))}function b2(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),s="";return e&&(s=x2(e)?e.checked?"true":"false":e.value),e=s,e!==r?(t.setValue(e),!0):!1}function u0(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Cm(e,t){var r=t.checked;return mr({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Xb(e,t){var r=t.defaultValue==null?"":t.defaultValue,s=t.checked!=null?t.checked:t.defaultChecked;r=po(t.value!=null?t.value:r),e._wrapperState={initialChecked:s,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function w2(e,t){t=t.checked,t!=null&&fx(e,"checked",t,!1)}function _m(e,t){w2(e,t);var r=po(t.value),s=t.type;if(r!=null)s==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(s==="submit"||s==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Sm(e,t.type,r):t.hasOwnProperty("defaultValue")&&Sm(e,t.type,po(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Yb(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var s=t.type;if(!(s!=="submit"&&s!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Sm(e,t,r){(t!=="number"||u0(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Xc=Array.isArray;function Bl(e,t,r,s){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&s&&(e[r].defaultSelected=!0)}else{for(r=""+po(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,s&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function Em(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Le(91));return mr({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Zb(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(Le(92));if(Xc(r)){if(1<r.length)throw Error(Le(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:po(r)}}function v2(e,t){var r=po(t.value),s=po(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),s!=null&&(e.defaultValue=""+s)}function ew(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function y2(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Fm(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?y2(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Jd,B2=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,s,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,s,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Jd=Jd||document.createElement("div"),Jd.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Jd.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Cu(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Au={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},E4=["Webkit","ms","Moz","O"];Object.keys(Au).forEach(function(e){E4.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Au[t]=Au[e]})});function N2(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Au.hasOwnProperty(e)&&Au[e]?(""+t).trim():t+"px"}function j2(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var s=r.indexOf("--")===0,a=N2(r,t[r],s);r==="float"&&(r="cssFloat"),s?e.setProperty(r,a):e[r]=a}}var F4=mr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Um(e,t){if(t){if(F4[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Le(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Le(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Le(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Le(62))}}function Qm(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var km=null;function xx(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Im=null,Nl=null,jl=null;function tw(e){if(e=nd(e)){if(typeof Im!="function")throw Error(Le(280));var t=e.stateNode;t&&(t=af(t),Im(e.stateNode,e.type,t))}}function C2(e){Nl?jl?jl.push(e):jl=[e]:Nl=e}function _2(){if(Nl){var e=Nl,t=jl;if(jl=Nl=null,tw(e),t)for(e=0;e<t.length;e++)tw(t[e])}}function S2(e,t){return e(t)}function E2(){}var fp=!1;function F2(e,t,r){if(fp)return e(t,r);fp=!0;try{return S2(e,t,r)}finally{fp=!1,(Nl!==null||jl!==null)&&(E2(),_2())}}function _u(e,t){var r=e.stateNode;if(r===null)return null;var s=af(r);if(s===null)return null;r=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(Le(231,t,typeof r));return r}var Lm=!1;if(ui)try{var Ic={};Object.defineProperty(Ic,"passive",{get:function(){Lm=!0}}),window.addEventListener("test",Ic,Ic),window.removeEventListener("test",Ic,Ic)}catch{Lm=!1}function U4(e,t,r,s,a,i,o,A,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(r,c)}catch(d){this.onError(d)}}var lu=!1,d0=null,h0=!1,Tm=null,Q4={onError:function(e){lu=!0,d0=e}};function k4(e,t,r,s,a,i,o,A,l){lu=!1,d0=null,U4.apply(Q4,arguments)}function I4(e,t,r,s,a,i,o,A,l){if(k4.apply(this,arguments),lu){if(lu){var c=d0;lu=!1,d0=null}else throw Error(Le(198));h0||(h0=!0,Tm=c)}}function fA(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function U2(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function rw(e){if(fA(e)!==e)throw Error(Le(188))}function L4(e){var t=e.alternate;if(!t){if(t=fA(e),t===null)throw Error(Le(188));return t!==e?null:e}for(var r=e,s=t;;){var a=r.return;if(a===null)break;var i=a.alternate;if(i===null){if(s=a.return,s!==null){r=s;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===r)return rw(a),e;if(i===s)return rw(a),t;i=i.sibling}throw Error(Le(188))}if(r.return!==s.return)r=a,s=i;else{for(var o=!1,A=a.child;A;){if(A===r){o=!0,r=a,s=i;break}if(A===s){o=!0,s=a,r=i;break}A=A.sibling}if(!o){for(A=i.child;A;){if(A===r){o=!0,r=i,s=a;break}if(A===s){o=!0,s=i,r=a;break}A=A.sibling}if(!o)throw Error(Le(189))}}if(r.alternate!==s)throw Error(Le(190))}if(r.tag!==3)throw Error(Le(188));return r.stateNode.current===r?e:t}function Q2(e){return e=L4(e),e!==null?k2(e):null}function k2(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=k2(e);if(t!==null)return t;e=e.sibling}return null}var I2=En.unstable_scheduleCallback,sw=En.unstable_cancelCallback,T4=En.unstable_shouldYield,P4=En.unstable_requestPaint,Qr=En.unstable_now,R4=En.unstable_getCurrentPriorityLevel,bx=En.unstable_ImmediatePriority,L2=En.unstable_UserBlockingPriority,f0=En.unstable_NormalPriority,O4=En.unstable_LowPriority,T2=En.unstable_IdlePriority,tf=null,Da=null;function D4(e){if(Da&&typeof Da.onCommitFiberRoot=="function")try{Da.onCommitFiberRoot(tf,e,void 0,(e.current.flags&128)===128)}catch{}}var wa=Math.clz32?Math.clz32:M4,H4=Math.log,$4=Math.LN2;function M4(e){return e>>>=0,e===0?32:31-(H4(e)/$4|0)|0}var Xd=64,Yd=4194304;function Yc(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function p0(e,t){var r=e.pendingLanes;if(r===0)return 0;var s=0,a=e.suspendedLanes,i=e.pingedLanes,o=r&268435455;if(o!==0){var A=o&~a;A!==0?s=Yc(A):(i&=o,i!==0&&(s=Yc(i)))}else o=r&~a,o!==0?s=Yc(o):i!==0&&(s=Yc(i));if(s===0)return 0;if(t!==0&&t!==s&&!(t&a)&&(a=s&-s,i=t&-t,a>=i||a===16&&(i&4194240)!==0))return t;if(s&4&&(s|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=s;0<t;)r=31-wa(t),a=1<<r,s|=e[r],t&=~a;return s}function K4(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function V4(e,t){for(var r=e.suspendedLanes,s=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-wa(i),A=1<<o,l=a[o];l===-1?(!(A&r)||A&s)&&(a[o]=K4(A,t)):l<=t&&(e.expiredLanes|=A),i&=~A}}function Pm(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function P2(){var e=Xd;return Xd<<=1,!(Xd&4194240)&&(Xd=64),e}function pp(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function rd(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-wa(t),e[t]=r}function z4(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var s=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-wa(r),i=1<<a;t[a]=0,s[a]=-1,e[a]=-1,r&=~i}}function wx(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var s=31-wa(r),a=1<<s;a&t|e[s]&t&&(e[s]|=t),r&=~a}}var Kt=0;function R2(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var O2,vx,D2,H2,$2,Rm=!1,Zd=[],no=null,ao=null,io=null,Su=new Map,Eu=new Map,Wi=[],q4="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function nw(e,t){switch(e){case"focusin":case"focusout":no=null;break;case"dragenter":case"dragleave":ao=null;break;case"mouseover":case"mouseout":io=null;break;case"pointerover":case"pointerout":Su.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Eu.delete(t.pointerId)}}function Lc(e,t,r,s,a,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:s,nativeEvent:i,targetContainers:[a]},t!==null&&(t=nd(t),t!==null&&vx(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function G4(e,t,r,s,a){switch(t){case"focusin":return no=Lc(no,e,t,r,s,a),!0;case"dragenter":return ao=Lc(ao,e,t,r,s,a),!0;case"mouseover":return io=Lc(io,e,t,r,s,a),!0;case"pointerover":var i=a.pointerId;return Su.set(i,Lc(Su.get(i)||null,e,t,r,s,a)),!0;case"gotpointercapture":return i=a.pointerId,Eu.set(i,Lc(Eu.get(i)||null,e,t,r,s,a)),!0}return!1}function M2(e){var t=Go(e.target);if(t!==null){var r=fA(t);if(r!==null){if(t=r.tag,t===13){if(t=U2(r),t!==null){e.blockedOn=t,$2(e.priority,function(){D2(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function qh(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Om(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var s=new r.constructor(r.type,r);km=s,r.target.dispatchEvent(s),km=null}else return t=nd(r),t!==null&&vx(t),e.blockedOn=r,!1;t.shift()}return!0}function aw(e,t,r){qh(e)&&r.delete(t)}function W4(){Rm=!1,no!==null&&qh(no)&&(no=null),ao!==null&&qh(ao)&&(ao=null),io!==null&&qh(io)&&(io=null),Su.forEach(aw),Eu.forEach(aw)}function Tc(e,t){e.blockedOn===t&&(e.blockedOn=null,Rm||(Rm=!0,En.unstable_scheduleCallback(En.unstable_NormalPriority,W4)))}function Fu(e){function t(a){return Tc(a,e)}if(0<Zd.length){Tc(Zd[0],e);for(var r=1;r<Zd.length;r++){var s=Zd[r];s.blockedOn===e&&(s.blockedOn=null)}}for(no!==null&&Tc(no,e),ao!==null&&Tc(ao,e),io!==null&&Tc(io,e),Su.forEach(t),Eu.forEach(t),r=0;r<Wi.length;r++)s=Wi[r],s.blockedOn===e&&(s.blockedOn=null);for(;0<Wi.length&&(r=Wi[0],r.blockedOn===null);)M2(r),r.blockedOn===null&&Wi.shift()}var Cl=gi.ReactCurrentBatchConfig,m0=!0;function J4(e,t,r,s){var a=Kt,i=Cl.transition;Cl.transition=null;try{Kt=1,yx(e,t,r,s)}finally{Kt=a,Cl.transition=i}}function X4(e,t,r,s){var a=Kt,i=Cl.transition;Cl.transition=null;try{Kt=4,yx(e,t,r,s)}finally{Kt=a,Cl.transition=i}}function yx(e,t,r,s){if(m0){var a=Om(e,t,r,s);if(a===null)jp(e,t,s,g0,r),nw(e,s);else if(G4(a,e,t,r,s))s.stopPropagation();else if(nw(e,s),t&4&&-1<q4.indexOf(e)){for(;a!==null;){var i=nd(a);if(i!==null&&O2(i),i=Om(e,t,r,s),i===null&&jp(e,t,s,g0,r),i===a)break;a=i}a!==null&&s.stopPropagation()}else jp(e,t,s,null,r)}}var g0=null;function Om(e,t,r,s){if(g0=null,e=xx(s),e=Go(e),e!==null)if(t=fA(e),t===null)e=null;else if(r=t.tag,r===13){if(e=U2(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return g0=e,null}function K2(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(R4()){case bx:return 1;case L2:return 4;case f0:case O4:return 16;case T2:return 536870912;default:return 16}default:return 16}}var Yi=null,Bx=null,Gh=null;function V2(){if(Gh)return Gh;var e,t=Bx,r=t.length,s,a="value"in Yi?Yi.value:Yi.textContent,i=a.length;for(e=0;e<r&&t[e]===a[e];e++);var o=r-e;for(s=1;s<=o&&t[r-s]===a[i-s];s++);return Gh=a.slice(e,1<s?1-s:void 0)}function Wh(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function eh(){return!0}function iw(){return!1}function Un(e){function t(r,s,a,i,o){this._reactName=r,this._targetInst=a,this.type=s,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var A in e)e.hasOwnProperty(A)&&(r=e[A],this[A]=r?r(i):i[A]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?eh:iw,this.isPropagationStopped=iw,this}return mr(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=eh)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=eh)},persist:function(){},isPersistent:eh}),t}var ql={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Nx=Un(ql),sd=mr({},ql,{view:0,detail:0}),Y4=Un(sd),mp,gp,Pc,rf=mr({},sd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:jx,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Pc&&(Pc&&e.type==="mousemove"?(mp=e.screenX-Pc.screenX,gp=e.screenY-Pc.screenY):gp=mp=0,Pc=e),mp)},movementY:function(e){return"movementY"in e?e.movementY:gp}}),ow=Un(rf),Z4=mr({},rf,{dataTransfer:0}),ej=Un(Z4),tj=mr({},sd,{relatedTarget:0}),xp=Un(tj),rj=mr({},ql,{animationName:0,elapsedTime:0,pseudoElement:0}),sj=Un(rj),nj=mr({},ql,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),aj=Un(nj),ij=mr({},ql,{data:0}),Aw=Un(ij),oj={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Aj={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},lj={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function cj(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=lj[e])?!!t[e]:!1}function jx(){return cj}var uj=mr({},sd,{key:function(e){if(e.key){var t=oj[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Wh(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Aj[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:jx,charCode:function(e){return e.type==="keypress"?Wh(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Wh(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),dj=Un(uj),hj=mr({},rf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),lw=Un(hj),fj=mr({},sd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:jx}),pj=Un(fj),mj=mr({},ql,{propertyName:0,elapsedTime:0,pseudoElement:0}),gj=Un(mj),xj=mr({},rf,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),bj=Un(xj),wj=[9,13,27,32],Cx=ui&&"CompositionEvent"in window,cu=null;ui&&"documentMode"in document&&(cu=document.documentMode);var vj=ui&&"TextEvent"in window&&!cu,z2=ui&&(!Cx||cu&&8<cu&&11>=cu),cw=" ",uw=!1;function q2(e,t){switch(e){case"keyup":return wj.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function G2(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ll=!1;function yj(e,t){switch(e){case"compositionend":return G2(t);case"keypress":return t.which!==32?null:(uw=!0,cw);case"textInput":return e=t.data,e===cw&&uw?null:e;default:return null}}function Bj(e,t){if(ll)return e==="compositionend"||!Cx&&q2(e,t)?(e=V2(),Gh=Bx=Yi=null,ll=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return z2&&t.locale!=="ko"?null:t.data;default:return null}}var Nj={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function dw(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Nj[e.type]:t==="textarea"}function W2(e,t,r,s){C2(s),t=x0(t,"onChange"),0<t.length&&(r=new Nx("onChange","change",null,r,s),e.push({event:r,listeners:t}))}var uu=null,Uu=null;function jj(e){i5(e,0)}function sf(e){var t=dl(e);if(b2(t))return e}function Cj(e,t){if(e==="change")return t}var J2=!1;if(ui){var bp;if(ui){var wp="oninput"in document;if(!wp){var hw=document.createElement("div");hw.setAttribute("oninput","return;"),wp=typeof hw.oninput=="function"}bp=wp}else bp=!1;J2=bp&&(!document.documentMode||9<document.documentMode)}function fw(){uu&&(uu.detachEvent("onpropertychange",X2),Uu=uu=null)}function X2(e){if(e.propertyName==="value"&&sf(Uu)){var t=[];W2(t,Uu,e,xx(e)),F2(jj,t)}}function _j(e,t,r){e==="focusin"?(fw(),uu=t,Uu=r,uu.attachEvent("onpropertychange",X2)):e==="focusout"&&fw()}function Sj(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return sf(Uu)}function Ej(e,t){if(e==="click")return sf(t)}function Fj(e,t){if(e==="input"||e==="change")return sf(t)}function Uj(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ya=typeof Object.is=="function"?Object.is:Uj;function Qu(e,t){if(ya(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),s=Object.keys(t);if(r.length!==s.length)return!1;for(s=0;s<r.length;s++){var a=r[s];if(!vm.call(t,a)||!ya(e[a],t[a]))return!1}return!0}function pw(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function mw(e,t){var r=pw(e);e=0;for(var s;r;){if(r.nodeType===3){if(s=e+r.textContent.length,e<=t&&s>=t)return{node:r,offset:t-e};e=s}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=pw(r)}}function Y2(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Y2(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Z2(){for(var e=window,t=u0();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=u0(e.document)}return t}function _x(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Qj(e){var t=Z2(),r=e.focusedElem,s=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&Y2(r.ownerDocument.documentElement,r)){if(s!==null&&_x(r)){if(t=s.start,e=s.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,i=Math.min(s.start,a);s=s.end===void 0?i:Math.min(s.end,a),!e.extend&&i>s&&(a=s,s=i,i=a),a=mw(r,i);var o=mw(r,s);a&&o&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),i>s?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var kj=ui&&"documentMode"in document&&11>=document.documentMode,cl=null,Dm=null,du=null,Hm=!1;function gw(e,t,r){var s=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Hm||cl==null||cl!==u0(s)||(s=cl,"selectionStart"in s&&_x(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),du&&Qu(du,s)||(du=s,s=x0(Dm,"onSelect"),0<s.length&&(t=new Nx("onSelect","select",null,t,r),e.push({event:t,listeners:s}),t.target=cl)))}function th(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var ul={animationend:th("Animation","AnimationEnd"),animationiteration:th("Animation","AnimationIteration"),animationstart:th("Animation","AnimationStart"),transitionend:th("Transition","TransitionEnd")},vp={},e5={};ui&&(e5=document.createElement("div").style,"AnimationEvent"in window||(delete ul.animationend.animation,delete ul.animationiteration.animation,delete ul.animationstart.animation),"TransitionEvent"in window||delete ul.transitionend.transition);function nf(e){if(vp[e])return vp[e];if(!ul[e])return e;var t=ul[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in e5)return vp[e]=t[r];return e}var t5=nf("animationend"),r5=nf("animationiteration"),s5=nf("animationstart"),n5=nf("transitionend"),a5=new Map,xw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function wo(e,t){a5.set(e,t),hA(t,[e])}for(var yp=0;yp<xw.length;yp++){var Bp=xw[yp],Ij=Bp.toLowerCase(),Lj=Bp[0].toUpperCase()+Bp.slice(1);wo(Ij,"on"+Lj)}wo(t5,"onAnimationEnd");wo(r5,"onAnimationIteration");wo(s5,"onAnimationStart");wo("dblclick","onDoubleClick");wo("focusin","onFocus");wo("focusout","onBlur");wo(n5,"onTransitionEnd");Pl("onMouseEnter",["mouseout","mouseover"]);Pl("onMouseLeave",["mouseout","mouseover"]);Pl("onPointerEnter",["pointerout","pointerover"]);Pl("onPointerLeave",["pointerout","pointerover"]);hA("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));hA("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));hA("onBeforeInput",["compositionend","keypress","textInput","paste"]);hA("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));hA("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));hA("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Zc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Tj=new Set("cancel close invalid load scroll toggle".split(" ").concat(Zc));function bw(e,t,r){var s=e.type||"unknown-event";e.currentTarget=r,I4(s,t,void 0,e),e.currentTarget=null}function i5(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var s=e[r],a=s.event;s=s.listeners;e:{var i=void 0;if(t)for(var o=s.length-1;0<=o;o--){var A=s[o],l=A.instance,c=A.currentTarget;if(A=A.listener,l!==i&&a.isPropagationStopped())break e;bw(a,A,c),i=l}else for(o=0;o<s.length;o++){if(A=s[o],l=A.instance,c=A.currentTarget,A=A.listener,l!==i&&a.isPropagationStopped())break e;bw(a,A,c),i=l}}}if(h0)throw e=Tm,h0=!1,Tm=null,e}function nr(e,t){var r=t[zm];r===void 0&&(r=t[zm]=new Set);var s=e+"__bubble";r.has(s)||(o5(t,e,2,!1),r.add(s))}function Np(e,t,r){var s=0;t&&(s|=4),o5(r,e,s,t)}var rh="_reactListening"+Math.random().toString(36).slice(2);function ku(e){if(!e[rh]){e[rh]=!0,f2.forEach(function(r){r!=="selectionchange"&&(Tj.has(r)||Np(r,!1,e),Np(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[rh]||(t[rh]=!0,Np("selectionchange",!1,t))}}function o5(e,t,r,s){switch(K2(t)){case 1:var a=J4;break;case 4:a=X4;break;default:a=yx}r=a.bind(null,t,r,e),a=void 0,!Lm||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),s?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function jp(e,t,r,s,a){var i=s;if(!(t&1)&&!(t&2)&&s!==null)e:for(;;){if(s===null)return;var o=s.tag;if(o===3||o===4){var A=s.stateNode.containerInfo;if(A===a||A.nodeType===8&&A.parentNode===a)break;if(o===4)for(o=s.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===a||l.nodeType===8&&l.parentNode===a))return;o=o.return}for(;A!==null;){if(o=Go(A),o===null)return;if(l=o.tag,l===5||l===6){s=i=o;continue e}A=A.parentNode}}s=s.return}F2(function(){var c=i,d=xx(r),f=[];e:{var m=a5.get(e);if(m!==void 0){var h=Nx,v=e;switch(e){case"keypress":if(Wh(r)===0)break e;case"keydown":case"keyup":h=dj;break;case"focusin":v="focus",h=xp;break;case"focusout":v="blur",h=xp;break;case"beforeblur":case"afterblur":h=xp;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=ow;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=ej;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=pj;break;case t5:case r5:case s5:h=sj;break;case n5:h=gj;break;case"scroll":h=Y4;break;case"wheel":h=bj;break;case"copy":case"cut":case"paste":h=aj;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=lw}var b=(t&4)!==0,N=!b&&e==="scroll",w=b?m!==null?m+"Capture":null:m;b=[];for(var x=c,B;x!==null;){B=x;var C=B.stateNode;if(B.tag===5&&C!==null&&(B=C,w!==null&&(C=_u(x,w),C!=null&&b.push(Iu(x,C,B)))),N)break;x=x.return}0<b.length&&(m=new h(m,v,null,r,d),f.push({event:m,listeners:b}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",h=e==="mouseout"||e==="pointerout",m&&r!==km&&(v=r.relatedTarget||r.fromElement)&&(Go(v)||v[di]))break e;if((h||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,h?(v=r.relatedTarget||r.toElement,h=c,v=v?Go(v):null,v!==null&&(N=fA(v),v!==N||v.tag!==5&&v.tag!==6)&&(v=null)):(h=null,v=c),h!==v)){if(b=ow,C="onMouseLeave",w="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(b=lw,C="onPointerLeave",w="onPointerEnter",x="pointer"),N=h==null?m:dl(h),B=v==null?m:dl(v),m=new b(C,x+"leave",h,r,d),m.target=N,m.relatedTarget=B,C=null,Go(d)===c&&(b=new b(w,x+"enter",v,r,d),b.target=B,b.relatedTarget=N,C=b),N=C,h&&v)t:{for(b=h,w=v,x=0,B=b;B;B=OA(B))x++;for(B=0,C=w;C;C=OA(C))B++;for(;0<x-B;)b=OA(b),x--;for(;0<B-x;)w=OA(w),B--;for(;x--;){if(b===w||w!==null&&b===w.alternate)break t;b=OA(b),w=OA(w)}b=null}else b=null;h!==null&&ww(f,m,h,b,!1),v!==null&&N!==null&&ww(f,N,v,b,!0)}}e:{if(m=c?dl(c):window,h=m.nodeName&&m.nodeName.toLowerCase(),h==="select"||h==="input"&&m.type==="file")var E=Cj;else if(dw(m))if(J2)E=Fj;else{E=Sj;var S=_j}else(h=m.nodeName)&&h.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(E=Ej);if(E&&(E=E(e,c))){W2(f,E,r,d);break e}S&&S(e,m,c),e==="focusout"&&(S=m._wrapperState)&&S.controlled&&m.type==="number"&&Sm(m,"number",m.value)}switch(S=c?dl(c):window,e){case"focusin":(dw(S)||S.contentEditable==="true")&&(cl=S,Dm=c,du=null);break;case"focusout":du=Dm=cl=null;break;case"mousedown":Hm=!0;break;case"contextmenu":case"mouseup":case"dragend":Hm=!1,gw(f,r,d);break;case"selectionchange":if(kj)break;case"keydown":case"keyup":gw(f,r,d)}var D;if(Cx)e:{switch(e){case"compositionstart":var R="onCompositionStart";break e;case"compositionend":R="onCompositionEnd";break e;case"compositionupdate":R="onCompositionUpdate";break e}R=void 0}else ll?q2(e,r)&&(R="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(R="onCompositionStart");R&&(z2&&r.locale!=="ko"&&(ll||R!=="onCompositionStart"?R==="onCompositionEnd"&&ll&&(D=V2()):(Yi=d,Bx="value"in Yi?Yi.value:Yi.textContent,ll=!0)),S=x0(c,R),0<S.length&&(R=new Aw(R,e,null,r,d),f.push({event:R,listeners:S}),D?R.data=D:(D=G2(r),D!==null&&(R.data=D)))),(D=vj?yj(e,r):Bj(e,r))&&(c=x0(c,"onBeforeInput"),0<c.length&&(d=new Aw("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:c}),d.data=D))}i5(f,t)})}function Iu(e,t,r){return{instance:e,listener:t,currentTarget:r}}function x0(e,t){for(var r=t+"Capture",s=[];e!==null;){var a=e,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=_u(e,r),i!=null&&s.unshift(Iu(e,i,a)),i=_u(e,t),i!=null&&s.push(Iu(e,i,a))),e=e.return}return s}function OA(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function ww(e,t,r,s,a){for(var i=t._reactName,o=[];r!==null&&r!==s;){var A=r,l=A.alternate,c=A.stateNode;if(l!==null&&l===s)break;A.tag===5&&c!==null&&(A=c,a?(l=_u(r,i),l!=null&&o.unshift(Iu(r,l,A))):a||(l=_u(r,i),l!=null&&o.push(Iu(r,l,A)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var Pj=/\r\n?/g,Rj=/\u0000|\uFFFD/g;function vw(e){return(typeof e=="string"?e:""+e).replace(Pj,`
`).replace(Rj,"")}function sh(e,t,r){if(t=vw(t),vw(e)!==t&&r)throw Error(Le(425))}function b0(){}var $m=null,Mm=null;function Km(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Vm=typeof setTimeout=="function"?setTimeout:void 0,Oj=typeof clearTimeout=="function"?clearTimeout:void 0,yw=typeof Promise=="function"?Promise:void 0,Dj=typeof queueMicrotask=="function"?queueMicrotask:typeof yw<"u"?function(e){return yw.resolve(null).then(e).catch(Hj)}:Vm;function Hj(e){setTimeout(function(){throw e})}function Cp(e,t){var r=t,s=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(s===0){e.removeChild(a),Fu(t);return}s--}else r!=="$"&&r!=="$?"&&r!=="$!"||s++;r=a}while(r);Fu(t)}function oo(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Bw(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Gl=Math.random().toString(36).slice(2),Ra="__reactFiber$"+Gl,Lu="__reactProps$"+Gl,di="__reactContainer$"+Gl,zm="__reactEvents$"+Gl,$j="__reactListeners$"+Gl,Mj="__reactHandles$"+Gl;function Go(e){var t=e[Ra];if(t)return t;for(var r=e.parentNode;r;){if(t=r[di]||r[Ra]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Bw(e);e!==null;){if(r=e[Ra])return r;e=Bw(e)}return t}e=r,r=e.parentNode}return null}function nd(e){return e=e[Ra]||e[di],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function dl(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Le(33))}function af(e){return e[Lu]||null}var qm=[],hl=-1;function vo(e){return{current:e}}function ir(e){0>hl||(e.current=qm[hl],qm[hl]=null,hl--)}function sr(e,t){hl++,qm[hl]=e.current,e.current=t}var mo={},ks=vo(mo),ln=vo(!1),aA=mo;function Rl(e,t){var r=e.type.contextTypes;if(!r)return mo;var s=e.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===t)return s.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in r)a[i]=t[i];return s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function cn(e){return e=e.childContextTypes,e!=null}function w0(){ir(ln),ir(ks)}function Nw(e,t,r){if(ks.current!==mo)throw Error(Le(168));sr(ks,t),sr(ln,r)}function A5(e,t,r){var s=e.stateNode;if(t=t.childContextTypes,typeof s.getChildContext!="function")return r;s=s.getChildContext();for(var a in s)if(!(a in t))throw Error(Le(108,_4(e)||"Unknown",a));return mr({},r,s)}function v0(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||mo,aA=ks.current,sr(ks,e),sr(ln,ln.current),!0}function jw(e,t,r){var s=e.stateNode;if(!s)throw Error(Le(169));r?(e=A5(e,t,aA),s.__reactInternalMemoizedMergedChildContext=e,ir(ln),ir(ks),sr(ks,e)):ir(ln),sr(ln,r)}var ii=null,of=!1,_p=!1;function l5(e){ii===null?ii=[e]:ii.push(e)}function Kj(e){of=!0,l5(e)}function yo(){if(!_p&&ii!==null){_p=!0;var e=0,t=Kt;try{var r=ii;for(Kt=1;e<r.length;e++){var s=r[e];do s=s(!0);while(s!==null)}ii=null,of=!1}catch(a){throw ii!==null&&(ii=ii.slice(e+1)),I2(bx,yo),a}finally{Kt=t,_p=!1}}return null}var fl=[],pl=0,y0=null,B0=0,Mn=[],Kn=0,iA=null,oi=1,Ai="";function Oo(e,t){fl[pl++]=B0,fl[pl++]=y0,y0=e,B0=t}function c5(e,t,r){Mn[Kn++]=oi,Mn[Kn++]=Ai,Mn[Kn++]=iA,iA=e;var s=oi;e=Ai;var a=32-wa(s)-1;s&=~(1<<a),r+=1;var i=32-wa(t)+a;if(30<i){var o=a-a%5;i=(s&(1<<o)-1).toString(32),s>>=o,a-=o,oi=1<<32-wa(t)+a|r<<a|s,Ai=i+e}else oi=1<<i|r<<a|s,Ai=e}function Sx(e){e.return!==null&&(Oo(e,1),c5(e,1,0))}function Ex(e){for(;e===y0;)y0=fl[--pl],fl[pl]=null,B0=fl[--pl],fl[pl]=null;for(;e===iA;)iA=Mn[--Kn],Mn[Kn]=null,Ai=Mn[--Kn],Mn[Kn]=null,oi=Mn[--Kn],Mn[Kn]=null}var Sn=null,Cn=null,cr=!1,ba=null;function u5(e,t){var r=zn(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Cw(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Sn=e,Cn=oo(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Sn=e,Cn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=iA!==null?{id:oi,overflow:Ai}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=zn(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Sn=e,Cn=null,!0):!1;default:return!1}}function Gm(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Wm(e){if(cr){var t=Cn;if(t){var r=t;if(!Cw(e,t)){if(Gm(e))throw Error(Le(418));t=oo(r.nextSibling);var s=Sn;t&&Cw(e,t)?u5(s,r):(e.flags=e.flags&-4097|2,cr=!1,Sn=e)}}else{if(Gm(e))throw Error(Le(418));e.flags=e.flags&-4097|2,cr=!1,Sn=e}}}function _w(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Sn=e}function nh(e){if(e!==Sn)return!1;if(!cr)return _w(e),cr=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Km(e.type,e.memoizedProps)),t&&(t=Cn)){if(Gm(e))throw d5(),Error(Le(418));for(;t;)u5(e,t),t=oo(t.nextSibling)}if(_w(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Le(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Cn=oo(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Cn=null}}else Cn=Sn?oo(e.stateNode.nextSibling):null;return!0}function d5(){for(var e=Cn;e;)e=oo(e.nextSibling)}function Ol(){Cn=Sn=null,cr=!1}function Fx(e){ba===null?ba=[e]:ba.push(e)}var Vj=gi.ReactCurrentBatchConfig;function Rc(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Le(309));var s=r.stateNode}if(!s)throw Error(Le(147,e));var a=s,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var A=a.refs;o===null?delete A[i]:A[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(Le(284));if(!r._owner)throw Error(Le(290,e))}return e}function ah(e,t){throw e=Object.prototype.toString.call(t),Error(Le(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Sw(e){var t=e._init;return t(e._payload)}function h5(e){function t(w,x){if(e){var B=w.deletions;B===null?(w.deletions=[x],w.flags|=16):B.push(x)}}function r(w,x){if(!e)return null;for(;x!==null;)t(w,x),x=x.sibling;return null}function s(w,x){for(w=new Map;x!==null;)x.key!==null?w.set(x.key,x):w.set(x.index,x),x=x.sibling;return w}function a(w,x){return w=uo(w,x),w.index=0,w.sibling=null,w}function i(w,x,B){return w.index=B,e?(B=w.alternate,B!==null?(B=B.index,B<x?(w.flags|=2,x):B):(w.flags|=2,x)):(w.flags|=1048576,x)}function o(w){return e&&w.alternate===null&&(w.flags|=2),w}function A(w,x,B,C){return x===null||x.tag!==6?(x=Ip(B,w.mode,C),x.return=w,x):(x=a(x,B),x.return=w,x)}function l(w,x,B,C){var E=B.type;return E===Al?d(w,x,B.props.children,C,B.key):x!==null&&(x.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Vi&&Sw(E)===x.type)?(C=a(x,B.props),C.ref=Rc(w,x,B),C.return=w,C):(C=r0(B.type,B.key,B.props,null,w.mode,C),C.ref=Rc(w,x,B),C.return=w,C)}function c(w,x,B,C){return x===null||x.tag!==4||x.stateNode.containerInfo!==B.containerInfo||x.stateNode.implementation!==B.implementation?(x=Lp(B,w.mode,C),x.return=w,x):(x=a(x,B.children||[]),x.return=w,x)}function d(w,x,B,C,E){return x===null||x.tag!==7?(x=eA(B,w.mode,C,E),x.return=w,x):(x=a(x,B),x.return=w,x)}function f(w,x,B){if(typeof x=="string"&&x!==""||typeof x=="number")return x=Ip(""+x,w.mode,B),x.return=w,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Gd:return B=r0(x.type,x.key,x.props,null,w.mode,B),B.ref=Rc(w,null,x),B.return=w,B;case ol:return x=Lp(x,w.mode,B),x.return=w,x;case Vi:var C=x._init;return f(w,C(x._payload),B)}if(Xc(x)||kc(x))return x=eA(x,w.mode,B,null),x.return=w,x;ah(w,x)}return null}function m(w,x,B,C){var E=x!==null?x.key:null;if(typeof B=="string"&&B!==""||typeof B=="number")return E!==null?null:A(w,x,""+B,C);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case Gd:return B.key===E?l(w,x,B,C):null;case ol:return B.key===E?c(w,x,B,C):null;case Vi:return E=B._init,m(w,x,E(B._payload),C)}if(Xc(B)||kc(B))return E!==null?null:d(w,x,B,C,null);ah(w,B)}return null}function h(w,x,B,C,E){if(typeof C=="string"&&C!==""||typeof C=="number")return w=w.get(B)||null,A(x,w,""+C,E);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case Gd:return w=w.get(C.key===null?B:C.key)||null,l(x,w,C,E);case ol:return w=w.get(C.key===null?B:C.key)||null,c(x,w,C,E);case Vi:var S=C._init;return h(w,x,B,S(C._payload),E)}if(Xc(C)||kc(C))return w=w.get(B)||null,d(x,w,C,E,null);ah(x,C)}return null}function v(w,x,B,C){for(var E=null,S=null,D=x,R=x=0,W=null;D!==null&&R<B.length;R++){D.index>R?(W=D,D=null):W=D.sibling;var ne=m(w,D,B[R],C);if(ne===null){D===null&&(D=W);break}e&&D&&ne.alternate===null&&t(w,D),x=i(ne,x,R),S===null?E=ne:S.sibling=ne,S=ne,D=W}if(R===B.length)return r(w,D),cr&&Oo(w,R),E;if(D===null){for(;R<B.length;R++)D=f(w,B[R],C),D!==null&&(x=i(D,x,R),S===null?E=D:S.sibling=D,S=D);return cr&&Oo(w,R),E}for(D=s(w,D);R<B.length;R++)W=h(D,w,R,B[R],C),W!==null&&(e&&W.alternate!==null&&D.delete(W.key===null?R:W.key),x=i(W,x,R),S===null?E=W:S.sibling=W,S=W);return e&&D.forEach(function(k){return t(w,k)}),cr&&Oo(w,R),E}function b(w,x,B,C){var E=kc(B);if(typeof E!="function")throw Error(Le(150));if(B=E.call(B),B==null)throw Error(Le(151));for(var S=E=null,D=x,R=x=0,W=null,ne=B.next();D!==null&&!ne.done;R++,ne=B.next()){D.index>R?(W=D,D=null):W=D.sibling;var k=m(w,D,ne.value,C);if(k===null){D===null&&(D=W);break}e&&D&&k.alternate===null&&t(w,D),x=i(k,x,R),S===null?E=k:S.sibling=k,S=k,D=W}if(ne.done)return r(w,D),cr&&Oo(w,R),E;if(D===null){for(;!ne.done;R++,ne=B.next())ne=f(w,ne.value,C),ne!==null&&(x=i(ne,x,R),S===null?E=ne:S.sibling=ne,S=ne);return cr&&Oo(w,R),E}for(D=s(w,D);!ne.done;R++,ne=B.next())ne=h(D,w,R,ne.value,C),ne!==null&&(e&&ne.alternate!==null&&D.delete(ne.key===null?R:ne.key),x=i(ne,x,R),S===null?E=ne:S.sibling=ne,S=ne);return e&&D.forEach(function(L){return t(w,L)}),cr&&Oo(w,R),E}function N(w,x,B,C){if(typeof B=="object"&&B!==null&&B.type===Al&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case Gd:e:{for(var E=B.key,S=x;S!==null;){if(S.key===E){if(E=B.type,E===Al){if(S.tag===7){r(w,S.sibling),x=a(S,B.props.children),x.return=w,w=x;break e}}else if(S.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Vi&&Sw(E)===S.type){r(w,S.sibling),x=a(S,B.props),x.ref=Rc(w,S,B),x.return=w,w=x;break e}r(w,S);break}else t(w,S);S=S.sibling}B.type===Al?(x=eA(B.props.children,w.mode,C,B.key),x.return=w,w=x):(C=r0(B.type,B.key,B.props,null,w.mode,C),C.ref=Rc(w,x,B),C.return=w,w=C)}return o(w);case ol:e:{for(S=B.key;x!==null;){if(x.key===S)if(x.tag===4&&x.stateNode.containerInfo===B.containerInfo&&x.stateNode.implementation===B.implementation){r(w,x.sibling),x=a(x,B.children||[]),x.return=w,w=x;break e}else{r(w,x);break}else t(w,x);x=x.sibling}x=Lp(B,w.mode,C),x.return=w,w=x}return o(w);case Vi:return S=B._init,N(w,x,S(B._payload),C)}if(Xc(B))return v(w,x,B,C);if(kc(B))return b(w,x,B,C);ah(w,B)}return typeof B=="string"&&B!==""||typeof B=="number"?(B=""+B,x!==null&&x.tag===6?(r(w,x.sibling),x=a(x,B),x.return=w,w=x):(r(w,x),x=Ip(B,w.mode,C),x.return=w,w=x),o(w)):r(w,x)}return N}var Dl=h5(!0),f5=h5(!1),N0=vo(null),j0=null,ml=null,Ux=null;function Qx(){Ux=ml=j0=null}function kx(e){var t=N0.current;ir(N0),e._currentValue=t}function Jm(e,t,r){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===r)break;e=e.return}}function _l(e,t){j0=e,Ux=ml=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(An=!0),e.firstContext=null)}function Xn(e){var t=e._currentValue;if(Ux!==e)if(e={context:e,memoizedValue:t,next:null},ml===null){if(j0===null)throw Error(Le(308));ml=e,j0.dependencies={lanes:0,firstContext:e}}else ml=ml.next=e;return t}var Wo=null;function Ix(e){Wo===null?Wo=[e]:Wo.push(e)}function p5(e,t,r,s){var a=t.interleaved;return a===null?(r.next=r,Ix(t)):(r.next=a.next,a.next=r),t.interleaved=r,hi(e,s)}function hi(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var zi=!1;function Lx(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function m5(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function li(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ao(e,t,r){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,It&2){var a=s.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),s.pending=t,hi(e,r)}return a=s.interleaved,a===null?(t.next=t,Ix(s)):(t.next=a.next,a.next=t),s.interleaved=t,hi(e,r)}function Jh(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var s=t.lanes;s&=e.pendingLanes,r|=s,t.lanes=r,wx(e,r)}}function Ew(e,t){var r=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,r===s)){var a=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?a=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?a=i=t:i=i.next=t}else a=i=t;r={baseState:s.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:s.shared,effects:s.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function C0(e,t,r,s){var a=e.updateQueue;zi=!1;var i=a.firstBaseUpdate,o=a.lastBaseUpdate,A=a.shared.pending;if(A!==null){a.shared.pending=null;var l=A,c=l.next;l.next=null,o===null?i=c:o.next=c,o=l;var d=e.alternate;d!==null&&(d=d.updateQueue,A=d.lastBaseUpdate,A!==o&&(A===null?d.firstBaseUpdate=c:A.next=c,d.lastBaseUpdate=l))}if(i!==null){var f=a.baseState;o=0,d=c=l=null,A=i;do{var m=A.lane,h=A.eventTime;if((s&m)===m){d!==null&&(d=d.next={eventTime:h,lane:0,tag:A.tag,payload:A.payload,callback:A.callback,next:null});e:{var v=e,b=A;switch(m=t,h=r,b.tag){case 1:if(v=b.payload,typeof v=="function"){f=v.call(h,f,m);break e}f=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=b.payload,m=typeof v=="function"?v.call(h,f,m):v,m==null)break e;f=mr({},f,m);break e;case 2:zi=!0}}A.callback!==null&&A.lane!==0&&(e.flags|=64,m=a.effects,m===null?a.effects=[A]:m.push(A))}else h={eventTime:h,lane:m,tag:A.tag,payload:A.payload,callback:A.callback,next:null},d===null?(c=d=h,l=f):d=d.next=h,o|=m;if(A=A.next,A===null){if(A=a.shared.pending,A===null)break;m=A,A=m.next,m.next=null,a.lastBaseUpdate=m,a.shared.pending=null}}while(!0);if(d===null&&(l=f),a.baseState=l,a.firstBaseUpdate=c,a.lastBaseUpdate=d,t=a.shared.interleaved,t!==null){a=t;do o|=a.lane,a=a.next;while(a!==t)}else i===null&&(a.shared.lanes=0);AA|=o,e.lanes=o,e.memoizedState=f}}function Fw(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var s=e[t],a=s.callback;if(a!==null){if(s.callback=null,s=r,typeof a!="function")throw Error(Le(191,a));a.call(s)}}}var ad={},Ha=vo(ad),Tu=vo(ad),Pu=vo(ad);function Jo(e){if(e===ad)throw Error(Le(174));return e}function Tx(e,t){switch(sr(Pu,t),sr(Tu,e),sr(Ha,ad),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Fm(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Fm(t,e)}ir(Ha),sr(Ha,t)}function Hl(){ir(Ha),ir(Tu),ir(Pu)}function g5(e){Jo(Pu.current);var t=Jo(Ha.current),r=Fm(t,e.type);t!==r&&(sr(Tu,e),sr(Ha,r))}function Px(e){Tu.current===e&&(ir(Ha),ir(Tu))}var hr=vo(0);function _0(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Sp=[];function Rx(){for(var e=0;e<Sp.length;e++)Sp[e]._workInProgressVersionPrimary=null;Sp.length=0}var Xh=gi.ReactCurrentDispatcher,Ep=gi.ReactCurrentBatchConfig,oA=0,fr=null,Gr=null,ns=null,S0=!1,hu=!1,Ru=0,zj=0;function Bs(){throw Error(Le(321))}function Ox(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!ya(e[r],t[r]))return!1;return!0}function Dx(e,t,r,s,a,i){if(oA=i,fr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Xh.current=e===null||e.memoizedState===null?Jj:Xj,e=r(s,a),hu){i=0;do{if(hu=!1,Ru=0,25<=i)throw Error(Le(301));i+=1,ns=Gr=null,t.updateQueue=null,Xh.current=Yj,e=r(s,a)}while(hu)}if(Xh.current=E0,t=Gr!==null&&Gr.next!==null,oA=0,ns=Gr=fr=null,S0=!1,t)throw Error(Le(300));return e}function Hx(){var e=Ru!==0;return Ru=0,e}function Pa(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ns===null?fr.memoizedState=ns=e:ns=ns.next=e,ns}function Yn(){if(Gr===null){var e=fr.alternate;e=e!==null?e.memoizedState:null}else e=Gr.next;var t=ns===null?fr.memoizedState:ns.next;if(t!==null)ns=t,Gr=e;else{if(e===null)throw Error(Le(310));Gr=e,e={memoizedState:Gr.memoizedState,baseState:Gr.baseState,baseQueue:Gr.baseQueue,queue:Gr.queue,next:null},ns===null?fr.memoizedState=ns=e:ns=ns.next=e}return ns}function Ou(e,t){return typeof t=="function"?t(e):t}function Fp(e){var t=Yn(),r=t.queue;if(r===null)throw Error(Le(311));r.lastRenderedReducer=e;var s=Gr,a=s.baseQueue,i=r.pending;if(i!==null){if(a!==null){var o=a.next;a.next=i.next,i.next=o}s.baseQueue=a=i,r.pending=null}if(a!==null){i=a.next,s=s.baseState;var A=o=null,l=null,c=i;do{var d=c.lane;if((oA&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),s=c.hasEagerState?c.eagerState:e(s,c.action);else{var f={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(A=l=f,o=s):l=l.next=f,fr.lanes|=d,AA|=d}c=c.next}while(c!==null&&c!==i);l===null?o=s:l.next=A,ya(s,t.memoizedState)||(An=!0),t.memoizedState=s,t.baseState=o,t.baseQueue=l,r.lastRenderedState=s}if(e=r.interleaved,e!==null){a=e;do i=a.lane,fr.lanes|=i,AA|=i,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Up(e){var t=Yn(),r=t.queue;if(r===null)throw Error(Le(311));r.lastRenderedReducer=e;var s=r.dispatch,a=r.pending,i=t.memoizedState;if(a!==null){r.pending=null;var o=a=a.next;do i=e(i,o.action),o=o.next;while(o!==a);ya(i,t.memoizedState)||(An=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,s]}function x5(){}function b5(e,t){var r=fr,s=Yn(),a=t(),i=!ya(s.memoizedState,a);if(i&&(s.memoizedState=a,An=!0),s=s.queue,$x(y5.bind(null,r,s,e),[e]),s.getSnapshot!==t||i||ns!==null&&ns.memoizedState.tag&1){if(r.flags|=2048,Du(9,v5.bind(null,r,s,a,t),void 0,null),is===null)throw Error(Le(349));oA&30||w5(r,t,a)}return a}function w5(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=fr.updateQueue,t===null?(t={lastEffect:null,stores:null},fr.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function v5(e,t,r,s){t.value=r,t.getSnapshot=s,B5(t)&&N5(e)}function y5(e,t,r){return r(function(){B5(t)&&N5(e)})}function B5(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!ya(e,r)}catch{return!0}}function N5(e){var t=hi(e,1);t!==null&&va(t,e,1,-1)}function Uw(e){var t=Pa();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ou,lastRenderedState:e},t.queue=e,e=e.dispatch=Wj.bind(null,fr,e),[t.memoizedState,e]}function Du(e,t,r,s){return e={tag:e,create:t,destroy:r,deps:s,next:null},t=fr.updateQueue,t===null?(t={lastEffect:null,stores:null},fr.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(s=r.next,r.next=e,e.next=s,t.lastEffect=e)),e}function j5(){return Yn().memoizedState}function Yh(e,t,r,s){var a=Pa();fr.flags|=e,a.memoizedState=Du(1|t,r,void 0,s===void 0?null:s)}function Af(e,t,r,s){var a=Yn();s=s===void 0?null:s;var i=void 0;if(Gr!==null){var o=Gr.memoizedState;if(i=o.destroy,s!==null&&Ox(s,o.deps)){a.memoizedState=Du(t,r,i,s);return}}fr.flags|=e,a.memoizedState=Du(1|t,r,i,s)}function Qw(e,t){return Yh(8390656,8,e,t)}function $x(e,t){return Af(2048,8,e,t)}function C5(e,t){return Af(4,2,e,t)}function _5(e,t){return Af(4,4,e,t)}function S5(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function E5(e,t,r){return r=r!=null?r.concat([e]):null,Af(4,4,S5.bind(null,t,e),r)}function Mx(){}function F5(e,t){var r=Yn();t=t===void 0?null:t;var s=r.memoizedState;return s!==null&&t!==null&&Ox(t,s[1])?s[0]:(r.memoizedState=[e,t],e)}function U5(e,t){var r=Yn();t=t===void 0?null:t;var s=r.memoizedState;return s!==null&&t!==null&&Ox(t,s[1])?s[0]:(e=e(),r.memoizedState=[e,t],e)}function Q5(e,t,r){return oA&21?(ya(r,t)||(r=P2(),fr.lanes|=r,AA|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,An=!0),e.memoizedState=r)}function qj(e,t){var r=Kt;Kt=r!==0&&4>r?r:4,e(!0);var s=Ep.transition;Ep.transition={};try{e(!1),t()}finally{Kt=r,Ep.transition=s}}function k5(){return Yn().memoizedState}function Gj(e,t,r){var s=co(e);if(r={lane:s,action:r,hasEagerState:!1,eagerState:null,next:null},I5(e))L5(t,r);else if(r=p5(e,t,r,s),r!==null){var a=qs();va(r,e,s,a),T5(r,t,s)}}function Wj(e,t,r){var s=co(e),a={lane:s,action:r,hasEagerState:!1,eagerState:null,next:null};if(I5(e))L5(t,a);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,A=i(o,r);if(a.hasEagerState=!0,a.eagerState=A,ya(A,o)){var l=t.interleaved;l===null?(a.next=a,Ix(t)):(a.next=l.next,l.next=a),t.interleaved=a;return}}catch{}finally{}r=p5(e,t,a,s),r!==null&&(a=qs(),va(r,e,s,a),T5(r,t,s))}}function I5(e){var t=e.alternate;return e===fr||t!==null&&t===fr}function L5(e,t){hu=S0=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function T5(e,t,r){if(r&4194240){var s=t.lanes;s&=e.pendingLanes,r|=s,t.lanes=r,wx(e,r)}}var E0={readContext:Xn,useCallback:Bs,useContext:Bs,useEffect:Bs,useImperativeHandle:Bs,useInsertionEffect:Bs,useLayoutEffect:Bs,useMemo:Bs,useReducer:Bs,useRef:Bs,useState:Bs,useDebugValue:Bs,useDeferredValue:Bs,useTransition:Bs,useMutableSource:Bs,useSyncExternalStore:Bs,useId:Bs,unstable_isNewReconciler:!1},Jj={readContext:Xn,useCallback:function(e,t){return Pa().memoizedState=[e,t===void 0?null:t],e},useContext:Xn,useEffect:Qw,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Yh(4194308,4,S5.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Yh(4194308,4,e,t)},useInsertionEffect:function(e,t){return Yh(4,2,e,t)},useMemo:function(e,t){var r=Pa();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var s=Pa();return t=r!==void 0?r(t):t,s.memoizedState=s.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},s.queue=e,e=e.dispatch=Gj.bind(null,fr,e),[s.memoizedState,e]},useRef:function(e){var t=Pa();return e={current:e},t.memoizedState=e},useState:Uw,useDebugValue:Mx,useDeferredValue:function(e){return Pa().memoizedState=e},useTransition:function(){var e=Uw(!1),t=e[0];return e=qj.bind(null,e[1]),Pa().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var s=fr,a=Pa();if(cr){if(r===void 0)throw Error(Le(407));r=r()}else{if(r=t(),is===null)throw Error(Le(349));oA&30||w5(s,t,r)}a.memoizedState=r;var i={value:r,getSnapshot:t};return a.queue=i,Qw(y5.bind(null,s,i,e),[e]),s.flags|=2048,Du(9,v5.bind(null,s,i,r,t),void 0,null),r},useId:function(){var e=Pa(),t=is.identifierPrefix;if(cr){var r=Ai,s=oi;r=(s&~(1<<32-wa(s)-1)).toString(32)+r,t=":"+t+"R"+r,r=Ru++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=zj++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Xj={readContext:Xn,useCallback:F5,useContext:Xn,useEffect:$x,useImperativeHandle:E5,useInsertionEffect:C5,useLayoutEffect:_5,useMemo:U5,useReducer:Fp,useRef:j5,useState:function(){return Fp(Ou)},useDebugValue:Mx,useDeferredValue:function(e){var t=Yn();return Q5(t,Gr.memoizedState,e)},useTransition:function(){var e=Fp(Ou)[0],t=Yn().memoizedState;return[e,t]},useMutableSource:x5,useSyncExternalStore:b5,useId:k5,unstable_isNewReconciler:!1},Yj={readContext:Xn,useCallback:F5,useContext:Xn,useEffect:$x,useImperativeHandle:E5,useInsertionEffect:C5,useLayoutEffect:_5,useMemo:U5,useReducer:Up,useRef:j5,useState:function(){return Up(Ou)},useDebugValue:Mx,useDeferredValue:function(e){var t=Yn();return Gr===null?t.memoizedState=e:Q5(t,Gr.memoizedState,e)},useTransition:function(){var e=Up(Ou)[0],t=Yn().memoizedState;return[e,t]},useMutableSource:x5,useSyncExternalStore:b5,useId:k5,unstable_isNewReconciler:!1};function fa(e,t){if(e&&e.defaultProps){t=mr({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Xm(e,t,r,s){t=e.memoizedState,r=r(s,t),r=r==null?t:mr({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var lf={isMounted:function(e){return(e=e._reactInternals)?fA(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var s=qs(),a=co(e),i=li(s,a);i.payload=t,r!=null&&(i.callback=r),t=Ao(e,i,a),t!==null&&(va(t,e,a,s),Jh(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var s=qs(),a=co(e),i=li(s,a);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=Ao(e,i,a),t!==null&&(va(t,e,a,s),Jh(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=qs(),s=co(e),a=li(r,s);a.tag=2,t!=null&&(a.callback=t),t=Ao(e,a,s),t!==null&&(va(t,e,s,r),Jh(t,e,s))}};function kw(e,t,r,s,a,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,i,o):t.prototype&&t.prototype.isPureReactComponent?!Qu(r,s)||!Qu(a,i):!0}function P5(e,t,r){var s=!1,a=mo,i=t.contextType;return typeof i=="object"&&i!==null?i=Xn(i):(a=cn(t)?aA:ks.current,s=t.contextTypes,i=(s=s!=null)?Rl(e,a):mo),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=lf,e.stateNode=t,t._reactInternals=e,s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function Iw(e,t,r,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,s),t.state!==e&&lf.enqueueReplaceState(t,t.state,null)}function Ym(e,t,r,s){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},Lx(e);var i=t.contextType;typeof i=="object"&&i!==null?a.context=Xn(i):(i=cn(t)?aA:ks.current,a.context=Rl(e,i)),a.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Xm(e,t,i,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&lf.enqueueReplaceState(a,a.state,null),C0(e,r,a,s),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function $l(e,t){try{var r="",s=t;do r+=C4(s),s=s.return;while(s);var a=r}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:a,digest:null}}function Qp(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Zm(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var Zj=typeof WeakMap=="function"?WeakMap:Map;function R5(e,t,r){r=li(-1,r),r.tag=3,r.payload={element:null};var s=t.value;return r.callback=function(){U0||(U0=!0,lg=s),Zm(e,t)},r}function O5(e,t,r){r=li(-1,r),r.tag=3;var s=e.type.getDerivedStateFromError;if(typeof s=="function"){var a=t.value;r.payload=function(){return s(a)},r.callback=function(){Zm(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){Zm(e,t),typeof s!="function"&&(lo===null?lo=new Set([this]):lo.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function Lw(e,t,r){var s=e.pingCache;if(s===null){s=e.pingCache=new Zj;var a=new Set;s.set(t,a)}else a=s.get(t),a===void 0&&(a=new Set,s.set(t,a));a.has(r)||(a.add(r),e=hC.bind(null,e,t,r),t.then(e,e))}function Tw(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Pw(e,t,r,s,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=li(-1,1),t.tag=2,Ao(r,t,1))),r.lanes|=1),e)}var eC=gi.ReactCurrentOwner,An=!1;function Ks(e,t,r,s){t.child=e===null?f5(t,null,r,s):Dl(t,e.child,r,s)}function Rw(e,t,r,s,a){r=r.render;var i=t.ref;return _l(t,a),s=Dx(e,t,r,s,i,a),r=Hx(),e!==null&&!An?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,fi(e,t,a)):(cr&&r&&Sx(t),t.flags|=1,Ks(e,t,s,a),t.child)}function Ow(e,t,r,s,a){if(e===null){var i=r.type;return typeof i=="function"&&!Xx(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,D5(e,t,i,s,a)):(e=r0(r.type,null,s,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&a)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:Qu,r(o,s)&&e.ref===t.ref)return fi(e,t,a)}return t.flags|=1,e=uo(i,s),e.ref=t.ref,e.return=t,t.child=e}function D5(e,t,r,s,a){if(e!==null){var i=e.memoizedProps;if(Qu(i,s)&&e.ref===t.ref)if(An=!1,t.pendingProps=s=i,(e.lanes&a)!==0)e.flags&131072&&(An=!0);else return t.lanes=e.lanes,fi(e,t,a)}return eg(e,t,r,s,a)}function H5(e,t,r){var s=t.pendingProps,a=s.children,i=e!==null?e.memoizedState:null;if(s.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},sr(xl,Nn),Nn|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,sr(xl,Nn),Nn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=i!==null?i.baseLanes:r,sr(xl,Nn),Nn|=s}else i!==null?(s=i.baseLanes|r,t.memoizedState=null):s=r,sr(xl,Nn),Nn|=s;return Ks(e,t,a,r),t.child}function $5(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function eg(e,t,r,s,a){var i=cn(r)?aA:ks.current;return i=Rl(t,i),_l(t,a),r=Dx(e,t,r,s,i,a),s=Hx(),e!==null&&!An?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,fi(e,t,a)):(cr&&s&&Sx(t),t.flags|=1,Ks(e,t,r,a),t.child)}function Dw(e,t,r,s,a){if(cn(r)){var i=!0;v0(t)}else i=!1;if(_l(t,a),t.stateNode===null)Zh(e,t),P5(t,r,s),Ym(t,r,s,a),s=!0;else if(e===null){var o=t.stateNode,A=t.memoizedProps;o.props=A;var l=o.context,c=r.contextType;typeof c=="object"&&c!==null?c=Xn(c):(c=cn(r)?aA:ks.current,c=Rl(t,c));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(A!==s||l!==c)&&Iw(t,o,s,c),zi=!1;var m=t.memoizedState;o.state=m,C0(t,s,o,a),l=t.memoizedState,A!==s||m!==l||ln.current||zi?(typeof d=="function"&&(Xm(t,r,d,s),l=t.memoizedState),(A=zi||kw(t,r,A,s,m,l,c))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=l),o.props=s,o.state=l,o.context=c,s=A):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{o=t.stateNode,m5(e,t),A=t.memoizedProps,c=t.type===t.elementType?A:fa(t.type,A),o.props=c,f=t.pendingProps,m=o.context,l=r.contextType,typeof l=="object"&&l!==null?l=Xn(l):(l=cn(r)?aA:ks.current,l=Rl(t,l));var h=r.getDerivedStateFromProps;(d=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(A!==f||m!==l)&&Iw(t,o,s,l),zi=!1,m=t.memoizedState,o.state=m,C0(t,s,o,a);var v=t.memoizedState;A!==f||m!==v||ln.current||zi?(typeof h=="function"&&(Xm(t,r,h,s),v=t.memoizedState),(c=zi||kw(t,r,c,s,m,v,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(s,v,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(s,v,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||A===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||A===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=v),o.props=s,o.state=v,o.context=l,s=c):(typeof o.componentDidUpdate!="function"||A===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||A===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),s=!1)}return tg(e,t,r,s,i,a)}function tg(e,t,r,s,a,i){$5(e,t);var o=(t.flags&128)!==0;if(!s&&!o)return a&&jw(t,r,!1),fi(e,t,i);s=t.stateNode,eC.current=t;var A=o&&typeof r.getDerivedStateFromError!="function"?null:s.render();return t.flags|=1,e!==null&&o?(t.child=Dl(t,e.child,null,i),t.child=Dl(t,null,A,i)):Ks(e,t,A,i),t.memoizedState=s.state,a&&jw(t,r,!0),t.child}function M5(e){var t=e.stateNode;t.pendingContext?Nw(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Nw(e,t.context,!1),Tx(e,t.containerInfo)}function Hw(e,t,r,s,a){return Ol(),Fx(a),t.flags|=256,Ks(e,t,r,s),t.child}var rg={dehydrated:null,treeContext:null,retryLane:0};function sg(e){return{baseLanes:e,cachePool:null,transitions:null}}function K5(e,t,r){var s=t.pendingProps,a=hr.current,i=!1,o=(t.flags&128)!==0,A;if((A=o)||(A=e!==null&&e.memoizedState===null?!1:(a&2)!==0),A?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),sr(hr,a&1),e===null)return Wm(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=s.children,e=s.fallback,i?(s=t.mode,i=t.child,o={mode:"hidden",children:o},!(s&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=df(o,s,0,null),e=eA(e,s,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=sg(r),t.memoizedState=rg,e):Kx(t,o));if(a=e.memoizedState,a!==null&&(A=a.dehydrated,A!==null))return tC(e,t,o,s,A,a,r);if(i){i=s.fallback,o=t.mode,a=e.child,A=a.sibling;var l={mode:"hidden",children:s.children};return!(o&1)&&t.child!==a?(s=t.child,s.childLanes=0,s.pendingProps=l,t.deletions=null):(s=uo(a,l),s.subtreeFlags=a.subtreeFlags&14680064),A!==null?i=uo(A,i):(i=eA(i,o,r,null),i.flags|=2),i.return=t,s.return=t,s.sibling=i,t.child=s,s=i,i=t.child,o=e.child.memoizedState,o=o===null?sg(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~r,t.memoizedState=rg,s}return i=e.child,e=i.sibling,s=uo(i,{mode:"visible",children:s.children}),!(t.mode&1)&&(s.lanes=r),s.return=t,s.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=s,t.memoizedState=null,s}function Kx(e,t){return t=df({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ih(e,t,r,s){return s!==null&&Fx(s),Dl(t,e.child,null,r),e=Kx(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function tC(e,t,r,s,a,i,o){if(r)return t.flags&256?(t.flags&=-257,s=Qp(Error(Le(422))),ih(e,t,o,s)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=s.fallback,a=t.mode,s=df({mode:"visible",children:s.children},a,0,null),i=eA(i,a,o,null),i.flags|=2,s.return=t,i.return=t,s.sibling=i,t.child=s,t.mode&1&&Dl(t,e.child,null,o),t.child.memoizedState=sg(o),t.memoizedState=rg,i);if(!(t.mode&1))return ih(e,t,o,null);if(a.data==="$!"){if(s=a.nextSibling&&a.nextSibling.dataset,s)var A=s.dgst;return s=A,i=Error(Le(419)),s=Qp(i,s,void 0),ih(e,t,o,s)}if(A=(o&e.childLanes)!==0,An||A){if(s=is,s!==null){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(s.suspendedLanes|o)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,hi(e,a),va(s,e,a,-1))}return Jx(),s=Qp(Error(Le(421))),ih(e,t,o,s)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=fC.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,Cn=oo(a.nextSibling),Sn=t,cr=!0,ba=null,e!==null&&(Mn[Kn++]=oi,Mn[Kn++]=Ai,Mn[Kn++]=iA,oi=e.id,Ai=e.overflow,iA=t),t=Kx(t,s.children),t.flags|=4096,t)}function $w(e,t,r){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),Jm(e.return,t,r)}function kp(e,t,r,s,a){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:r,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=s,i.tail=r,i.tailMode=a)}function V5(e,t,r){var s=t.pendingProps,a=s.revealOrder,i=s.tail;if(Ks(e,t,s.children,r),s=hr.current,s&2)s=s&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&$w(e,r,t);else if(e.tag===19)$w(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}if(sr(hr,s),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&_0(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),kp(t,!1,a,r,i);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&_0(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}kp(t,!0,r,null,i);break;case"together":kp(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Zh(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function fi(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),AA|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Le(153));if(t.child!==null){for(e=t.child,r=uo(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=uo(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function rC(e,t,r){switch(t.tag){case 3:M5(t),Ol();break;case 5:g5(t);break;case 1:cn(t.type)&&v0(t);break;case 4:Tx(t,t.stateNode.containerInfo);break;case 10:var s=t.type._context,a=t.memoizedProps.value;sr(N0,s._currentValue),s._currentValue=a;break;case 13:if(s=t.memoizedState,s!==null)return s.dehydrated!==null?(sr(hr,hr.current&1),t.flags|=128,null):r&t.child.childLanes?K5(e,t,r):(sr(hr,hr.current&1),e=fi(e,t,r),e!==null?e.sibling:null);sr(hr,hr.current&1);break;case 19:if(s=(r&t.childLanes)!==0,e.flags&128){if(s)return V5(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),sr(hr,hr.current),s)break;return null;case 22:case 23:return t.lanes=0,H5(e,t,r)}return fi(e,t,r)}var z5,ng,q5,G5;z5=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};ng=function(){};q5=function(e,t,r,s){var a=e.memoizedProps;if(a!==s){e=t.stateNode,Jo(Ha.current);var i=null;switch(r){case"input":a=Cm(e,a),s=Cm(e,s),i=[];break;case"select":a=mr({},a,{value:void 0}),s=mr({},s,{value:void 0}),i=[];break;case"textarea":a=Em(e,a),s=Em(e,s),i=[];break;default:typeof a.onClick!="function"&&typeof s.onClick=="function"&&(e.onclick=b0)}Um(r,s);var o;r=null;for(c in a)if(!s.hasOwnProperty(c)&&a.hasOwnProperty(c)&&a[c]!=null)if(c==="style"){var A=a[c];for(o in A)A.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(ju.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in s){var l=s[c];if(A=a!=null?a[c]:void 0,s.hasOwnProperty(c)&&l!==A&&(l!=null||A!=null))if(c==="style")if(A){for(o in A)!A.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in l)l.hasOwnProperty(o)&&A[o]!==l[o]&&(r||(r={}),r[o]=l[o])}else r||(i||(i=[]),i.push(c,r)),r=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,A=A?A.__html:void 0,l!=null&&A!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(ju.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&nr("scroll",e),i||A===l||(i=[])):(i=i||[]).push(c,l))}r&&(i=i||[]).push("style",r);var c=i;(t.updateQueue=c)&&(t.flags|=4)}};G5=function(e,t,r,s){r!==s&&(t.flags|=4)};function Oc(e,t){if(!cr)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var s=null;r!==null;)r.alternate!==null&&(s=r),r=r.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function Ns(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,s=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,s|=a.subtreeFlags&14680064,s|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,s|=a.subtreeFlags,s|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=s,e.childLanes=r,t}function sC(e,t,r){var s=t.pendingProps;switch(Ex(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ns(t),null;case 1:return cn(t.type)&&w0(),Ns(t),null;case 3:return s=t.stateNode,Hl(),ir(ln),ir(ks),Rx(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(nh(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ba!==null&&(dg(ba),ba=null))),ng(e,t),Ns(t),null;case 5:Px(t);var a=Jo(Pu.current);if(r=t.type,e!==null&&t.stateNode!=null)q5(e,t,r,s,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!s){if(t.stateNode===null)throw Error(Le(166));return Ns(t),null}if(e=Jo(Ha.current),nh(t)){s=t.stateNode,r=t.type;var i=t.memoizedProps;switch(s[Ra]=t,s[Lu]=i,e=(t.mode&1)!==0,r){case"dialog":nr("cancel",s),nr("close",s);break;case"iframe":case"object":case"embed":nr("load",s);break;case"video":case"audio":for(a=0;a<Zc.length;a++)nr(Zc[a],s);break;case"source":nr("error",s);break;case"img":case"image":case"link":nr("error",s),nr("load",s);break;case"details":nr("toggle",s);break;case"input":Xb(s,i),nr("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!i.multiple},nr("invalid",s);break;case"textarea":Zb(s,i),nr("invalid",s)}Um(r,i),a=null;for(var o in i)if(i.hasOwnProperty(o)){var A=i[o];o==="children"?typeof A=="string"?s.textContent!==A&&(i.suppressHydrationWarning!==!0&&sh(s.textContent,A,e),a=["children",A]):typeof A=="number"&&s.textContent!==""+A&&(i.suppressHydrationWarning!==!0&&sh(s.textContent,A,e),a=["children",""+A]):ju.hasOwnProperty(o)&&A!=null&&o==="onScroll"&&nr("scroll",s)}switch(r){case"input":Wd(s),Yb(s,i,!0);break;case"textarea":Wd(s),ew(s);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(s.onclick=b0)}s=a,t.updateQueue=s,s!==null&&(t.flags|=4)}else{o=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=y2(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof s.is=="string"?e=o.createElement(r,{is:s.is}):(e=o.createElement(r),r==="select"&&(o=e,s.multiple?o.multiple=!0:s.size&&(o.size=s.size))):e=o.createElementNS(e,r),e[Ra]=t,e[Lu]=s,z5(e,t,!1,!1),t.stateNode=e;e:{switch(o=Qm(r,s),r){case"dialog":nr("cancel",e),nr("close",e),a=s;break;case"iframe":case"object":case"embed":nr("load",e),a=s;break;case"video":case"audio":for(a=0;a<Zc.length;a++)nr(Zc[a],e);a=s;break;case"source":nr("error",e),a=s;break;case"img":case"image":case"link":nr("error",e),nr("load",e),a=s;break;case"details":nr("toggle",e),a=s;break;case"input":Xb(e,s),a=Cm(e,s),nr("invalid",e);break;case"option":a=s;break;case"select":e._wrapperState={wasMultiple:!!s.multiple},a=mr({},s,{value:void 0}),nr("invalid",e);break;case"textarea":Zb(e,s),a=Em(e,s),nr("invalid",e);break;default:a=s}Um(r,a),A=a;for(i in A)if(A.hasOwnProperty(i)){var l=A[i];i==="style"?j2(e,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&B2(e,l)):i==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&Cu(e,l):typeof l=="number"&&Cu(e,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(ju.hasOwnProperty(i)?l!=null&&i==="onScroll"&&nr("scroll",e):l!=null&&fx(e,i,l,o))}switch(r){case"input":Wd(e),Yb(e,s,!1);break;case"textarea":Wd(e),ew(e);break;case"option":s.value!=null&&e.setAttribute("value",""+po(s.value));break;case"select":e.multiple=!!s.multiple,i=s.value,i!=null?Bl(e,!!s.multiple,i,!1):s.defaultValue!=null&&Bl(e,!!s.multiple,s.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=b0)}switch(r){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ns(t),null;case 6:if(e&&t.stateNode!=null)G5(e,t,e.memoizedProps,s);else{if(typeof s!="string"&&t.stateNode===null)throw Error(Le(166));if(r=Jo(Pu.current),Jo(Ha.current),nh(t)){if(s=t.stateNode,r=t.memoizedProps,s[Ra]=t,(i=s.nodeValue!==r)&&(e=Sn,e!==null))switch(e.tag){case 3:sh(s.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&sh(s.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else s=(r.nodeType===9?r:r.ownerDocument).createTextNode(s),s[Ra]=t,t.stateNode=s}return Ns(t),null;case 13:if(ir(hr),s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(cr&&Cn!==null&&t.mode&1&&!(t.flags&128))d5(),Ol(),t.flags|=98560,i=!1;else if(i=nh(t),s!==null&&s.dehydrated!==null){if(e===null){if(!i)throw Error(Le(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(Le(317));i[Ra]=t}else Ol(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ns(t),i=!1}else ba!==null&&(dg(ba),ba=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(s=s!==null,s!==(e!==null&&e.memoizedState!==null)&&s&&(t.child.flags|=8192,t.mode&1&&(e===null||hr.current&1?Jr===0&&(Jr=3):Jx())),t.updateQueue!==null&&(t.flags|=4),Ns(t),null);case 4:return Hl(),ng(e,t),e===null&&ku(t.stateNode.containerInfo),Ns(t),null;case 10:return kx(t.type._context),Ns(t),null;case 17:return cn(t.type)&&w0(),Ns(t),null;case 19:if(ir(hr),i=t.memoizedState,i===null)return Ns(t),null;if(s=(t.flags&128)!==0,o=i.rendering,o===null)if(s)Oc(i,!1);else{if(Jr!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=_0(e),o!==null){for(t.flags|=128,Oc(i,!1),s=o.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),t.subtreeFlags=0,s=r,r=t.child;r!==null;)i=r,e=s,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return sr(hr,hr.current&1|2),t.child}e=e.sibling}i.tail!==null&&Qr()>Ml&&(t.flags|=128,s=!0,Oc(i,!1),t.lanes=4194304)}else{if(!s)if(e=_0(o),e!==null){if(t.flags|=128,s=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Oc(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!cr)return Ns(t),null}else 2*Qr()-i.renderingStartTime>Ml&&r!==1073741824&&(t.flags|=128,s=!0,Oc(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(r=i.last,r!==null?r.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Qr(),t.sibling=null,r=hr.current,sr(hr,s?r&1|2:r&1),t):(Ns(t),null);case 22:case 23:return Wx(),s=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==s&&(t.flags|=8192),s&&t.mode&1?Nn&1073741824&&(Ns(t),t.subtreeFlags&6&&(t.flags|=8192)):Ns(t),null;case 24:return null;case 25:return null}throw Error(Le(156,t.tag))}function nC(e,t){switch(Ex(t),t.tag){case 1:return cn(t.type)&&w0(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Hl(),ir(ln),ir(ks),Rx(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Px(t),null;case 13:if(ir(hr),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Le(340));Ol()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ir(hr),null;case 4:return Hl(),null;case 10:return kx(t.type._context),null;case 22:case 23:return Wx(),null;case 24:return null;default:return null}}var oh=!1,Us=!1,aC=typeof WeakSet=="function"?WeakSet:Set,Ze=null;function gl(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(s){Br(e,t,s)}else r.current=null}function ag(e,t,r){try{r()}catch(s){Br(e,t,s)}}var Mw=!1;function iC(e,t){if($m=m0,e=Z2(),_x(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var s=r.getSelection&&r.getSelection();if(s&&s.rangeCount!==0){r=s.anchorNode;var a=s.anchorOffset,i=s.focusNode;s=s.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,A=-1,l=-1,c=0,d=0,f=e,m=null;t:for(;;){for(var h;f!==r||a!==0&&f.nodeType!==3||(A=o+a),f!==i||s!==0&&f.nodeType!==3||(l=o+s),f.nodeType===3&&(o+=f.nodeValue.length),(h=f.firstChild)!==null;)m=f,f=h;for(;;){if(f===e)break t;if(m===r&&++c===a&&(A=o),m===i&&++d===s&&(l=o),(h=f.nextSibling)!==null)break;f=m,m=f.parentNode}f=h}r=A===-1||l===-1?null:{start:A,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(Mm={focusedElem:e,selectionRange:r},m0=!1,Ze=t;Ze!==null;)if(t=Ze,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Ze=e;else for(;Ze!==null;){t=Ze;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var b=v.memoizedProps,N=v.memoizedState,w=t.stateNode,x=w.getSnapshotBeforeUpdate(t.elementType===t.type?b:fa(t.type,b),N);w.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var B=t.stateNode.containerInfo;B.nodeType===1?B.textContent="":B.nodeType===9&&B.documentElement&&B.removeChild(B.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Le(163))}}catch(C){Br(t,t.return,C)}if(e=t.sibling,e!==null){e.return=t.return,Ze=e;break}Ze=t.return}return v=Mw,Mw=!1,v}function fu(e,t,r){var s=t.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var a=s=s.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,i!==void 0&&ag(t,r,i)}a=a.next}while(a!==s)}}function cf(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var s=r.create;r.destroy=s()}r=r.next}while(r!==t)}}function ig(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function W5(e){var t=e.alternate;t!==null&&(e.alternate=null,W5(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ra],delete t[Lu],delete t[zm],delete t[$j],delete t[Mj])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function J5(e){return e.tag===5||e.tag===3||e.tag===4}function Kw(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||J5(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function og(e,t,r){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=b0));else if(s!==4&&(e=e.child,e!==null))for(og(e,t,r),e=e.sibling;e!==null;)og(e,t,r),e=e.sibling}function Ag(e,t,r){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(s!==4&&(e=e.child,e!==null))for(Ag(e,t,r),e=e.sibling;e!==null;)Ag(e,t,r),e=e.sibling}var ps=null,ga=!1;function Di(e,t,r){for(r=r.child;r!==null;)X5(e,t,r),r=r.sibling}function X5(e,t,r){if(Da&&typeof Da.onCommitFiberUnmount=="function")try{Da.onCommitFiberUnmount(tf,r)}catch{}switch(r.tag){case 5:Us||gl(r,t);case 6:var s=ps,a=ga;ps=null,Di(e,t,r),ps=s,ga=a,ps!==null&&(ga?(e=ps,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):ps.removeChild(r.stateNode));break;case 18:ps!==null&&(ga?(e=ps,r=r.stateNode,e.nodeType===8?Cp(e.parentNode,r):e.nodeType===1&&Cp(e,r),Fu(e)):Cp(ps,r.stateNode));break;case 4:s=ps,a=ga,ps=r.stateNode.containerInfo,ga=!0,Di(e,t,r),ps=s,ga=a;break;case 0:case 11:case 14:case 15:if(!Us&&(s=r.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){a=s=s.next;do{var i=a,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&ag(r,t,o),a=a.next}while(a!==s)}Di(e,t,r);break;case 1:if(!Us&&(gl(r,t),s=r.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=r.memoizedProps,s.state=r.memoizedState,s.componentWillUnmount()}catch(A){Br(r,t,A)}Di(e,t,r);break;case 21:Di(e,t,r);break;case 22:r.mode&1?(Us=(s=Us)||r.memoizedState!==null,Di(e,t,r),Us=s):Di(e,t,r);break;default:Di(e,t,r)}}function Vw(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new aC),t.forEach(function(s){var a=pC.bind(null,e,s);r.has(s)||(r.add(s),s.then(a,a))})}}function la(e,t){var r=t.deletions;if(r!==null)for(var s=0;s<r.length;s++){var a=r[s];try{var i=e,o=t,A=o;e:for(;A!==null;){switch(A.tag){case 5:ps=A.stateNode,ga=!1;break e;case 3:ps=A.stateNode.containerInfo,ga=!0;break e;case 4:ps=A.stateNode.containerInfo,ga=!0;break e}A=A.return}if(ps===null)throw Error(Le(160));X5(i,o,a),ps=null,ga=!1;var l=a.alternate;l!==null&&(l.return=null),a.return=null}catch(c){Br(a,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Y5(t,e),t=t.sibling}function Y5(e,t){var r=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(la(t,e),Ia(e),s&4){try{fu(3,e,e.return),cf(3,e)}catch(b){Br(e,e.return,b)}try{fu(5,e,e.return)}catch(b){Br(e,e.return,b)}}break;case 1:la(t,e),Ia(e),s&512&&r!==null&&gl(r,r.return);break;case 5:if(la(t,e),Ia(e),s&512&&r!==null&&gl(r,r.return),e.flags&32){var a=e.stateNode;try{Cu(a,"")}catch(b){Br(e,e.return,b)}}if(s&4&&(a=e.stateNode,a!=null)){var i=e.memoizedProps,o=r!==null?r.memoizedProps:i,A=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{A==="input"&&i.type==="radio"&&i.name!=null&&w2(a,i),Qm(A,o);var c=Qm(A,i);for(o=0;o<l.length;o+=2){var d=l[o],f=l[o+1];d==="style"?j2(a,f):d==="dangerouslySetInnerHTML"?B2(a,f):d==="children"?Cu(a,f):fx(a,d,f,c)}switch(A){case"input":_m(a,i);break;case"textarea":v2(a,i);break;case"select":var m=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var h=i.value;h!=null?Bl(a,!!i.multiple,h,!1):m!==!!i.multiple&&(i.defaultValue!=null?Bl(a,!!i.multiple,i.defaultValue,!0):Bl(a,!!i.multiple,i.multiple?[]:"",!1))}a[Lu]=i}catch(b){Br(e,e.return,b)}}break;case 6:if(la(t,e),Ia(e),s&4){if(e.stateNode===null)throw Error(Le(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(b){Br(e,e.return,b)}}break;case 3:if(la(t,e),Ia(e),s&4&&r!==null&&r.memoizedState.isDehydrated)try{Fu(t.containerInfo)}catch(b){Br(e,e.return,b)}break;case 4:la(t,e),Ia(e);break;case 13:la(t,e),Ia(e),a=e.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(qx=Qr())),s&4&&Vw(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(Us=(c=Us)||d,la(t,e),Us=c):la(t,e),Ia(e),s&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!d&&e.mode&1)for(Ze=e,d=e.child;d!==null;){for(f=Ze=d;Ze!==null;){switch(m=Ze,h=m.child,m.tag){case 0:case 11:case 14:case 15:fu(4,m,m.return);break;case 1:gl(m,m.return);var v=m.stateNode;if(typeof v.componentWillUnmount=="function"){s=m,r=m.return;try{t=s,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(b){Br(s,r,b)}}break;case 5:gl(m,m.return);break;case 22:if(m.memoizedState!==null){qw(f);continue}}h!==null?(h.return=m,Ze=h):qw(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{a=f.stateNode,c?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(A=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,A.style.display=N2("display",o))}catch(b){Br(e,e.return,b)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(b){Br(e,e.return,b)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:la(t,e),Ia(e),s&4&&Vw(e);break;case 21:break;default:la(t,e),Ia(e)}}function Ia(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(J5(r)){var s=r;break e}r=r.return}throw Error(Le(160))}switch(s.tag){case 5:var a=s.stateNode;s.flags&32&&(Cu(a,""),s.flags&=-33);var i=Kw(e);Ag(e,i,a);break;case 3:case 4:var o=s.stateNode.containerInfo,A=Kw(e);og(e,A,o);break;default:throw Error(Le(161))}}catch(l){Br(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function oC(e,t,r){Ze=e,Z5(e)}function Z5(e,t,r){for(var s=(e.mode&1)!==0;Ze!==null;){var a=Ze,i=a.child;if(a.tag===22&&s){var o=a.memoizedState!==null||oh;if(!o){var A=a.alternate,l=A!==null&&A.memoizedState!==null||Us;A=oh;var c=Us;if(oh=o,(Us=l)&&!c)for(Ze=a;Ze!==null;)o=Ze,l=o.child,o.tag===22&&o.memoizedState!==null?Gw(a):l!==null?(l.return=o,Ze=l):Gw(a);for(;i!==null;)Ze=i,Z5(i),i=i.sibling;Ze=a,oh=A,Us=c}zw(e)}else a.subtreeFlags&8772&&i!==null?(i.return=a,Ze=i):zw(e)}}function zw(e){for(;Ze!==null;){var t=Ze;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Us||cf(5,t);break;case 1:var s=t.stateNode;if(t.flags&4&&!Us)if(r===null)s.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:fa(t.type,r.memoizedProps);s.componentDidUpdate(a,r.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Fw(t,i,s);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Fw(t,o,r)}break;case 5:var A=t.stateNode;if(r===null&&t.flags&4){r=A;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Fu(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Le(163))}Us||t.flags&512&&ig(t)}catch(m){Br(t,t.return,m)}}if(t===e){Ze=null;break}if(r=t.sibling,r!==null){r.return=t.return,Ze=r;break}Ze=t.return}}function qw(e){for(;Ze!==null;){var t=Ze;if(t===e){Ze=null;break}var r=t.sibling;if(r!==null){r.return=t.return,Ze=r;break}Ze=t.return}}function Gw(e){for(;Ze!==null;){var t=Ze;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{cf(4,t)}catch(l){Br(t,r,l)}break;case 1:var s=t.stateNode;if(typeof s.componentDidMount=="function"){var a=t.return;try{s.componentDidMount()}catch(l){Br(t,a,l)}}var i=t.return;try{ig(t)}catch(l){Br(t,i,l)}break;case 5:var o=t.return;try{ig(t)}catch(l){Br(t,o,l)}}}catch(l){Br(t,t.return,l)}if(t===e){Ze=null;break}var A=t.sibling;if(A!==null){A.return=t.return,Ze=A;break}Ze=t.return}}var AC=Math.ceil,F0=gi.ReactCurrentDispatcher,Vx=gi.ReactCurrentOwner,Jn=gi.ReactCurrentBatchConfig,It=0,is=null,$r=null,xs=0,Nn=0,xl=vo(0),Jr=0,Hu=null,AA=0,uf=0,zx=0,pu=null,on=null,qx=0,Ml=1/0,ni=null,U0=!1,lg=null,lo=null,Ah=!1,Zi=null,Q0=0,mu=0,cg=null,e0=-1,t0=0;function qs(){return It&6?Qr():e0!==-1?e0:e0=Qr()}function co(e){return e.mode&1?It&2&&xs!==0?xs&-xs:Vj.transition!==null?(t0===0&&(t0=P2()),t0):(e=Kt,e!==0||(e=window.event,e=e===void 0?16:K2(e.type)),e):1}function va(e,t,r,s){if(50<mu)throw mu=0,cg=null,Error(Le(185));rd(e,r,s),(!(It&2)||e!==is)&&(e===is&&(!(It&2)&&(uf|=r),Jr===4&&Ji(e,xs)),un(e,s),r===1&&It===0&&!(t.mode&1)&&(Ml=Qr()+500,of&&yo()))}function un(e,t){var r=e.callbackNode;V4(e,t);var s=p0(e,e===is?xs:0);if(s===0)r!==null&&sw(r),e.callbackNode=null,e.callbackPriority=0;else if(t=s&-s,e.callbackPriority!==t){if(r!=null&&sw(r),t===1)e.tag===0?Kj(Ww.bind(null,e)):l5(Ww.bind(null,e)),Dj(function(){!(It&6)&&yo()}),r=null;else{switch(R2(s)){case 1:r=bx;break;case 4:r=L2;break;case 16:r=f0;break;case 536870912:r=T2;break;default:r=f0}r=oy(r,ey.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function ey(e,t){if(e0=-1,t0=0,It&6)throw Error(Le(327));var r=e.callbackNode;if(Sl()&&e.callbackNode!==r)return null;var s=p0(e,e===is?xs:0);if(s===0)return null;if(s&30||s&e.expiredLanes||t)t=k0(e,s);else{t=s;var a=It;It|=2;var i=ry();(is!==e||xs!==t)&&(ni=null,Ml=Qr()+500,Zo(e,t));do try{uC();break}catch(A){ty(e,A)}while(!0);Qx(),F0.current=i,It=a,$r!==null?t=0:(is=null,xs=0,t=Jr)}if(t!==0){if(t===2&&(a=Pm(e),a!==0&&(s=a,t=ug(e,a))),t===1)throw r=Hu,Zo(e,0),Ji(e,s),un(e,Qr()),r;if(t===6)Ji(e,s);else{if(a=e.current.alternate,!(s&30)&&!lC(a)&&(t=k0(e,s),t===2&&(i=Pm(e),i!==0&&(s=i,t=ug(e,i))),t===1))throw r=Hu,Zo(e,0),Ji(e,s),un(e,Qr()),r;switch(e.finishedWork=a,e.finishedLanes=s,t){case 0:case 1:throw Error(Le(345));case 2:Do(e,on,ni);break;case 3:if(Ji(e,s),(s&130023424)===s&&(t=qx+500-Qr(),10<t)){if(p0(e,0)!==0)break;if(a=e.suspendedLanes,(a&s)!==s){qs(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=Vm(Do.bind(null,e,on,ni),t);break}Do(e,on,ni);break;case 4:if(Ji(e,s),(s&4194240)===s)break;for(t=e.eventTimes,a=-1;0<s;){var o=31-wa(s);i=1<<o,o=t[o],o>a&&(a=o),s&=~i}if(s=a,s=Qr()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*AC(s/1960))-s,10<s){e.timeoutHandle=Vm(Do.bind(null,e,on,ni),s);break}Do(e,on,ni);break;case 5:Do(e,on,ni);break;default:throw Error(Le(329))}}}return un(e,Qr()),e.callbackNode===r?ey.bind(null,e):null}function ug(e,t){var r=pu;return e.current.memoizedState.isDehydrated&&(Zo(e,t).flags|=256),e=k0(e,t),e!==2&&(t=on,on=r,t!==null&&dg(t)),e}function dg(e){on===null?on=e:on.push.apply(on,e)}function lC(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var s=0;s<r.length;s++){var a=r[s],i=a.getSnapshot;a=a.value;try{if(!ya(i(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ji(e,t){for(t&=~zx,t&=~uf,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-wa(t),s=1<<r;e[r]=-1,t&=~s}}function Ww(e){if(It&6)throw Error(Le(327));Sl();var t=p0(e,0);if(!(t&1))return un(e,Qr()),null;var r=k0(e,t);if(e.tag!==0&&r===2){var s=Pm(e);s!==0&&(t=s,r=ug(e,s))}if(r===1)throw r=Hu,Zo(e,0),Ji(e,t),un(e,Qr()),r;if(r===6)throw Error(Le(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Do(e,on,ni),un(e,Qr()),null}function Gx(e,t){var r=It;It|=1;try{return e(t)}finally{It=r,It===0&&(Ml=Qr()+500,of&&yo())}}function lA(e){Zi!==null&&Zi.tag===0&&!(It&6)&&Sl();var t=It;It|=1;var r=Jn.transition,s=Kt;try{if(Jn.transition=null,Kt=1,e)return e()}finally{Kt=s,Jn.transition=r,It=t,!(It&6)&&yo()}}function Wx(){Nn=xl.current,ir(xl)}function Zo(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,Oj(r)),$r!==null)for(r=$r.return;r!==null;){var s=r;switch(Ex(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&w0();break;case 3:Hl(),ir(ln),ir(ks),Rx();break;case 5:Px(s);break;case 4:Hl();break;case 13:ir(hr);break;case 19:ir(hr);break;case 10:kx(s.type._context);break;case 22:case 23:Wx()}r=r.return}if(is=e,$r=e=uo(e.current,null),xs=Nn=t,Jr=0,Hu=null,zx=uf=AA=0,on=pu=null,Wo!==null){for(t=0;t<Wo.length;t++)if(r=Wo[t],s=r.interleaved,s!==null){r.interleaved=null;var a=s.next,i=r.pending;if(i!==null){var o=i.next;i.next=a,s.next=o}r.pending=s}Wo=null}return e}function ty(e,t){do{var r=$r;try{if(Qx(),Xh.current=E0,S0){for(var s=fr.memoizedState;s!==null;){var a=s.queue;a!==null&&(a.pending=null),s=s.next}S0=!1}if(oA=0,ns=Gr=fr=null,hu=!1,Ru=0,Vx.current=null,r===null||r.return===null){Jr=1,Hu=t,$r=null;break}e:{var i=e,o=r.return,A=r,l=t;if(t=xs,A.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=A,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var m=d.alternate;m?(d.updateQueue=m.updateQueue,d.memoizedState=m.memoizedState,d.lanes=m.lanes):(d.updateQueue=null,d.memoizedState=null)}var h=Tw(o);if(h!==null){h.flags&=-257,Pw(h,o,A,i,t),h.mode&1&&Lw(i,c,t),t=h,l=c;var v=t.updateQueue;if(v===null){var b=new Set;b.add(l),t.updateQueue=b}else v.add(l);break e}else{if(!(t&1)){Lw(i,c,t),Jx();break e}l=Error(Le(426))}}else if(cr&&A.mode&1){var N=Tw(o);if(N!==null){!(N.flags&65536)&&(N.flags|=256),Pw(N,o,A,i,t),Fx($l(l,A));break e}}i=l=$l(l,A),Jr!==4&&(Jr=2),pu===null?pu=[i]:pu.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var w=R5(i,l,t);Ew(i,w);break e;case 1:A=l;var x=i.type,B=i.stateNode;if(!(i.flags&128)&&(typeof x.getDerivedStateFromError=="function"||B!==null&&typeof B.componentDidCatch=="function"&&(lo===null||!lo.has(B)))){i.flags|=65536,t&=-t,i.lanes|=t;var C=O5(i,A,t);Ew(i,C);break e}}i=i.return}while(i!==null)}ny(r)}catch(E){t=E,$r===r&&r!==null&&($r=r=r.return);continue}break}while(!0)}function ry(){var e=F0.current;return F0.current=E0,e===null?E0:e}function Jx(){(Jr===0||Jr===3||Jr===2)&&(Jr=4),is===null||!(AA&268435455)&&!(uf&268435455)||Ji(is,xs)}function k0(e,t){var r=It;It|=2;var s=ry();(is!==e||xs!==t)&&(ni=null,Zo(e,t));do try{cC();break}catch(a){ty(e,a)}while(!0);if(Qx(),It=r,F0.current=s,$r!==null)throw Error(Le(261));return is=null,xs=0,Jr}function cC(){for(;$r!==null;)sy($r)}function uC(){for(;$r!==null&&!T4();)sy($r)}function sy(e){var t=iy(e.alternate,e,Nn);e.memoizedProps=e.pendingProps,t===null?ny(e):$r=t,Vx.current=null}function ny(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=nC(r,t),r!==null){r.flags&=32767,$r=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Jr=6,$r=null;return}}else if(r=sC(r,t,Nn),r!==null){$r=r;return}if(t=t.sibling,t!==null){$r=t;return}$r=t=e}while(t!==null);Jr===0&&(Jr=5)}function Do(e,t,r){var s=Kt,a=Jn.transition;try{Jn.transition=null,Kt=1,dC(e,t,r,s)}finally{Jn.transition=a,Kt=s}return null}function dC(e,t,r,s){do Sl();while(Zi!==null);if(It&6)throw Error(Le(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(Le(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(z4(e,i),e===is&&($r=is=null,xs=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Ah||(Ah=!0,oy(f0,function(){return Sl(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=Jn.transition,Jn.transition=null;var o=Kt;Kt=1;var A=It;It|=4,Vx.current=null,iC(e,r),Y5(r,e),Qj(Mm),m0=!!$m,Mm=$m=null,e.current=r,oC(r),P4(),It=A,Kt=o,Jn.transition=i}else e.current=r;if(Ah&&(Ah=!1,Zi=e,Q0=a),i=e.pendingLanes,i===0&&(lo=null),D4(r.stateNode),un(e,Qr()),t!==null)for(s=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],s(a.value,{componentStack:a.stack,digest:a.digest});if(U0)throw U0=!1,e=lg,lg=null,e;return Q0&1&&e.tag!==0&&Sl(),i=e.pendingLanes,i&1?e===cg?mu++:(mu=0,cg=e):mu=0,yo(),null}function Sl(){if(Zi!==null){var e=R2(Q0),t=Jn.transition,r=Kt;try{if(Jn.transition=null,Kt=16>e?16:e,Zi===null)var s=!1;else{if(e=Zi,Zi=null,Q0=0,It&6)throw Error(Le(331));var a=It;for(It|=4,Ze=e.current;Ze!==null;){var i=Ze,o=i.child;if(Ze.flags&16){var A=i.deletions;if(A!==null){for(var l=0;l<A.length;l++){var c=A[l];for(Ze=c;Ze!==null;){var d=Ze;switch(d.tag){case 0:case 11:case 15:fu(8,d,i)}var f=d.child;if(f!==null)f.return=d,Ze=f;else for(;Ze!==null;){d=Ze;var m=d.sibling,h=d.return;if(W5(d),d===c){Ze=null;break}if(m!==null){m.return=h,Ze=m;break}Ze=h}}}var v=i.alternate;if(v!==null){var b=v.child;if(b!==null){v.child=null;do{var N=b.sibling;b.sibling=null,b=N}while(b!==null)}}Ze=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,Ze=o;else e:for(;Ze!==null;){if(i=Ze,i.flags&2048)switch(i.tag){case 0:case 11:case 15:fu(9,i,i.return)}var w=i.sibling;if(w!==null){w.return=i.return,Ze=w;break e}Ze=i.return}}var x=e.current;for(Ze=x;Ze!==null;){o=Ze;var B=o.child;if(o.subtreeFlags&2064&&B!==null)B.return=o,Ze=B;else e:for(o=x;Ze!==null;){if(A=Ze,A.flags&2048)try{switch(A.tag){case 0:case 11:case 15:cf(9,A)}}catch(E){Br(A,A.return,E)}if(A===o){Ze=null;break e}var C=A.sibling;if(C!==null){C.return=A.return,Ze=C;break e}Ze=A.return}}if(It=a,yo(),Da&&typeof Da.onPostCommitFiberRoot=="function")try{Da.onPostCommitFiberRoot(tf,e)}catch{}s=!0}return s}finally{Kt=r,Jn.transition=t}}return!1}function Jw(e,t,r){t=$l(r,t),t=R5(e,t,1),e=Ao(e,t,1),t=qs(),e!==null&&(rd(e,1,t),un(e,t))}function Br(e,t,r){if(e.tag===3)Jw(e,e,r);else for(;t!==null;){if(t.tag===3){Jw(t,e,r);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(lo===null||!lo.has(s))){e=$l(r,e),e=O5(t,e,1),t=Ao(t,e,1),e=qs(),t!==null&&(rd(t,1,e),un(t,e));break}}t=t.return}}function hC(e,t,r){var s=e.pingCache;s!==null&&s.delete(t),t=qs(),e.pingedLanes|=e.suspendedLanes&r,is===e&&(xs&r)===r&&(Jr===4||Jr===3&&(xs&130023424)===xs&&500>Qr()-qx?Zo(e,0):zx|=r),un(e,t)}function ay(e,t){t===0&&(e.mode&1?(t=Yd,Yd<<=1,!(Yd&130023424)&&(Yd=4194304)):t=1);var r=qs();e=hi(e,t),e!==null&&(rd(e,t,r),un(e,r))}function fC(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),ay(e,r)}function pC(e,t){var r=0;switch(e.tag){case 13:var s=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:s=e.stateNode;break;default:throw Error(Le(314))}s!==null&&s.delete(t),ay(e,r)}var iy;iy=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||ln.current)An=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return An=!1,rC(e,t,r);An=!!(e.flags&131072)}else An=!1,cr&&t.flags&1048576&&c5(t,B0,t.index);switch(t.lanes=0,t.tag){case 2:var s=t.type;Zh(e,t),e=t.pendingProps;var a=Rl(t,ks.current);_l(t,r),a=Dx(null,t,s,e,a,r);var i=Hx();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,cn(s)?(i=!0,v0(t)):i=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,Lx(t),a.updater=lf,t.stateNode=a,a._reactInternals=t,Ym(t,s,e,r),t=tg(null,t,s,!0,i,r)):(t.tag=0,cr&&i&&Sx(t),Ks(null,t,a,r),t=t.child),t;case 16:s=t.elementType;e:{switch(Zh(e,t),e=t.pendingProps,a=s._init,s=a(s._payload),t.type=s,a=t.tag=gC(s),e=fa(s,e),a){case 0:t=eg(null,t,s,e,r);break e;case 1:t=Dw(null,t,s,e,r);break e;case 11:t=Rw(null,t,s,e,r);break e;case 14:t=Ow(null,t,s,fa(s.type,e),r);break e}throw Error(Le(306,s,""))}return t;case 0:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:fa(s,a),eg(e,t,s,a,r);case 1:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:fa(s,a),Dw(e,t,s,a,r);case 3:e:{if(M5(t),e===null)throw Error(Le(387));s=t.pendingProps,i=t.memoizedState,a=i.element,m5(e,t),C0(t,s,null,r);var o=t.memoizedState;if(s=o.element,i.isDehydrated)if(i={element:s,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){a=$l(Error(Le(423)),t),t=Hw(e,t,s,r,a);break e}else if(s!==a){a=$l(Error(Le(424)),t),t=Hw(e,t,s,r,a);break e}else for(Cn=oo(t.stateNode.containerInfo.firstChild),Sn=t,cr=!0,ba=null,r=f5(t,null,s,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Ol(),s===a){t=fi(e,t,r);break e}Ks(e,t,s,r)}t=t.child}return t;case 5:return g5(t),e===null&&Wm(t),s=t.type,a=t.pendingProps,i=e!==null?e.memoizedProps:null,o=a.children,Km(s,a)?o=null:i!==null&&Km(s,i)&&(t.flags|=32),$5(e,t),Ks(e,t,o,r),t.child;case 6:return e===null&&Wm(t),null;case 13:return K5(e,t,r);case 4:return Tx(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=Dl(t,null,s,r):Ks(e,t,s,r),t.child;case 11:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:fa(s,a),Rw(e,t,s,a,r);case 7:return Ks(e,t,t.pendingProps,r),t.child;case 8:return Ks(e,t,t.pendingProps.children,r),t.child;case 12:return Ks(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(s=t.type._context,a=t.pendingProps,i=t.memoizedProps,o=a.value,sr(N0,s._currentValue),s._currentValue=o,i!==null)if(ya(i.value,o)){if(i.children===a.children&&!ln.current){t=fi(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var A=i.dependencies;if(A!==null){o=i.child;for(var l=A.firstContext;l!==null;){if(l.context===s){if(i.tag===1){l=li(-1,r&-r),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}i.lanes|=r,l=i.alternate,l!==null&&(l.lanes|=r),Jm(i.return,r,t),A.lanes|=r;break}l=l.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(Le(341));o.lanes|=r,A=o.alternate,A!==null&&(A.lanes|=r),Jm(o,r,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Ks(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,s=t.pendingProps.children,_l(t,r),a=Xn(a),s=s(a),t.flags|=1,Ks(e,t,s,r),t.child;case 14:return s=t.type,a=fa(s,t.pendingProps),a=fa(s.type,a),Ow(e,t,s,a,r);case 15:return D5(e,t,t.type,t.pendingProps,r);case 17:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:fa(s,a),Zh(e,t),t.tag=1,cn(s)?(e=!0,v0(t)):e=!1,_l(t,r),P5(t,s,a),Ym(t,s,a,r),tg(null,t,s,!0,e,r);case 19:return V5(e,t,r);case 22:return H5(e,t,r)}throw Error(Le(156,t.tag))};function oy(e,t){return I2(e,t)}function mC(e,t,r,s){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zn(e,t,r,s){return new mC(e,t,r,s)}function Xx(e){return e=e.prototype,!(!e||!e.isReactComponent)}function gC(e){if(typeof e=="function")return Xx(e)?1:0;if(e!=null){if(e=e.$$typeof,e===mx)return 11;if(e===gx)return 14}return 2}function uo(e,t){var r=e.alternate;return r===null?(r=zn(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function r0(e,t,r,s,a,i){var o=2;if(s=e,typeof e=="function")Xx(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Al:return eA(r.children,a,i,t);case px:o=8,a|=8;break;case ym:return e=zn(12,r,t,a|2),e.elementType=ym,e.lanes=i,e;case Bm:return e=zn(13,r,t,a),e.elementType=Bm,e.lanes=i,e;case Nm:return e=zn(19,r,t,a),e.elementType=Nm,e.lanes=i,e;case g2:return df(r,a,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case p2:o=10;break e;case m2:o=9;break e;case mx:o=11;break e;case gx:o=14;break e;case Vi:o=16,s=null;break e}throw Error(Le(130,e==null?e:typeof e,""))}return t=zn(o,r,t,a),t.elementType=e,t.type=s,t.lanes=i,t}function eA(e,t,r,s){return e=zn(7,e,s,t),e.lanes=r,e}function df(e,t,r,s){return e=zn(22,e,s,t),e.elementType=g2,e.lanes=r,e.stateNode={isHidden:!1},e}function Ip(e,t,r){return e=zn(6,e,null,t),e.lanes=r,e}function Lp(e,t,r){return t=zn(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function xC(e,t,r,s,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=pp(0),this.expirationTimes=pp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=pp(0),this.identifierPrefix=s,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Yx(e,t,r,s,a,i,o,A,l){return e=new xC(e,t,r,A,l),t===1?(t=1,i===!0&&(t|=8)):t=0,i=zn(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:s,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Lx(i),e}function bC(e,t,r){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ol,key:s==null?null:""+s,children:e,containerInfo:t,implementation:r}}function Ay(e){if(!e)return mo;e=e._reactInternals;e:{if(fA(e)!==e||e.tag!==1)throw Error(Le(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(cn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Le(171))}if(e.tag===1){var r=e.type;if(cn(r))return A5(e,r,t)}return t}function ly(e,t,r,s,a,i,o,A,l){return e=Yx(r,s,!0,e,a,i,o,A,l),e.context=Ay(null),r=e.current,s=qs(),a=co(r),i=li(s,a),i.callback=t??null,Ao(r,i,a),e.current.lanes=a,rd(e,a,s),un(e,s),e}function hf(e,t,r,s){var a=t.current,i=qs(),o=co(a);return r=Ay(r),t.context===null?t.context=r:t.pendingContext=r,t=li(i,o),t.payload={element:e},s=s===void 0?null:s,s!==null&&(t.callback=s),e=Ao(a,t,o),e!==null&&(va(e,a,o,i),Jh(e,a,o)),o}function I0(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Xw(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Zx(e,t){Xw(e,t),(e=e.alternate)&&Xw(e,t)}function wC(){return null}var cy=typeof reportError=="function"?reportError:function(e){console.error(e)};function eb(e){this._internalRoot=e}ff.prototype.render=eb.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Le(409));hf(e,t,null,null)};ff.prototype.unmount=eb.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;lA(function(){hf(null,e,null,null)}),t[di]=null}};function ff(e){this._internalRoot=e}ff.prototype.unstable_scheduleHydration=function(e){if(e){var t=H2();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Wi.length&&t!==0&&t<Wi[r].priority;r++);Wi.splice(r,0,e),r===0&&M2(e)}};function tb(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function pf(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Yw(){}function vC(e,t,r,s,a){if(a){if(typeof s=="function"){var i=s;s=function(){var c=I0(o);i.call(c)}}var o=ly(t,s,e,0,null,!1,!1,"",Yw);return e._reactRootContainer=o,e[di]=o.current,ku(e.nodeType===8?e.parentNode:e),lA(),o}for(;a=e.lastChild;)e.removeChild(a);if(typeof s=="function"){var A=s;s=function(){var c=I0(l);A.call(c)}}var l=Yx(e,0,!1,null,null,!1,!1,"",Yw);return e._reactRootContainer=l,e[di]=l.current,ku(e.nodeType===8?e.parentNode:e),lA(function(){hf(t,l,r,s)}),l}function mf(e,t,r,s,a){var i=r._reactRootContainer;if(i){var o=i;if(typeof a=="function"){var A=a;a=function(){var l=I0(o);A.call(l)}}hf(t,o,e,a)}else o=vC(r,t,e,a,s);return I0(o)}O2=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Yc(t.pendingLanes);r!==0&&(wx(t,r|1),un(t,Qr()),!(It&6)&&(Ml=Qr()+500,yo()))}break;case 13:lA(function(){var s=hi(e,1);if(s!==null){var a=qs();va(s,e,1,a)}}),Zx(e,1)}};vx=function(e){if(e.tag===13){var t=hi(e,134217728);if(t!==null){var r=qs();va(t,e,134217728,r)}Zx(e,134217728)}};D2=function(e){if(e.tag===13){var t=co(e),r=hi(e,t);if(r!==null){var s=qs();va(r,e,t,s)}Zx(e,t)}};H2=function(){return Kt};$2=function(e,t){var r=Kt;try{return Kt=e,t()}finally{Kt=r}};Im=function(e,t,r){switch(t){case"input":if(_m(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var s=r[t];if(s!==e&&s.form===e.form){var a=af(s);if(!a)throw Error(Le(90));b2(s),_m(s,a)}}}break;case"textarea":v2(e,r);break;case"select":t=r.value,t!=null&&Bl(e,!!r.multiple,t,!1)}};S2=Gx;E2=lA;var yC={usingClientEntryPoint:!1,Events:[nd,dl,af,C2,_2,Gx]},Dc={findFiberByHostInstance:Go,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},BC={bundleType:Dc.bundleType,version:Dc.version,rendererPackageName:Dc.rendererPackageName,rendererConfig:Dc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:gi.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Q2(e),e===null?null:e.stateNode},findFiberByHostInstance:Dc.findFiberByHostInstance||wC,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var lh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!lh.isDisabled&&lh.supportsFiber)try{tf=lh.inject(BC),Da=lh}catch{}}Fn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=yC;Fn.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!tb(t))throw Error(Le(200));return bC(e,t,null,r)};Fn.createRoot=function(e,t){if(!tb(e))throw Error(Le(299));var r=!1,s="",a=cy;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=Yx(e,1,!1,null,null,r,!1,s,a),e[di]=t.current,ku(e.nodeType===8?e.parentNode:e),new eb(t)};Fn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Le(188)):(e=Object.keys(e).join(","),Error(Le(268,e)));return e=Q2(t),e=e===null?null:e.stateNode,e};Fn.flushSync=function(e){return lA(e)};Fn.hydrate=function(e,t,r){if(!pf(t))throw Error(Le(200));return mf(null,e,t,!0,r)};Fn.hydrateRoot=function(e,t,r){if(!tb(e))throw Error(Le(405));var s=r!=null&&r.hydratedSources||null,a=!1,i="",o=cy;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=ly(t,null,e,1,r??null,a,!1,i,o),e[di]=t.current,ku(e),s)for(e=0;e<s.length;e++)r=s[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new ff(t)};Fn.render=function(e,t,r){if(!pf(t))throw Error(Le(200));return mf(null,e,t,!1,r)};Fn.unmountComponentAtNode=function(e){if(!pf(e))throw Error(Le(40));return e._reactRootContainer?(lA(function(){mf(null,null,e,!1,function(){e._reactRootContainer=null,e[di]=null})}),!0):!1};Fn.unstable_batchedUpdates=Gx;Fn.unstable_renderSubtreeIntoContainer=function(e,t,r,s){if(!pf(r))throw Error(Le(200));if(e==null||e._reactInternals===void 0)throw Error(Le(38));return mf(e,t,r,!1,s)};Fn.version="18.3.1-next-f1338f8080-20240426";function uy(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(uy)}catch(e){console.error(e)}}uy(),u2.exports=Fn;var Wl=u2.exports,Zw=Wl;wm.createRoot=Zw.createRoot,wm.hydrateRoot=Zw.hydrateRoot;/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var hg=function(e,t){return hg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,s){r.__proto__=s}||function(r,s){for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(r[a]=s[a])},hg(e,t)};function Ba(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");hg(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var fg=function(){return fg=Object.assign||function(t){for(var r,s=1,a=arguments.length;s<a;s++){r=arguments[s];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},fg.apply(this,arguments)};function Ms(e,t,r,s){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function A(d){try{c(s.next(d))}catch(f){o(f)}}function l(d){try{c(s.throw(d))}catch(f){o(f)}}function c(d){d.done?i(d.value):a(d.value).then(A,l)}c((s=s.apply(e,[])).next())})}function Es(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},s,a,i,o;return o={next:A(0),throw:A(1),return:A(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function A(c){return function(d){return l([c,d])}}function l(c){if(s)throw new TypeError("Generator is already executing.");for(;r;)try{if(s=1,a&&(i=c[0]&2?a.return:c[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,c[1])).done)return i;switch(a=0,i&&(c=[c[0]&2,i.value]),c[0]){case 0:case 1:i=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,a=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!i||c[1]>i[0]&&c[1]<i[3])){r.label=c[1];break}if(c[0]===6&&r.label<i[1]){r.label=i[1],i=c;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(c);break}i[2]&&r.ops.pop(),r.trys.pop();continue}c=t.call(e,r)}catch(d){c=[6,d],a=0}finally{s=i=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function ch(e,t,r){if(arguments.length===2)for(var s=0,a=t.length,i;s<a;s++)(i||!(s in t))&&(i||(i=Array.prototype.slice.call(t,0,s)),i[s]=t[s]);return e.concat(i||t)}var pi=function(){function e(t,r,s,a){this.left=t,this.top=r,this.width=s,this.height=a}return e.prototype.add=function(t,r,s,a){return new e(this.left+t,this.top+r,this.width+s,this.height+a)},e.fromClientRect=function(t,r){return new e(r.left+t.windowBounds.left,r.top+t.windowBounds.top,r.width,r.height)},e.fromDOMRectList=function(t,r){var s=Array.from(r).find(function(a){return a.width!==0});return s?new e(s.left+t.windowBounds.left,s.top+t.windowBounds.top,s.width,s.height):e.EMPTY},e.EMPTY=new e(0,0,0,0),e}(),gf=function(e,t){return pi.fromClientRect(e,t.getBoundingClientRect())},NC=function(e){var t=e.body,r=e.documentElement;if(!t||!r)throw new Error("Unable to get document size");var s=Math.max(Math.max(t.scrollWidth,r.scrollWidth),Math.max(t.offsetWidth,r.offsetWidth),Math.max(t.clientWidth,r.clientWidth)),a=Math.max(Math.max(t.scrollHeight,r.scrollHeight),Math.max(t.offsetHeight,r.offsetHeight),Math.max(t.clientHeight,r.clientHeight));return new pi(0,0,s,a)},xf=function(e){for(var t=[],r=0,s=e.length;r<s;){var a=e.charCodeAt(r++);if(a>=55296&&a<=56319&&r<s){var i=e.charCodeAt(r++);(i&64512)===56320?t.push(((a&1023)<<10)+(i&1023)+65536):(t.push(a),r--)}else t.push(a)}return t},Ur=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(String.fromCodePoint)return String.fromCodePoint.apply(String,e);var r=e.length;if(!r)return"";for(var s=[],a=-1,i="";++a<r;){var o=e[a];o<=65535?s.push(o):(o-=65536,s.push((o>>10)+55296,o%1024+56320)),(a+1===r||s.length>16384)&&(i+=String.fromCharCode.apply(String,s),s.length=0)}return i},e1="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",jC=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var uh=0;uh<e1.length;uh++)jC[e1.charCodeAt(uh)]=uh;var t1="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",eu=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var dh=0;dh<t1.length;dh++)eu[t1.charCodeAt(dh)]=dh;var CC=function(e){var t=e.length*.75,r=e.length,s,a=0,i,o,A,l;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);var c=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(t):new Array(t),d=Array.isArray(c)?c:new Uint8Array(c);for(s=0;s<r;s+=4)i=eu[e.charCodeAt(s)],o=eu[e.charCodeAt(s+1)],A=eu[e.charCodeAt(s+2)],l=eu[e.charCodeAt(s+3)],d[a++]=i<<2|o>>4,d[a++]=(o&15)<<4|A>>2,d[a++]=(A&3)<<6|l&63;return c},_C=function(e){for(var t=e.length,r=[],s=0;s<t;s+=2)r.push(e[s+1]<<8|e[s]);return r},SC=function(e){for(var t=e.length,r=[],s=0;s<t;s+=4)r.push(e[s+3]<<24|e[s+2]<<16|e[s+1]<<8|e[s]);return r},tA=5,rb=11,Tp=2,EC=rb-tA,dy=65536>>tA,FC=1<<tA,Pp=FC-1,UC=1024>>tA,QC=dy+UC,kC=QC,IC=32,LC=kC+IC,TC=65536>>rb,PC=1<<EC,RC=PC-1,r1=function(e,t,r){return e.slice?e.slice(t,r):new Uint16Array(Array.prototype.slice.call(e,t,r))},OC=function(e,t,r){return e.slice?e.slice(t,r):new Uint32Array(Array.prototype.slice.call(e,t,r))},DC=function(e,t){var r=CC(e),s=Array.isArray(r)?SC(r):new Uint32Array(r),a=Array.isArray(r)?_C(r):new Uint16Array(r),i=24,o=r1(a,i/2,s[4]/2),A=s[5]===2?r1(a,(i+s[4])/2):OC(s,Math.ceil((i+s[4])/4));return new HC(s[0],s[1],s[2],s[3],o,A)},HC=function(){function e(t,r,s,a,i,o){this.initialValue=t,this.errorValue=r,this.highStart=s,this.highValueIndex=a,this.index=i,this.data=o}return e.prototype.get=function(t){var r;if(t>=0){if(t<55296||t>56319&&t<=65535)return r=this.index[t>>tA],r=(r<<Tp)+(t&Pp),this.data[r];if(t<=65535)return r=this.index[dy+(t-55296>>tA)],r=(r<<Tp)+(t&Pp),this.data[r];if(t<this.highStart)return r=LC-TC+(t>>rb),r=this.index[r],r+=t>>tA&RC,r=this.index[r],r=(r<<Tp)+(t&Pp),this.data[r];if(t<=1114111)return this.data[this.highValueIndex]}return this.errorValue},e}(),s1="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",$C=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var hh=0;hh<s1.length;hh++)$C[s1.charCodeAt(hh)]=hh;var MC="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",n1=50,KC=1,hy=2,fy=3,VC=4,zC=5,a1=7,py=8,i1=9,eo=10,pg=11,o1=12,mg=13,qC=14,tu=15,gg=16,fh=17,Hc=18,GC=19,A1=20,xg=21,$c=22,Rp=23,DA=24,yn=25,ru=26,su=27,HA=28,WC=29,Ko=30,JC=31,ph=32,mh=33,bg=34,wg=35,vg=36,$u=37,yg=38,s0=39,n0=40,Op=41,my=42,XC=43,YC=[9001,65288],gy="!",St="",gh="",Bg=DC(MC),ti=[Ko,vg],Ng=[KC,hy,fy,zC],xy=[eo,py],l1=[su,ru],ZC=Ng.concat(xy),c1=[yg,s0,n0,bg,wg],e3=[tu,mg],t3=function(e,t){t===void 0&&(t="strict");var r=[],s=[],a=[];return e.forEach(function(i,o){var A=Bg.get(i);if(A>n1?(a.push(!0),A-=n1):a.push(!1),["normal","auto","loose"].indexOf(t)!==-1&&[8208,8211,12316,12448].indexOf(i)!==-1)return s.push(o),r.push(gg);if(A===VC||A===pg){if(o===0)return s.push(o),r.push(Ko);var l=r[o-1];return ZC.indexOf(l)===-1?(s.push(s[o-1]),r.push(l)):(s.push(o),r.push(Ko))}if(s.push(o),A===JC)return r.push(t==="strict"?xg:$u);if(A===my||A===WC)return r.push(Ko);if(A===XC)return i>=131072&&i<=196605||i>=196608&&i<=262141?r.push($u):r.push(Ko);r.push(A)}),[s,r,a]},Dp=function(e,t,r,s){var a=s[r];if(Array.isArray(e)?e.indexOf(a)!==-1:e===a)for(var i=r;i<=s.length;){i++;var o=s[i];if(o===t)return!0;if(o!==eo)break}if(a===eo)for(var i=r;i>0;){i--;var A=s[i];if(Array.isArray(e)?e.indexOf(A)!==-1:e===A)for(var l=r;l<=s.length;){l++;var o=s[l];if(o===t)return!0;if(o!==eo)break}if(A!==eo)break}return!1},u1=function(e,t){for(var r=e;r>=0;){var s=t[r];if(s===eo)r--;else return s}return 0},r3=function(e,t,r,s,a){if(r[s]===0)return St;var i=s-1;if(Array.isArray(a)&&a[i]===!0)return St;var o=i-1,A=i+1,l=t[i],c=o>=0?t[o]:0,d=t[A];if(l===hy&&d===fy)return St;if(Ng.indexOf(l)!==-1)return gy;if(Ng.indexOf(d)!==-1||xy.indexOf(d)!==-1)return St;if(u1(i,t)===py)return gh;if(Bg.get(e[i])===pg||(l===ph||l===mh)&&Bg.get(e[A])===pg||l===a1||d===a1||l===i1||[eo,mg,tu].indexOf(l)===-1&&d===i1||[fh,Hc,GC,DA,HA].indexOf(d)!==-1||u1(i,t)===$c||Dp(Rp,$c,i,t)||Dp([fh,Hc],xg,i,t)||Dp(o1,o1,i,t))return St;if(l===eo)return gh;if(l===Rp||d===Rp)return St;if(d===gg||l===gg)return gh;if([mg,tu,xg].indexOf(d)!==-1||l===qC||c===vg&&e3.indexOf(l)!==-1||l===HA&&d===vg||d===A1||ti.indexOf(d)!==-1&&l===yn||ti.indexOf(l)!==-1&&d===yn||l===su&&[$u,ph,mh].indexOf(d)!==-1||[$u,ph,mh].indexOf(l)!==-1&&d===ru||ti.indexOf(l)!==-1&&l1.indexOf(d)!==-1||l1.indexOf(l)!==-1&&ti.indexOf(d)!==-1||[su,ru].indexOf(l)!==-1&&(d===yn||[$c,tu].indexOf(d)!==-1&&t[A+1]===yn)||[$c,tu].indexOf(l)!==-1&&d===yn||l===yn&&[yn,HA,DA].indexOf(d)!==-1)return St;if([yn,HA,DA,fh,Hc].indexOf(d)!==-1)for(var f=i;f>=0;){var m=t[f];if(m===yn)return St;if([HA,DA].indexOf(m)!==-1)f--;else break}if([su,ru].indexOf(d)!==-1)for(var f=[fh,Hc].indexOf(l)!==-1?o:i;f>=0;){var m=t[f];if(m===yn)return St;if([HA,DA].indexOf(m)!==-1)f--;else break}if(yg===l&&[yg,s0,bg,wg].indexOf(d)!==-1||[s0,bg].indexOf(l)!==-1&&[s0,n0].indexOf(d)!==-1||[n0,wg].indexOf(l)!==-1&&d===n0||c1.indexOf(l)!==-1&&[A1,ru].indexOf(d)!==-1||c1.indexOf(d)!==-1&&l===su||ti.indexOf(l)!==-1&&ti.indexOf(d)!==-1||l===DA&&ti.indexOf(d)!==-1||ti.concat(yn).indexOf(l)!==-1&&d===$c&&YC.indexOf(e[A])===-1||ti.concat(yn).indexOf(d)!==-1&&l===Hc)return St;if(l===Op&&d===Op){for(var h=r[i],v=1;h>0&&(h--,t[h]===Op);)v++;if(v%2!==0)return St}return l===ph&&d===mh?St:gh},s3=function(e,t){t||(t={lineBreak:"normal",wordBreak:"normal"});var r=t3(e,t.lineBreak),s=r[0],a=r[1],i=r[2];(t.wordBreak==="break-all"||t.wordBreak==="break-word")&&(a=a.map(function(A){return[yn,Ko,my].indexOf(A)!==-1?$u:A}));var o=t.wordBreak==="keep-all"?i.map(function(A,l){return A&&e[l]>=19968&&e[l]<=40959}):void 0;return[s,a,o]},n3=function(){function e(t,r,s,a){this.codePoints=t,this.required=r===gy,this.start=s,this.end=a}return e.prototype.slice=function(){return Ur.apply(void 0,this.codePoints.slice(this.start,this.end))},e}(),a3=function(e,t){var r=xf(e),s=s3(r,t),a=s[0],i=s[1],o=s[2],A=r.length,l=0,c=0;return{next:function(){if(c>=A)return{done:!0,value:null};for(var d=St;c<A&&(d=r3(r,i,a,++c,o))===St;);if(d!==St||c===A){var f=new n3(r,d,l,c);return l=c,{value:f,done:!1}}return{done:!0,value:null}}}},i3=1,o3=2,id=4,d1=8,L0=10,h1=47,gu=92,A3=9,l3=32,xh=34,Mc=61,c3=35,u3=36,d3=37,bh=39,wh=40,Kc=41,h3=95,an=45,f3=33,p3=60,m3=62,g3=64,x3=91,b3=93,w3=61,v3=123,vh=63,y3=125,f1=124,B3=126,N3=128,p1=65533,Hp=42,Xo=43,j3=44,C3=58,_3=59,Mu=46,S3=0,E3=8,F3=11,U3=14,Q3=31,k3=127,La=-1,by=48,wy=97,vy=101,I3=102,L3=117,T3=122,yy=65,By=69,Ny=70,P3=85,R3=90,Fs=function(e){return e>=by&&e<=57},O3=function(e){return e>=55296&&e<=57343},$A=function(e){return Fs(e)||e>=yy&&e<=Ny||e>=wy&&e<=I3},D3=function(e){return e>=wy&&e<=T3},H3=function(e){return e>=yy&&e<=R3},$3=function(e){return D3(e)||H3(e)},M3=function(e){return e>=N3},yh=function(e){return e===L0||e===A3||e===l3},T0=function(e){return $3(e)||M3(e)||e===h3},m1=function(e){return T0(e)||Fs(e)||e===an},K3=function(e){return e>=S3&&e<=E3||e===F3||e>=U3&&e<=Q3||e===k3},qi=function(e,t){return e!==gu?!1:t!==L0},Bh=function(e,t,r){return e===an?T0(t)||qi(t,r):T0(e)?!0:!!(e===gu&&qi(e,t))},$p=function(e,t,r){return e===Xo||e===an?Fs(t)?!0:t===Mu&&Fs(r):Fs(e===Mu?t:e)},V3=function(e){var t=0,r=1;(e[t]===Xo||e[t]===an)&&(e[t]===an&&(r=-1),t++);for(var s=[];Fs(e[t]);)s.push(e[t++]);var a=s.length?parseInt(Ur.apply(void 0,s),10):0;e[t]===Mu&&t++;for(var i=[];Fs(e[t]);)i.push(e[t++]);var o=i.length,A=o?parseInt(Ur.apply(void 0,i),10):0;(e[t]===By||e[t]===vy)&&t++;var l=1;(e[t]===Xo||e[t]===an)&&(e[t]===an&&(l=-1),t++);for(var c=[];Fs(e[t]);)c.push(e[t++]);var d=c.length?parseInt(Ur.apply(void 0,c),10):0;return r*(a+A*Math.pow(10,-o))*Math.pow(10,l*d)},z3={type:2},q3={type:3},G3={type:4},W3={type:13},J3={type:8},X3={type:21},Y3={type:9},Z3={type:10},e_={type:11},t_={type:12},r_={type:14},Nh={type:23},s_={type:1},n_={type:25},a_={type:24},i_={type:26},o_={type:27},A_={type:28},l_={type:29},c_={type:31},jg={type:32},jy=function(){function e(){this._value=[]}return e.prototype.write=function(t){this._value=this._value.concat(xf(t))},e.prototype.read=function(){for(var t=[],r=this.consumeToken();r!==jg;)t.push(r),r=this.consumeToken();return t},e.prototype.consumeToken=function(){var t=this.consumeCodePoint();switch(t){case xh:return this.consumeStringToken(xh);case c3:var r=this.peekCodePoint(0),s=this.peekCodePoint(1),a=this.peekCodePoint(2);if(m1(r)||qi(s,a)){var i=Bh(r,s,a)?o3:i3,o=this.consumeName();return{type:5,value:o,flags:i}}break;case u3:if(this.peekCodePoint(0)===Mc)return this.consumeCodePoint(),W3;break;case bh:return this.consumeStringToken(bh);case wh:return z3;case Kc:return q3;case Hp:if(this.peekCodePoint(0)===Mc)return this.consumeCodePoint(),r_;break;case Xo:if($p(t,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(t),this.consumeNumericToken();break;case j3:return G3;case an:var A=t,l=this.peekCodePoint(0),c=this.peekCodePoint(1);if($p(A,l,c))return this.reconsumeCodePoint(t),this.consumeNumericToken();if(Bh(A,l,c))return this.reconsumeCodePoint(t),this.consumeIdentLikeToken();if(l===an&&c===m3)return this.consumeCodePoint(),this.consumeCodePoint(),a_;break;case Mu:if($p(t,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(t),this.consumeNumericToken();break;case h1:if(this.peekCodePoint(0)===Hp)for(this.consumeCodePoint();;){var d=this.consumeCodePoint();if(d===Hp&&(d=this.consumeCodePoint(),d===h1))return this.consumeToken();if(d===La)return this.consumeToken()}break;case C3:return i_;case _3:return o_;case p3:if(this.peekCodePoint(0)===f3&&this.peekCodePoint(1)===an&&this.peekCodePoint(2)===an)return this.consumeCodePoint(),this.consumeCodePoint(),n_;break;case g3:var f=this.peekCodePoint(0),m=this.peekCodePoint(1),h=this.peekCodePoint(2);if(Bh(f,m,h)){var o=this.consumeName();return{type:7,value:o}}break;case x3:return A_;case gu:if(qi(t,this.peekCodePoint(0)))return this.reconsumeCodePoint(t),this.consumeIdentLikeToken();break;case b3:return l_;case w3:if(this.peekCodePoint(0)===Mc)return this.consumeCodePoint(),J3;break;case v3:return e_;case y3:return t_;case L3:case P3:var v=this.peekCodePoint(0),b=this.peekCodePoint(1);return v===Xo&&($A(b)||b===vh)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(t),this.consumeIdentLikeToken();case f1:if(this.peekCodePoint(0)===Mc)return this.consumeCodePoint(),Y3;if(this.peekCodePoint(0)===f1)return this.consumeCodePoint(),X3;break;case B3:if(this.peekCodePoint(0)===Mc)return this.consumeCodePoint(),Z3;break;case La:return jg}return yh(t)?(this.consumeWhiteSpace(),c_):Fs(t)?(this.reconsumeCodePoint(t),this.consumeNumericToken()):T0(t)?(this.reconsumeCodePoint(t),this.consumeIdentLikeToken()):{type:6,value:Ur(t)}},e.prototype.consumeCodePoint=function(){var t=this._value.shift();return typeof t>"u"?-1:t},e.prototype.reconsumeCodePoint=function(t){this._value.unshift(t)},e.prototype.peekCodePoint=function(t){return t>=this._value.length?-1:this._value[t]},e.prototype.consumeUnicodeRangeToken=function(){for(var t=[],r=this.consumeCodePoint();$A(r)&&t.length<6;)t.push(r),r=this.consumeCodePoint();for(var s=!1;r===vh&&t.length<6;)t.push(r),r=this.consumeCodePoint(),s=!0;if(s){var a=parseInt(Ur.apply(void 0,t.map(function(l){return l===vh?by:l})),16),i=parseInt(Ur.apply(void 0,t.map(function(l){return l===vh?Ny:l})),16);return{type:30,start:a,end:i}}var o=parseInt(Ur.apply(void 0,t),16);if(this.peekCodePoint(0)===an&&$A(this.peekCodePoint(1))){this.consumeCodePoint(),r=this.consumeCodePoint();for(var A=[];$A(r)&&A.length<6;)A.push(r),r=this.consumeCodePoint();var i=parseInt(Ur.apply(void 0,A),16);return{type:30,start:o,end:i}}else return{type:30,start:o,end:o}},e.prototype.consumeIdentLikeToken=function(){var t=this.consumeName();return t.toLowerCase()==="url"&&this.peekCodePoint(0)===wh?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===wh?(this.consumeCodePoint(),{type:19,value:t}):{type:20,value:t}},e.prototype.consumeUrlToken=function(){var t=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===La)return{type:22,value:""};var r=this.peekCodePoint(0);if(r===bh||r===xh){var s=this.consumeStringToken(this.consumeCodePoint());return s.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===La||this.peekCodePoint(0)===Kc)?(this.consumeCodePoint(),{type:22,value:s.value}):(this.consumeBadUrlRemnants(),Nh)}for(;;){var a=this.consumeCodePoint();if(a===La||a===Kc)return{type:22,value:Ur.apply(void 0,t)};if(yh(a))return this.consumeWhiteSpace(),this.peekCodePoint(0)===La||this.peekCodePoint(0)===Kc?(this.consumeCodePoint(),{type:22,value:Ur.apply(void 0,t)}):(this.consumeBadUrlRemnants(),Nh);if(a===xh||a===bh||a===wh||K3(a))return this.consumeBadUrlRemnants(),Nh;if(a===gu)if(qi(a,this.peekCodePoint(0)))t.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),Nh;else t.push(a)}},e.prototype.consumeWhiteSpace=function(){for(;yh(this.peekCodePoint(0));)this.consumeCodePoint()},e.prototype.consumeBadUrlRemnants=function(){for(;;){var t=this.consumeCodePoint();if(t===Kc||t===La)return;qi(t,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},e.prototype.consumeStringSlice=function(t){for(var r=5e4,s="";t>0;){var a=Math.min(r,t);s+=Ur.apply(void 0,this._value.splice(0,a)),t-=a}return this._value.shift(),s},e.prototype.consumeStringToken=function(t){var r="",s=0;do{var a=this._value[s];if(a===La||a===void 0||a===t)return r+=this.consumeStringSlice(s),{type:0,value:r};if(a===L0)return this._value.splice(0,s),s_;if(a===gu){var i=this._value[s+1];i!==La&&i!==void 0&&(i===L0?(r+=this.consumeStringSlice(s),s=-1,this._value.shift()):qi(a,i)&&(r+=this.consumeStringSlice(s),r+=Ur(this.consumeEscapedCodePoint()),s=-1))}s++}while(!0)},e.prototype.consumeNumber=function(){var t=[],r=id,s=this.peekCodePoint(0);for((s===Xo||s===an)&&t.push(this.consumeCodePoint());Fs(this.peekCodePoint(0));)t.push(this.consumeCodePoint());s=this.peekCodePoint(0);var a=this.peekCodePoint(1);if(s===Mu&&Fs(a))for(t.push(this.consumeCodePoint(),this.consumeCodePoint()),r=d1;Fs(this.peekCodePoint(0));)t.push(this.consumeCodePoint());s=this.peekCodePoint(0),a=this.peekCodePoint(1);var i=this.peekCodePoint(2);if((s===By||s===vy)&&((a===Xo||a===an)&&Fs(i)||Fs(a)))for(t.push(this.consumeCodePoint(),this.consumeCodePoint()),r=d1;Fs(this.peekCodePoint(0));)t.push(this.consumeCodePoint());return[V3(t),r]},e.prototype.consumeNumericToken=function(){var t=this.consumeNumber(),r=t[0],s=t[1],a=this.peekCodePoint(0),i=this.peekCodePoint(1),o=this.peekCodePoint(2);if(Bh(a,i,o)){var A=this.consumeName();return{type:15,number:r,flags:s,unit:A}}return a===d3?(this.consumeCodePoint(),{type:16,number:r,flags:s}):{type:17,number:r,flags:s}},e.prototype.consumeEscapedCodePoint=function(){var t=this.consumeCodePoint();if($A(t)){for(var r=Ur(t);$A(this.peekCodePoint(0))&&r.length<6;)r+=Ur(this.consumeCodePoint());yh(this.peekCodePoint(0))&&this.consumeCodePoint();var s=parseInt(r,16);return s===0||O3(s)||s>1114111?p1:s}return t===La?p1:t},e.prototype.consumeName=function(){for(var t="";;){var r=this.consumeCodePoint();if(m1(r))t+=Ur(r);else if(qi(r,this.peekCodePoint(0)))t+=Ur(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(r),t}},e}(),Cy=function(){function e(t){this._tokens=t}return e.create=function(t){var r=new jy;return r.write(t),new e(r.read())},e.parseValue=function(t){return e.create(t).parseComponentValue()},e.parseValues=function(t){return e.create(t).parseComponentValues()},e.prototype.parseComponentValue=function(){for(var t=this.consumeToken();t.type===31;)t=this.consumeToken();if(t.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(t);var r=this.consumeComponentValue();do t=this.consumeToken();while(t.type===31);if(t.type===32)return r;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},e.prototype.parseComponentValues=function(){for(var t=[];;){var r=this.consumeComponentValue();if(r.type===32)return t;t.push(r),t.push()}},e.prototype.consumeComponentValue=function(){var t=this.consumeToken();switch(t.type){case 11:case 28:case 2:return this.consumeSimpleBlock(t.type);case 19:return this.consumeFunction(t)}return t},e.prototype.consumeSimpleBlock=function(t){for(var r={type:t,values:[]},s=this.consumeToken();;){if(s.type===32||d_(s,t))return r;this.reconsumeToken(s),r.values.push(this.consumeComponentValue()),s=this.consumeToken()}},e.prototype.consumeFunction=function(t){for(var r={name:t.value,values:[],type:18};;){var s=this.consumeToken();if(s.type===32||s.type===3)return r;this.reconsumeToken(s),r.values.push(this.consumeComponentValue())}},e.prototype.consumeToken=function(){var t=this._tokens.shift();return typeof t>"u"?jg:t},e.prototype.reconsumeToken=function(t){this._tokens.unshift(t)},e}(),od=function(e){return e.type===15},Jl=function(e){return e.type===17},Gt=function(e){return e.type===20},u_=function(e){return e.type===0},Cg=function(e,t){return Gt(e)&&e.value===t},_y=function(e){return e.type!==31},Kl=function(e){return e.type!==31&&e.type!==4},Ma=function(e){var t=[],r=[];return e.forEach(function(s){if(s.type===4){if(r.length===0)throw new Error("Error parsing function args, zero tokens for arg");t.push(r),r=[];return}s.type!==31&&r.push(s)}),r.length&&t.push(r),t},d_=function(e,t){return t===11&&e.type===12||t===28&&e.type===29?!0:t===2&&e.type===3},go=function(e){return e.type===17||e.type===15},Hr=function(e){return e.type===16||go(e)},Sy=function(e){return e.length>1?[e[0],e[1]]:[e[0]]},gs={type:17,number:0,flags:id},sb={type:16,number:50,flags:id},to={type:16,number:100,flags:id},nu=function(e,t,r){var s=e[0],a=e[1];return[rr(s,t),rr(typeof a<"u"?a:s,r)]},rr=function(e,t){if(e.type===16)return e.number/100*t;if(od(e))switch(e.unit){case"rem":case"em":return 16*e.number;case"px":default:return e.number}return e.number},Ey="deg",Fy="grad",Uy="rad",Qy="turn",bf={name:"angle",parse:function(e,t){if(t.type===15)switch(t.unit){case Ey:return Math.PI*t.number/180;case Fy:return Math.PI/200*t.number;case Uy:return t.number;case Qy:return Math.PI*2*t.number}throw new Error("Unsupported angle type")}},ky=function(e){return e.type===15&&(e.unit===Ey||e.unit===Fy||e.unit===Uy||e.unit===Qy)},Iy=function(e){var t=e.filter(Gt).map(function(r){return r.value}).join(" ");switch(t){case"to bottom right":case"to right bottom":case"left top":case"top left":return[gs,gs];case"to top":case"bottom":return qn(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[gs,to];case"to right":case"left":return qn(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[to,to];case"to bottom":case"top":return qn(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[to,gs];case"to left":case"right":return qn(270)}return 0},qn=function(e){return Math.PI*e/180},ho={name:"color",parse:function(e,t){if(t.type===18){var r=h_[t.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported color function "'+t.name+'"');return r(e,t.values)}if(t.type===5){if(t.value.length===3){var s=t.value.substring(0,1),a=t.value.substring(1,2),i=t.value.substring(2,3);return ro(parseInt(s+s,16),parseInt(a+a,16),parseInt(i+i,16),1)}if(t.value.length===4){var s=t.value.substring(0,1),a=t.value.substring(1,2),i=t.value.substring(2,3),o=t.value.substring(3,4);return ro(parseInt(s+s,16),parseInt(a+a,16),parseInt(i+i,16),parseInt(o+o,16)/255)}if(t.value.length===6){var s=t.value.substring(0,2),a=t.value.substring(2,4),i=t.value.substring(4,6);return ro(parseInt(s,16),parseInt(a,16),parseInt(i,16),1)}if(t.value.length===8){var s=t.value.substring(0,2),a=t.value.substring(2,4),i=t.value.substring(4,6),o=t.value.substring(6,8);return ro(parseInt(s,16),parseInt(a,16),parseInt(i,16),parseInt(o,16)/255)}}if(t.type===20){var A=ci[t.value.toUpperCase()];if(typeof A<"u")return A}return ci.TRANSPARENT}},fo=function(e){return(255&e)===0},ss=function(e){var t=255&e,r=255&e>>8,s=255&e>>16,a=255&e>>24;return t<255?"rgba("+a+","+s+","+r+","+t/255+")":"rgb("+a+","+s+","+r+")"},ro=function(e,t,r,s){return(e<<24|t<<16|r<<8|Math.round(s*255)<<0)>>>0},g1=function(e,t){if(e.type===17)return e.number;if(e.type===16){var r=t===3?1:255;return t===3?e.number/100*r:Math.round(e.number/100*r)}return 0},x1=function(e,t){var r=t.filter(Kl);if(r.length===3){var s=r.map(g1),a=s[0],i=s[1],o=s[2];return ro(a,i,o,1)}if(r.length===4){var A=r.map(g1),a=A[0],i=A[1],o=A[2],l=A[3];return ro(a,i,o,l)}return 0};function Mp(e,t,r){return r<0&&(r+=1),r>=1&&(r-=1),r<1/6?(t-e)*r*6+e:r<1/2?t:r<2/3?(t-e)*6*(2/3-r)+e:e}var b1=function(e,t){var r=t.filter(Kl),s=r[0],a=r[1],i=r[2],o=r[3],A=(s.type===17?qn(s.number):bf.parse(e,s))/(Math.PI*2),l=Hr(a)?a.number/100:0,c=Hr(i)?i.number/100:0,d=typeof o<"u"&&Hr(o)?rr(o,1):1;if(l===0)return ro(c*255,c*255,c*255,1);var f=c<=.5?c*(l+1):c+l-c*l,m=c*2-f,h=Mp(m,f,A+1/3),v=Mp(m,f,A),b=Mp(m,f,A-1/3);return ro(h*255,v*255,b*255,d)},h_={hsl:b1,hsla:b1,rgb:x1,rgba:x1},xu=function(e,t){return ho.parse(e,Cy.create(t).parseComponentValue())},ci={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},f_={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(e,t){return t.map(function(r){if(Gt(r))switch(r.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},p_={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},wf=function(e,t){var r=ho.parse(e,t[0]),s=t[1];return s&&Hr(s)?{color:r,stop:s}:{color:r,stop:null}},w1=function(e,t){var r=e[0],s=e[e.length-1];r.stop===null&&(r.stop=gs),s.stop===null&&(s.stop=to);for(var a=[],i=0,o=0;o<e.length;o++){var A=e[o].stop;if(A!==null){var l=rr(A,t);l>i?a.push(l):a.push(i),i=l}else a.push(null)}for(var c=null,o=0;o<a.length;o++){var d=a[o];if(d===null)c===null&&(c=o);else if(c!==null){for(var f=o-c,m=a[c-1],h=(d-m)/(f+1),v=1;v<=f;v++)a[c+v-1]=h*v;c=null}}return e.map(function(b,N){var w=b.color;return{color:w,stop:Math.max(Math.min(1,a[N]/t),0)}})},m_=function(e,t,r){var s=t/2,a=r/2,i=rr(e[0],t)-s,o=a-rr(e[1],r);return(Math.atan2(o,i)+Math.PI*2)%(Math.PI*2)},g_=function(e,t,r){var s=typeof e=="number"?e:m_(e,t,r),a=Math.abs(t*Math.sin(s))+Math.abs(r*Math.cos(s)),i=t/2,o=r/2,A=a/2,l=Math.sin(s-Math.PI/2)*A,c=Math.cos(s-Math.PI/2)*A;return[a,i-c,i+c,o-l,o+l]},da=function(e,t){return Math.sqrt(e*e+t*t)},v1=function(e,t,r,s,a){var i=[[0,0],[0,t],[e,0],[e,t]];return i.reduce(function(o,A){var l=A[0],c=A[1],d=da(r-l,s-c);return(a?d<o.optimumDistance:d>o.optimumDistance)?{optimumCorner:A,optimumDistance:d}:o},{optimumDistance:a?1/0:-1/0,optimumCorner:null}).optimumCorner},x_=function(e,t,r,s,a){var i=0,o=0;switch(e.size){case 0:e.shape===0?i=o=Math.min(Math.abs(t),Math.abs(t-s),Math.abs(r),Math.abs(r-a)):e.shape===1&&(i=Math.min(Math.abs(t),Math.abs(t-s)),o=Math.min(Math.abs(r),Math.abs(r-a)));break;case 2:if(e.shape===0)i=o=Math.min(da(t,r),da(t,r-a),da(t-s,r),da(t-s,r-a));else if(e.shape===1){var A=Math.min(Math.abs(r),Math.abs(r-a))/Math.min(Math.abs(t),Math.abs(t-s)),l=v1(s,a,t,r,!0),c=l[0],d=l[1];i=da(c-t,(d-r)/A),o=A*i}break;case 1:e.shape===0?i=o=Math.max(Math.abs(t),Math.abs(t-s),Math.abs(r),Math.abs(r-a)):e.shape===1&&(i=Math.max(Math.abs(t),Math.abs(t-s)),o=Math.max(Math.abs(r),Math.abs(r-a)));break;case 3:if(e.shape===0)i=o=Math.max(da(t,r),da(t,r-a),da(t-s,r),da(t-s,r-a));else if(e.shape===1){var A=Math.max(Math.abs(r),Math.abs(r-a))/Math.max(Math.abs(t),Math.abs(t-s)),f=v1(s,a,t,r,!1),c=f[0],d=f[1];i=da(c-t,(d-r)/A),o=A*i}break}return Array.isArray(e.size)&&(i=rr(e.size[0],s),o=e.size.length===2?rr(e.size[1],a):i),[i,o]},b_=function(e,t){var r=qn(180),s=[];return Ma(t).forEach(function(a,i){if(i===0){var o=a[0];if(o.type===20&&o.value==="to"){r=Iy(a);return}else if(ky(o)){r=bf.parse(e,o);return}}var A=wf(e,a);s.push(A)}),{angle:r,stops:s,type:1}},jh=function(e,t){var r=qn(180),s=[];return Ma(t).forEach(function(a,i){if(i===0){var o=a[0];if(o.type===20&&["top","left","right","bottom"].indexOf(o.value)!==-1){r=Iy(a);return}else if(ky(o)){r=(bf.parse(e,o)+qn(270))%qn(360);return}}var A=wf(e,a);s.push(A)}),{angle:r,stops:s,type:1}},w_=function(e,t){var r=qn(180),s=[],a=1,i=0,o=3,A=[];return Ma(t).forEach(function(l,c){var d=l[0];if(c===0){if(Gt(d)&&d.value==="linear"){a=1;return}else if(Gt(d)&&d.value==="radial"){a=2;return}}if(d.type===18){if(d.name==="from"){var f=ho.parse(e,d.values[0]);s.push({stop:gs,color:f})}else if(d.name==="to"){var f=ho.parse(e,d.values[0]);s.push({stop:to,color:f})}else if(d.name==="color-stop"){var m=d.values.filter(Kl);if(m.length===2){var f=ho.parse(e,m[1]),h=m[0];Jl(h)&&s.push({stop:{type:16,number:h.number*100,flags:h.flags},color:f})}}}}),a===1?{angle:(r+qn(180))%qn(360),stops:s,type:a}:{size:o,shape:i,stops:s,position:A,type:a}},Ly="closest-side",Ty="farthest-side",Py="closest-corner",Ry="farthest-corner",Oy="circle",Dy="ellipse",Hy="cover",$y="contain",v_=function(e,t){var r=0,s=3,a=[],i=[];return Ma(t).forEach(function(o,A){var l=!0;if(A===0){var c=!1;l=o.reduce(function(f,m){if(c)if(Gt(m))switch(m.value){case"center":return i.push(sb),f;case"top":case"left":return i.push(gs),f;case"right":case"bottom":return i.push(to),f}else(Hr(m)||go(m))&&i.push(m);else if(Gt(m))switch(m.value){case Oy:return r=0,!1;case Dy:return r=1,!1;case"at":return c=!0,!1;case Ly:return s=0,!1;case Hy:case Ty:return s=1,!1;case $y:case Py:return s=2,!1;case Ry:return s=3,!1}else if(go(m)||Hr(m))return Array.isArray(s)||(s=[]),s.push(m),!1;return f},l)}if(l){var d=wf(e,o);a.push(d)}}),{size:s,shape:r,stops:a,position:i,type:2}},Ch=function(e,t){var r=0,s=3,a=[],i=[];return Ma(t).forEach(function(o,A){var l=!0;if(A===0?l=o.reduce(function(d,f){if(Gt(f))switch(f.value){case"center":return i.push(sb),!1;case"top":case"left":return i.push(gs),!1;case"right":case"bottom":return i.push(to),!1}else if(Hr(f)||go(f))return i.push(f),!1;return d},l):A===1&&(l=o.reduce(function(d,f){if(Gt(f))switch(f.value){case Oy:return r=0,!1;case Dy:return r=1,!1;case $y:case Ly:return s=0,!1;case Ty:return s=1,!1;case Py:return s=2,!1;case Hy:case Ry:return s=3,!1}else if(go(f)||Hr(f))return Array.isArray(s)||(s=[]),s.push(f),!1;return d},l)),l){var c=wf(e,o);a.push(c)}}),{size:s,shape:r,stops:a,position:i,type:2}},y_=function(e){return e.type===1},B_=function(e){return e.type===2},nb={name:"image",parse:function(e,t){if(t.type===22){var r={url:t.value,type:0};return e.cache.addImage(t.value),r}if(t.type===18){var s=My[t.name];if(typeof s>"u")throw new Error('Attempting to parse an unsupported image function "'+t.name+'"');return s(e,t.values)}throw new Error("Unsupported image type "+t.type)}};function N_(e){return!(e.type===20&&e.value==="none")&&(e.type!==18||!!My[e.name])}var My={"linear-gradient":b_,"-moz-linear-gradient":jh,"-ms-linear-gradient":jh,"-o-linear-gradient":jh,"-webkit-linear-gradient":jh,"radial-gradient":v_,"-moz-radial-gradient":Ch,"-ms-radial-gradient":Ch,"-o-radial-gradient":Ch,"-webkit-radial-gradient":Ch,"-webkit-gradient":w_},j_={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(e,t){if(t.length===0)return[];var r=t[0];return r.type===20&&r.value==="none"?[]:t.filter(function(s){return Kl(s)&&N_(s)}).map(function(s){return nb.parse(e,s)})}},C_={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(e,t){return t.map(function(r){if(Gt(r))switch(r.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},__={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(e,t){return Ma(t).map(function(r){return r.filter(Hr)}).map(Sy)}},S_={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(e,t){return Ma(t).map(function(r){return r.filter(Gt).map(function(s){return s.value}).join(" ")}).map(E_)}},E_=function(e){switch(e){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},El;(function(e){e.AUTO="auto",e.CONTAIN="contain",e.COVER="cover"})(El||(El={}));var F_={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(e,t){return Ma(t).map(function(r){return r.filter(U_)})}},U_=function(e){return Gt(e)||Hr(e)},vf=function(e){return{name:"border-"+e+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},Q_=vf("top"),k_=vf("right"),I_=vf("bottom"),L_=vf("left"),yf=function(e){return{name:"border-radius-"+e,initialValue:"0 0",prefix:!1,type:1,parse:function(t,r){return Sy(r.filter(Hr))}}},T_=yf("top-left"),P_=yf("top-right"),R_=yf("bottom-right"),O_=yf("bottom-left"),Bf=function(e){return{name:"border-"+e+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(t,r){switch(r){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},D_=Bf("top"),H_=Bf("right"),$_=Bf("bottom"),M_=Bf("left"),Nf=function(e){return{name:"border-"+e+"-width",initialValue:"0",type:0,prefix:!1,parse:function(t,r){return od(r)?r.number:0}}},K_=Nf("top"),V_=Nf("right"),z_=Nf("bottom"),q_=Nf("left"),G_={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},W_={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(e,t){switch(t){case"rtl":return 1;case"ltr":default:return 0}}},J_={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(e,t){return t.filter(Gt).reduce(function(r,s){return r|X_(s.value)},0)}},X_=function(e){switch(e){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},Y_={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},Z_={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(e,t){return t.type===20&&t.value==="normal"?0:t.type===17||t.type===15?t.number:0}},P0;(function(e){e.NORMAL="normal",e.STRICT="strict"})(P0||(P0={}));var eS={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"strict":return P0.STRICT;case"normal":default:return P0.NORMAL}}},tS={name:"line-height",initialValue:"normal",prefix:!1,type:4},y1=function(e,t){return Gt(e)&&e.value==="normal"?1.2*t:e.type===17?t*e.number:Hr(e)?rr(e,t):t},rS={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(e,t){return t.type===20&&t.value==="none"?null:nb.parse(e,t)}},sS={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(e,t){switch(t){case"inside":return 0;case"outside":default:return 1}}},_g={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},jf=function(e){return{name:"margin-"+e,initialValue:"0",prefix:!1,type:4}},nS=jf("top"),aS=jf("right"),iS=jf("bottom"),oS=jf("left"),AS={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(e,t){return t.filter(Gt).map(function(r){switch(r.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},lS={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"break-word":return"break-word";case"normal":default:return"normal"}}},Cf=function(e){return{name:"padding-"+e,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},cS=Cf("top"),uS=Cf("right"),dS=Cf("bottom"),hS=Cf("left"),fS={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(e,t){switch(t){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},pS={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(e,t){switch(t){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},mS={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return t.length===1&&Cg(t[0],"none")?[]:Ma(t).map(function(r){for(var s={color:ci.TRANSPARENT,offsetX:gs,offsetY:gs,blur:gs},a=0,i=0;i<r.length;i++){var o=r[i];go(o)?(a===0?s.offsetX=o:a===1?s.offsetY=o:s.blur=o,a++):s.color=ho.parse(e,o)}return s})}},gS={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},xS={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(e,t){if(t.type===20&&t.value==="none")return null;if(t.type===18){var r=vS[t.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported transform function "'+t.name+'"');return r(t.values)}return null}},bS=function(e){var t=e.filter(function(r){return r.type===17}).map(function(r){return r.number});return t.length===6?t:null},wS=function(e){var t=e.filter(function(l){return l.type===17}).map(function(l){return l.number}),r=t[0],s=t[1];t[2],t[3];var a=t[4],i=t[5];t[6],t[7],t[8],t[9],t[10],t[11];var o=t[12],A=t[13];return t[14],t[15],t.length===16?[r,s,a,i,o,A]:null},vS={matrix:bS,matrix3d:wS},B1={type:16,number:50,flags:id},yS=[B1,B1],BS={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(e,t){var r=t.filter(Hr);return r.length!==2?yS:[r[0],r[1]]}},NS={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},bu;(function(e){e.NORMAL="normal",e.BREAK_ALL="break-all",e.KEEP_ALL="keep-all"})(bu||(bu={}));var jS={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"break-all":return bu.BREAK_ALL;case"keep-all":return bu.KEEP_ALL;case"normal":default:return bu.NORMAL}}},CS={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(e,t){if(t.type===20)return{auto:!0,order:0};if(Jl(t))return{auto:!1,order:t.number};throw new Error("Invalid z-index number parsed")}},Ky={name:"time",parse:function(e,t){if(t.type===15)switch(t.unit.toLowerCase()){case"s":return 1e3*t.number;case"ms":return t.number}throw new Error("Unsupported time type")}},_S={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(e,t){return Jl(t)?t.number:1}},SS={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},ES={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(e,t){return t.filter(Gt).map(function(r){switch(r.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(r){return r!==0})}},FS={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(e,t){var r=[],s=[];return t.forEach(function(a){switch(a.type){case 20:case 0:r.push(a.value);break;case 17:r.push(a.number.toString());break;case 4:s.push(r.join(" ")),r.length=0;break}}),r.length&&s.push(r.join(" ")),s.map(function(a){return a.indexOf(" ")===-1?a:"'"+a+"'"})}},US={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},QS={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(e,t){if(Jl(t))return t.number;if(Gt(t))switch(t.value){case"bold":return 700;case"normal":default:return 400}return 400}},kS={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return t.filter(Gt).map(function(r){return r.value})}},IS={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},Wr=function(e,t){return(e&t)!==0},LS={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(e,t){if(t.length===0)return[];var r=t[0];return r.type===20&&r.value==="none"?[]:t}},TS={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(t.length===0)return null;var r=t[0];if(r.type===20&&r.value==="none")return null;for(var s=[],a=t.filter(_y),i=0;i<a.length;i++){var o=a[i],A=a[i+1];if(o.type===20){var l=A&&Jl(A)?A.number:1;s.push({counter:o.value,increment:l})}}return s}},PS={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(t.length===0)return[];for(var r=[],s=t.filter(_y),a=0;a<s.length;a++){var i=s[a],o=s[a+1];if(Gt(i)&&i.value!=="none"){var A=o&&Jl(o)?o.number:0;r.push({counter:i.value,reset:A})}}return r}},RS={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(e,t){return t.filter(od).map(function(r){return Ky.parse(e,r)})}},OS={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(t.length===0)return null;var r=t[0];if(r.type===20&&r.value==="none")return null;var s=[],a=t.filter(u_);if(a.length%2!==0)return null;for(var i=0;i<a.length;i+=2){var o=a[i].value,A=a[i+1].value;s.push({open:o,close:A})}return s}},N1=function(e,t,r){if(!e)return"";var s=e[Math.min(t,e.length-1)];return s?r?s.open:s.close:""},DS={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return t.length===1&&Cg(t[0],"none")?[]:Ma(t).map(function(r){for(var s={color:255,offsetX:gs,offsetY:gs,blur:gs,spread:gs,inset:!1},a=0,i=0;i<r.length;i++){var o=r[i];Cg(o,"inset")?s.inset=!0:go(o)?(a===0?s.offsetX=o:a===1?s.offsetY=o:a===2?s.blur=o:s.spread=o,a++):s.color=ho.parse(e,o)}return s})}},HS={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(e,t){var r=[0,1,2],s=[];return t.filter(Gt).forEach(function(a){switch(a.value){case"stroke":s.push(1);break;case"fill":s.push(0);break;case"markers":s.push(2);break}}),r.forEach(function(a){s.indexOf(a)===-1&&s.push(a)}),s}},$S={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},MS={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(e,t){return od(t)?t.number:0}},KS=function(){function e(t,r){var s,a;this.animationDuration=Xe(t,RS,r.animationDuration),this.backgroundClip=Xe(t,f_,r.backgroundClip),this.backgroundColor=Xe(t,p_,r.backgroundColor),this.backgroundImage=Xe(t,j_,r.backgroundImage),this.backgroundOrigin=Xe(t,C_,r.backgroundOrigin),this.backgroundPosition=Xe(t,__,r.backgroundPosition),this.backgroundRepeat=Xe(t,S_,r.backgroundRepeat),this.backgroundSize=Xe(t,F_,r.backgroundSize),this.borderTopColor=Xe(t,Q_,r.borderTopColor),this.borderRightColor=Xe(t,k_,r.borderRightColor),this.borderBottomColor=Xe(t,I_,r.borderBottomColor),this.borderLeftColor=Xe(t,L_,r.borderLeftColor),this.borderTopLeftRadius=Xe(t,T_,r.borderTopLeftRadius),this.borderTopRightRadius=Xe(t,P_,r.borderTopRightRadius),this.borderBottomRightRadius=Xe(t,R_,r.borderBottomRightRadius),this.borderBottomLeftRadius=Xe(t,O_,r.borderBottomLeftRadius),this.borderTopStyle=Xe(t,D_,r.borderTopStyle),this.borderRightStyle=Xe(t,H_,r.borderRightStyle),this.borderBottomStyle=Xe(t,$_,r.borderBottomStyle),this.borderLeftStyle=Xe(t,M_,r.borderLeftStyle),this.borderTopWidth=Xe(t,K_,r.borderTopWidth),this.borderRightWidth=Xe(t,V_,r.borderRightWidth),this.borderBottomWidth=Xe(t,z_,r.borderBottomWidth),this.borderLeftWidth=Xe(t,q_,r.borderLeftWidth),this.boxShadow=Xe(t,DS,r.boxShadow),this.color=Xe(t,G_,r.color),this.direction=Xe(t,W_,r.direction),this.display=Xe(t,J_,r.display),this.float=Xe(t,Y_,r.cssFloat),this.fontFamily=Xe(t,FS,r.fontFamily),this.fontSize=Xe(t,US,r.fontSize),this.fontStyle=Xe(t,IS,r.fontStyle),this.fontVariant=Xe(t,kS,r.fontVariant),this.fontWeight=Xe(t,QS,r.fontWeight),this.letterSpacing=Xe(t,Z_,r.letterSpacing),this.lineBreak=Xe(t,eS,r.lineBreak),this.lineHeight=Xe(t,tS,r.lineHeight),this.listStyleImage=Xe(t,rS,r.listStyleImage),this.listStylePosition=Xe(t,sS,r.listStylePosition),this.listStyleType=Xe(t,_g,r.listStyleType),this.marginTop=Xe(t,nS,r.marginTop),this.marginRight=Xe(t,aS,r.marginRight),this.marginBottom=Xe(t,iS,r.marginBottom),this.marginLeft=Xe(t,oS,r.marginLeft),this.opacity=Xe(t,_S,r.opacity);var i=Xe(t,AS,r.overflow);this.overflowX=i[0],this.overflowY=i[i.length>1?1:0],this.overflowWrap=Xe(t,lS,r.overflowWrap),this.paddingTop=Xe(t,cS,r.paddingTop),this.paddingRight=Xe(t,uS,r.paddingRight),this.paddingBottom=Xe(t,dS,r.paddingBottom),this.paddingLeft=Xe(t,hS,r.paddingLeft),this.paintOrder=Xe(t,HS,r.paintOrder),this.position=Xe(t,pS,r.position),this.textAlign=Xe(t,fS,r.textAlign),this.textDecorationColor=Xe(t,SS,(s=r.textDecorationColor)!==null&&s!==void 0?s:r.color),this.textDecorationLine=Xe(t,ES,(a=r.textDecorationLine)!==null&&a!==void 0?a:r.textDecoration),this.textShadow=Xe(t,mS,r.textShadow),this.textTransform=Xe(t,gS,r.textTransform),this.transform=Xe(t,xS,r.transform),this.transformOrigin=Xe(t,BS,r.transformOrigin),this.visibility=Xe(t,NS,r.visibility),this.webkitTextStrokeColor=Xe(t,$S,r.webkitTextStrokeColor),this.webkitTextStrokeWidth=Xe(t,MS,r.webkitTextStrokeWidth),this.wordBreak=Xe(t,jS,r.wordBreak),this.zIndex=Xe(t,CS,r.zIndex)}return e.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},e.prototype.isTransparent=function(){return fo(this.backgroundColor)},e.prototype.isTransformed=function(){return this.transform!==null},e.prototype.isPositioned=function(){return this.position!==0},e.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},e.prototype.isFloating=function(){return this.float!==0},e.prototype.isInlineLevel=function(){return Wr(this.display,4)||Wr(this.display,33554432)||Wr(this.display,268435456)||Wr(this.display,536870912)||Wr(this.display,67108864)||Wr(this.display,134217728)},e}(),VS=function(){function e(t,r){this.content=Xe(t,LS,r.content),this.quotes=Xe(t,OS,r.quotes)}return e}(),j1=function(){function e(t,r){this.counterIncrement=Xe(t,TS,r.counterIncrement),this.counterReset=Xe(t,PS,r.counterReset)}return e}(),Xe=function(e,t,r){var s=new jy,a=r!==null&&typeof r<"u"?r.toString():t.initialValue;s.write(a);var i=new Cy(s.read());switch(t.type){case 2:var o=i.parseComponentValue();return t.parse(e,Gt(o)?o.value:t.initialValue);case 0:return t.parse(e,i.parseComponentValue());case 1:return t.parse(e,i.parseComponentValues());case 4:return i.parseComponentValue();case 3:switch(t.format){case"angle":return bf.parse(e,i.parseComponentValue());case"color":return ho.parse(e,i.parseComponentValue());case"image":return nb.parse(e,i.parseComponentValue());case"length":var A=i.parseComponentValue();return go(A)?A:gs;case"length-percentage":var l=i.parseComponentValue();return Hr(l)?l:gs;case"time":return Ky.parse(e,i.parseComponentValue())}break}},zS="data-html2canvas-debug",qS=function(e){var t=e.getAttribute(zS);switch(t){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},Sg=function(e,t){var r=qS(e);return r===1||t===r},Ka=function(){function e(t,r){if(this.context=t,this.textNodes=[],this.elements=[],this.flags=0,Sg(r,3))debugger;this.styles=new KS(t,window.getComputedStyle(r,null)),Ug(r)&&(this.styles.animationDuration.some(function(s){return s>0})&&(r.style.animationDuration="0s"),this.styles.transform!==null&&(r.style.transform="none")),this.bounds=gf(this.context,r),Sg(r,4)&&(this.flags|=16)}return e}(),GS="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",C1="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",au=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var _h=0;_h<C1.length;_h++)au[C1.charCodeAt(_h)]=_h;var WS=function(e){var t=e.length*.75,r=e.length,s,a=0,i,o,A,l;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);var c=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(t):new Array(t),d=Array.isArray(c)?c:new Uint8Array(c);for(s=0;s<r;s+=4)i=au[e.charCodeAt(s)],o=au[e.charCodeAt(s+1)],A=au[e.charCodeAt(s+2)],l=au[e.charCodeAt(s+3)],d[a++]=i<<2|o>>4,d[a++]=(o&15)<<4|A>>2,d[a++]=(A&3)<<6|l&63;return c},JS=function(e){for(var t=e.length,r=[],s=0;s<t;s+=2)r.push(e[s+1]<<8|e[s]);return r},XS=function(e){for(var t=e.length,r=[],s=0;s<t;s+=4)r.push(e[s+3]<<24|e[s+2]<<16|e[s+1]<<8|e[s]);return r},rA=5,ab=11,Kp=2,YS=ab-rA,Vy=65536>>rA,ZS=1<<rA,Vp=ZS-1,eE=1024>>rA,tE=Vy+eE,rE=tE,sE=32,nE=rE+sE,aE=65536>>ab,iE=1<<YS,oE=iE-1,_1=function(e,t,r){return e.slice?e.slice(t,r):new Uint16Array(Array.prototype.slice.call(e,t,r))},AE=function(e,t,r){return e.slice?e.slice(t,r):new Uint32Array(Array.prototype.slice.call(e,t,r))},lE=function(e,t){var r=WS(e),s=Array.isArray(r)?XS(r):new Uint32Array(r),a=Array.isArray(r)?JS(r):new Uint16Array(r),i=24,o=_1(a,i/2,s[4]/2),A=s[5]===2?_1(a,(i+s[4])/2):AE(s,Math.ceil((i+s[4])/4));return new cE(s[0],s[1],s[2],s[3],o,A)},cE=function(){function e(t,r,s,a,i,o){this.initialValue=t,this.errorValue=r,this.highStart=s,this.highValueIndex=a,this.index=i,this.data=o}return e.prototype.get=function(t){var r;if(t>=0){if(t<55296||t>56319&&t<=65535)return r=this.index[t>>rA],r=(r<<Kp)+(t&Vp),this.data[r];if(t<=65535)return r=this.index[Vy+(t-55296>>rA)],r=(r<<Kp)+(t&Vp),this.data[r];if(t<this.highStart)return r=nE-aE+(t>>ab),r=this.index[r],r+=t>>rA&oE,r=this.index[r],r=(r<<Kp)+(t&Vp),this.data[r];if(t<=1114111)return this.data[this.highValueIndex]}return this.errorValue},e}(),S1="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",uE=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Sh=0;Sh<S1.length;Sh++)uE[S1.charCodeAt(Sh)]=Sh;var dE=1,zp=2,qp=3,E1=4,F1=5,hE=7,U1=8,Gp=9,Wp=10,Q1=11,k1=12,I1=13,L1=14,Jp=15,fE=function(e){for(var t=[],r=0,s=e.length;r<s;){var a=e.charCodeAt(r++);if(a>=55296&&a<=56319&&r<s){var i=e.charCodeAt(r++);(i&64512)===56320?t.push(((a&1023)<<10)+(i&1023)+65536):(t.push(a),r--)}else t.push(a)}return t},pE=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(String.fromCodePoint)return String.fromCodePoint.apply(String,e);var r=e.length;if(!r)return"";for(var s=[],a=-1,i="";++a<r;){var o=e[a];o<=65535?s.push(o):(o-=65536,s.push((o>>10)+55296,o%1024+56320)),(a+1===r||s.length>16384)&&(i+=String.fromCharCode.apply(String,s),s.length=0)}return i},mE=lE(GS),$n="",Xp="",gE=function(e){return mE.get(e)},xE=function(e,t,r){var s=r-2,a=t[s],i=t[r-1],o=t[r];if(i===zp&&o===qp)return $n;if(i===zp||i===qp||i===E1||o===zp||o===qp||o===E1)return Xp;if(i===U1&&[U1,Gp,Q1,k1].indexOf(o)!==-1||(i===Q1||i===Gp)&&(o===Gp||o===Wp)||(i===k1||i===Wp)&&o===Wp||o===I1||o===F1||o===hE||i===dE)return $n;if(i===I1&&o===L1){for(;a===F1;)a=t[--s];if(a===L1)return $n}if(i===Jp&&o===Jp){for(var A=0;a===Jp;)A++,a=t[--s];if(A%2===0)return $n}return Xp},bE=function(e){var t=fE(e),r=t.length,s=0,a=0,i=t.map(gE);return{next:function(){if(s>=r)return{done:!0,value:null};for(var o=$n;s<r&&(o=xE(t,i,++s))===$n;);if(o!==$n||s===r){var A=pE.apply(null,t.slice(a,s));return a=s,{value:A,done:!1}}return{done:!0,value:null}}}},wE=function(e){for(var t=bE(e),r=[],s;!(s=t.next()).done;)s.value&&r.push(s.value.slice());return r},vE=function(e){var t=123;if(e.createRange){var r=e.createRange();if(r.getBoundingClientRect){var s=e.createElement("boundtest");s.style.height=t+"px",s.style.display="block",e.body.appendChild(s),r.selectNode(s);var a=r.getBoundingClientRect(),i=Math.round(a.height);if(e.body.removeChild(s),i===t)return!0}}return!1},yE=function(e){var t=e.createElement("boundtest");t.style.width="50px",t.style.display="block",t.style.fontSize="12px",t.style.letterSpacing="0px",t.style.wordSpacing="0px",e.body.appendChild(t);var r=e.createRange();t.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var s=t.firstChild,a=xf(s.data).map(function(l){return Ur(l)}),i=0,o={},A=a.every(function(l,c){r.setStart(s,i),r.setEnd(s,i+l.length);var d=r.getBoundingClientRect();i+=l.length;var f=d.x>o.x||d.y>o.y;return o=d,c===0?!0:f});return e.body.removeChild(t),A},BE=function(){return typeof new Image().crossOrigin<"u"},NE=function(){return typeof new XMLHttpRequest().responseType=="string"},jE=function(e){var t=new Image,r=e.createElement("canvas"),s=r.getContext("2d");if(!s)return!1;t.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{s.drawImage(t,0,0),r.toDataURL()}catch{return!1}return!0},T1=function(e){return e[0]===0&&e[1]===255&&e[2]===0&&e[3]===255},CE=function(e){var t=e.createElement("canvas"),r=100;t.width=r,t.height=r;var s=t.getContext("2d");if(!s)return Promise.reject(!1);s.fillStyle="rgb(0, 255, 0)",s.fillRect(0,0,r,r);var a=new Image,i=t.toDataURL();a.src=i;var o=Eg(r,r,0,0,a);return s.fillStyle="red",s.fillRect(0,0,r,r),P1(o).then(function(A){s.drawImage(A,0,0);var l=s.getImageData(0,0,r,r).data;s.fillStyle="red",s.fillRect(0,0,r,r);var c=e.createElement("div");return c.style.backgroundImage="url("+i+")",c.style.height=r+"px",T1(l)?P1(Eg(r,r,0,0,c)):Promise.reject(!1)}).then(function(A){return s.drawImage(A,0,0),T1(s.getImageData(0,0,r,r).data)}).catch(function(){return!1})},Eg=function(e,t,r,s,a){var i="http://www.w3.org/2000/svg",o=document.createElementNS(i,"svg"),A=document.createElementNS(i,"foreignObject");return o.setAttributeNS(null,"width",e.toString()),o.setAttributeNS(null,"height",t.toString()),A.setAttributeNS(null,"width","100%"),A.setAttributeNS(null,"height","100%"),A.setAttributeNS(null,"x",r.toString()),A.setAttributeNS(null,"y",s.toString()),A.setAttributeNS(null,"externalResourcesRequired","true"),o.appendChild(A),A.appendChild(a),o},P1=function(e){return new Promise(function(t,r){var s=new Image;s.onload=function(){return t(s)},s.onerror=r,s.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(e))})},ms={get SUPPORT_RANGE_BOUNDS(){var e=vE(document);return Object.defineProperty(ms,"SUPPORT_RANGE_BOUNDS",{value:e}),e},get SUPPORT_WORD_BREAKING(){var e=ms.SUPPORT_RANGE_BOUNDS&&yE(document);return Object.defineProperty(ms,"SUPPORT_WORD_BREAKING",{value:e}),e},get SUPPORT_SVG_DRAWING(){var e=jE(document);return Object.defineProperty(ms,"SUPPORT_SVG_DRAWING",{value:e}),e},get SUPPORT_FOREIGNOBJECT_DRAWING(){var e=typeof Array.from=="function"&&typeof window.fetch=="function"?CE(document):Promise.resolve(!1);return Object.defineProperty(ms,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:e}),e},get SUPPORT_CORS_IMAGES(){var e=BE();return Object.defineProperty(ms,"SUPPORT_CORS_IMAGES",{value:e}),e},get SUPPORT_RESPONSE_TYPE(){var e=NE();return Object.defineProperty(ms,"SUPPORT_RESPONSE_TYPE",{value:e}),e},get SUPPORT_CORS_XHR(){var e="withCredentials"in new XMLHttpRequest;return Object.defineProperty(ms,"SUPPORT_CORS_XHR",{value:e}),e},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var e=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(ms,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:e}),e}},wu=function(){function e(t,r){this.text=t,this.bounds=r}return e}(),_E=function(e,t,r,s){var a=FE(t,r),i=[],o=0;return a.forEach(function(A){if(r.textDecorationLine.length||A.trim().length>0)if(ms.SUPPORT_RANGE_BOUNDS){var l=R1(s,o,A.length).getClientRects();if(l.length>1){var c=ib(A),d=0;c.forEach(function(m){i.push(new wu(m,pi.fromDOMRectList(e,R1(s,d+o,m.length).getClientRects()))),d+=m.length})}else i.push(new wu(A,pi.fromDOMRectList(e,l)))}else{var f=s.splitText(A.length);i.push(new wu(A,SE(e,s))),s=f}else ms.SUPPORT_RANGE_BOUNDS||(s=s.splitText(A.length));o+=A.length}),i},SE=function(e,t){var r=t.ownerDocument;if(r){var s=r.createElement("html2canvaswrapper");s.appendChild(t.cloneNode(!0));var a=t.parentNode;if(a){a.replaceChild(s,t);var i=gf(e,s);return s.firstChild&&a.replaceChild(s.firstChild,s),i}}return pi.EMPTY},R1=function(e,t,r){var s=e.ownerDocument;if(!s)throw new Error("Node has no owner document");var a=s.createRange();return a.setStart(e,t),a.setEnd(e,t+r),a},ib=function(e){if(ms.SUPPORT_NATIVE_TEXT_SEGMENTATION){var t=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(t.segment(e)).map(function(r){return r.segment})}return wE(e)},EE=function(e,t){if(ms.SUPPORT_NATIVE_TEXT_SEGMENTATION){var r=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(r.segment(e)).map(function(s){return s.segment})}return QE(e,t)},FE=function(e,t){return t.letterSpacing!==0?ib(e):EE(e,t)},UE=[32,160,4961,65792,65793,4153,4241],QE=function(e,t){for(var r=a3(e,{lineBreak:t.lineBreak,wordBreak:t.overflowWrap==="break-word"?"break-word":t.wordBreak}),s=[],a,i=function(){if(a.value){var o=a.value.slice(),A=xf(o),l="";A.forEach(function(c){UE.indexOf(c)===-1?l+=Ur(c):(l.length&&s.push(l),s.push(Ur(c)),l="")}),l.length&&s.push(l)}};!(a=r.next()).done;)i();return s},kE=function(){function e(t,r,s){this.text=IE(r.data,s.textTransform),this.textBounds=_E(t,this.text,s,r)}return e}(),IE=function(e,t){switch(t){case 1:return e.toLowerCase();case 3:return e.replace(LE,TE);case 2:return e.toUpperCase();default:return e}},LE=/(^|\s|:|-|\(|\))([a-z])/g,TE=function(e,t,r){return e.length>0?t+r.toUpperCase():e},zy=function(e){Ba(t,e);function t(r,s){var a=e.call(this,r,s)||this;return a.src=s.currentSrc||s.src,a.intrinsicWidth=s.naturalWidth,a.intrinsicHeight=s.naturalHeight,a.context.cache.addImage(a.src),a}return t}(Ka),qy=function(e){Ba(t,e);function t(r,s){var a=e.call(this,r,s)||this;return a.canvas=s,a.intrinsicWidth=s.width,a.intrinsicHeight=s.height,a}return t}(Ka),Gy=function(e){Ba(t,e);function t(r,s){var a=e.call(this,r,s)||this,i=new XMLSerializer,o=gf(r,s);return s.setAttribute("width",o.width+"px"),s.setAttribute("height",o.height+"px"),a.svg="data:image/svg+xml,"+encodeURIComponent(i.serializeToString(s)),a.intrinsicWidth=s.width.baseVal.value,a.intrinsicHeight=s.height.baseVal.value,a.context.cache.addImage(a.svg),a}return t}(Ka),Wy=function(e){Ba(t,e);function t(r,s){var a=e.call(this,r,s)||this;return a.value=s.value,a}return t}(Ka),Fg=function(e){Ba(t,e);function t(r,s){var a=e.call(this,r,s)||this;return a.start=s.start,a.reversed=typeof s.reversed=="boolean"&&s.reversed===!0,a}return t}(Ka),PE=[{type:15,flags:0,unit:"px",number:3}],RE=[{type:16,flags:0,number:50}],OE=function(e){return e.width>e.height?new pi(e.left+(e.width-e.height)/2,e.top,e.height,e.height):e.width<e.height?new pi(e.left,e.top+(e.height-e.width)/2,e.width,e.width):e},DE=function(e){var t=e.type===HE?new Array(e.value.length+1).join(""):e.value;return t.length===0?e.placeholder||"":t},R0="checkbox",O0="radio",HE="password",O1=707406591,ob=function(e){Ba(t,e);function t(r,s){var a=e.call(this,r,s)||this;switch(a.type=s.type.toLowerCase(),a.checked=s.checked,a.value=DE(s),(a.type===R0||a.type===O0)&&(a.styles.backgroundColor=3739148031,a.styles.borderTopColor=a.styles.borderRightColor=a.styles.borderBottomColor=a.styles.borderLeftColor=2779096575,a.styles.borderTopWidth=a.styles.borderRightWidth=a.styles.borderBottomWidth=a.styles.borderLeftWidth=1,a.styles.borderTopStyle=a.styles.borderRightStyle=a.styles.borderBottomStyle=a.styles.borderLeftStyle=1,a.styles.backgroundClip=[0],a.styles.backgroundOrigin=[0],a.bounds=OE(a.bounds)),a.type){case R0:a.styles.borderTopRightRadius=a.styles.borderTopLeftRadius=a.styles.borderBottomRightRadius=a.styles.borderBottomLeftRadius=PE;break;case O0:a.styles.borderTopRightRadius=a.styles.borderTopLeftRadius=a.styles.borderBottomRightRadius=a.styles.borderBottomLeftRadius=RE;break}return a}return t}(Ka),Jy=function(e){Ba(t,e);function t(r,s){var a=e.call(this,r,s)||this,i=s.options[s.selectedIndex||0];return a.value=i&&i.text||"",a}return t}(Ka),Xy=function(e){Ba(t,e);function t(r,s){var a=e.call(this,r,s)||this;return a.value=s.value,a}return t}(Ka),Yy=function(e){Ba(t,e);function t(r,s){var a=e.call(this,r,s)||this;a.src=s.src,a.width=parseInt(s.width,10)||0,a.height=parseInt(s.height,10)||0,a.backgroundColor=a.styles.backgroundColor;try{if(s.contentWindow&&s.contentWindow.document&&s.contentWindow.document.documentElement){a.tree=eB(r,s.contentWindow.document.documentElement);var i=s.contentWindow.document.documentElement?xu(r,getComputedStyle(s.contentWindow.document.documentElement).backgroundColor):ci.TRANSPARENT,o=s.contentWindow.document.body?xu(r,getComputedStyle(s.contentWindow.document.body).backgroundColor):ci.TRANSPARENT;a.backgroundColor=fo(i)?fo(o)?a.styles.backgroundColor:o:i}}catch{}return a}return t}(Ka),$E=["OL","UL","MENU"],a0=function(e,t,r,s){for(var a=t.firstChild,i=void 0;a;a=i)if(i=a.nextSibling,tB(a)&&a.data.trim().length>0)r.textNodes.push(new kE(e,a,r.styles));else if(bl(a))if(aB(a)&&a.assignedNodes)a.assignedNodes().forEach(function(A){return a0(e,A,r,s)});else{var o=Zy(e,a);o.styles.isVisible()&&(ME(a,o,s)?o.flags|=4:KE(o.styles)&&(o.flags|=2),$E.indexOf(a.tagName)!==-1&&(o.flags|=8),r.elements.push(o),a.slot,a.shadowRoot?a0(e,a.shadowRoot,o,s):!D0(a)&&!rB(a)&&!H0(a)&&a0(e,a,o,s))}},Zy=function(e,t){return Qg(t)?new zy(e,t):sB(t)?new qy(e,t):rB(t)?new Gy(e,t):VE(t)?new Wy(e,t):zE(t)?new Fg(e,t):qE(t)?new ob(e,t):H0(t)?new Jy(e,t):D0(t)?new Xy(e,t):nB(t)?new Yy(e,t):new Ka(e,t)},eB=function(e,t){var r=Zy(e,t);return r.flags|=4,a0(e,t,r,r),r},ME=function(e,t,r){return t.styles.isPositionedWithZIndex()||t.styles.opacity<1||t.styles.isTransformed()||Ab(e)&&r.styles.isTransparent()},KE=function(e){return e.isPositioned()||e.isFloating()},tB=function(e){return e.nodeType===Node.TEXT_NODE},bl=function(e){return e.nodeType===Node.ELEMENT_NODE},Ug=function(e){return bl(e)&&typeof e.style<"u"&&!i0(e)},i0=function(e){return typeof e.className=="object"},VE=function(e){return e.tagName==="LI"},zE=function(e){return e.tagName==="OL"},qE=function(e){return e.tagName==="INPUT"},GE=function(e){return e.tagName==="HTML"},rB=function(e){return e.tagName==="svg"},Ab=function(e){return e.tagName==="BODY"},sB=function(e){return e.tagName==="CANVAS"},D1=function(e){return e.tagName==="VIDEO"},Qg=function(e){return e.tagName==="IMG"},nB=function(e){return e.tagName==="IFRAME"},H1=function(e){return e.tagName==="STYLE"},WE=function(e){return e.tagName==="SCRIPT"},D0=function(e){return e.tagName==="TEXTAREA"},H0=function(e){return e.tagName==="SELECT"},aB=function(e){return e.tagName==="SLOT"},$1=function(e){return e.tagName.indexOf("-")>0},JE=function(){function e(){this.counters={}}return e.prototype.getCounterValue=function(t){var r=this.counters[t];return r&&r.length?r[r.length-1]:1},e.prototype.getCounterValues=function(t){var r=this.counters[t];return r||[]},e.prototype.pop=function(t){var r=this;t.forEach(function(s){return r.counters[s].pop()})},e.prototype.parse=function(t){var r=this,s=t.counterIncrement,a=t.counterReset,i=!0;s!==null&&s.forEach(function(A){var l=r.counters[A.counter];l&&A.increment!==0&&(i=!1,l.length||l.push(1),l[Math.max(0,l.length-1)]+=A.increment)});var o=[];return i&&a.forEach(function(A){var l=r.counters[A.counter];o.push(A.counter),l||(l=r.counters[A.counter]=[]),l.push(A.reset)}),o},e}(),M1={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},K1={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},XE={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},YE={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},MA=function(e,t,r,s,a,i){return e<t||e>r?Ku(e,a,i.length>0):s.integers.reduce(function(o,A,l){for(;e>=A;)e-=A,o+=s.values[l];return o},"")+i},iB=function(e,t,r,s){var a="";do r||e--,a=s(e)+a,e/=t;while(e*t>=t);return a},Fr=function(e,t,r,s,a){var i=r-t+1;return(e<0?"-":"")+(iB(Math.abs(e),i,s,function(o){return Ur(Math.floor(o%i)+t)})+a)},To=function(e,t,r){r===void 0&&(r=". ");var s=t.length;return iB(Math.abs(e),s,!1,function(a){return t[Math.floor(a%s)]})+r},el=1,Mi=2,Ki=4,iu=8,ri=function(e,t,r,s,a,i){if(e<-9999||e>9999)return Ku(e,4,a.length>0);var o=Math.abs(e),A=a;if(o===0)return t[0]+A;for(var l=0;o>0&&l<=4;l++){var c=o%10;c===0&&Wr(i,el)&&A!==""?A=t[c]+A:c>1||c===1&&l===0||c===1&&l===1&&Wr(i,Mi)||c===1&&l===1&&Wr(i,Ki)&&e>100||c===1&&l>1&&Wr(i,iu)?A=t[c]+(l>0?r[l-1]:"")+A:c===1&&l>0&&(A=r[l-1]+A),o=Math.floor(o/10)}return(e<0?s:"")+A},V1="",z1="",q1="",Yp="",Ku=function(e,t,r){var s=r?". ":"",a=r?"":"",i=r?", ":"",o=r?" ":"";switch(t){case 0:return""+o;case 1:return""+o;case 2:return""+o;case 5:var A=Fr(e,48,57,!0,s);return A.length<4?"0"+A:A;case 4:return To(e,"",a);case 6:return MA(e,1,3999,M1,3,s).toLowerCase();case 7:return MA(e,1,3999,M1,3,s);case 8:return Fr(e,945,969,!1,s);case 9:return Fr(e,97,122,!1,s);case 10:return Fr(e,65,90,!1,s);case 11:return Fr(e,1632,1641,!0,s);case 12:case 49:return MA(e,1,9999,K1,3,s);case 35:return MA(e,1,9999,K1,3,s).toLowerCase();case 13:return Fr(e,2534,2543,!0,s);case 14:case 30:return Fr(e,6112,6121,!0,s);case 15:return To(e,"",a);case 16:return To(e,"",a);case 17:case 48:return ri(e,"",V1,"",a,Mi|Ki|iu);case 47:return ri(e,"",z1,"",a,el|Mi|Ki|iu);case 42:return ri(e,"",V1,"",a,Mi|Ki|iu);case 41:return ri(e,"",z1,"",a,el|Mi|Ki|iu);case 26:return ri(e,"","",q1,a,0);case 25:return ri(e,"","",q1,a,el|Mi|Ki);case 31:return ri(e,"","",Yp,i,el|Mi|Ki);case 33:return ri(e,"","",Yp,i,0);case 32:return ri(e,"","",Yp,i,el|Mi|Ki);case 18:return Fr(e,2406,2415,!0,s);case 20:return MA(e,1,19999,YE,3,s);case 21:return Fr(e,2790,2799,!0,s);case 22:return Fr(e,2662,2671,!0,s);case 22:return MA(e,1,10999,XE,3,s);case 23:return To(e,"");case 24:return To(e,"");case 27:return Fr(e,3302,3311,!0,s);case 28:return To(e,"",a);case 29:return To(e,"",a);case 34:return Fr(e,3792,3801,!0,s);case 37:return Fr(e,6160,6169,!0,s);case 38:return Fr(e,4160,4169,!0,s);case 39:return Fr(e,2918,2927,!0,s);case 40:return Fr(e,1776,1785,!0,s);case 43:return Fr(e,3046,3055,!0,s);case 44:return Fr(e,3174,3183,!0,s);case 45:return Fr(e,3664,3673,!0,s);case 46:return Fr(e,3872,3881,!0,s);case 3:default:return Fr(e,48,57,!0,s)}},oB="data-html2canvas-ignore",G1=function(){function e(t,r,s){if(this.context=t,this.options=s,this.scrolledElements=[],this.referenceElement=r,this.counters=new JE,this.quoteDepth=0,!r.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(r.ownerDocument.documentElement,!1)}return e.prototype.toIFrame=function(t,r){var s=this,a=ZE(t,r);if(!a.contentWindow)return Promise.reject("Unable to find iframe window");var i=t.defaultView.pageXOffset,o=t.defaultView.pageYOffset,A=a.contentWindow,l=A.document,c=rF(a).then(function(){return Ms(s,void 0,void 0,function(){var d,f;return Es(this,function(m){switch(m.label){case 0:return this.scrolledElements.forEach(iF),A&&(A.scrollTo(r.left,r.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(A.scrollY!==r.top||A.scrollX!==r.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(A.scrollX-r.left,A.scrollY-r.top,0,0))),d=this.options.onclone,f=this.clonedReferenceElement,typeof f>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:l.fonts&&l.fonts.ready?[4,l.fonts.ready]:[3,2];case 1:m.sent(),m.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,tF(l)]:[3,4];case 3:m.sent(),m.label=4;case 4:return typeof d=="function"?[2,Promise.resolve().then(function(){return d(l,f)}).then(function(){return a})]:[2,a]}})})});return l.open(),l.write(nF(document.doctype)+"<html></html>"),aF(this.referenceElement.ownerDocument,i,o),l.replaceChild(l.adoptNode(this.documentElement),l.documentElement),l.close(),c},e.prototype.createElementClone=function(t){if(Sg(t,2))debugger;if(sB(t))return this.createCanvasClone(t);if(D1(t))return this.createVideoClone(t);if(H1(t))return this.createStyleClone(t);var r=t.cloneNode(!1);return Qg(r)&&(Qg(t)&&t.currentSrc&&t.currentSrc!==t.src&&(r.src=t.currentSrc,r.srcset=""),r.loading==="lazy"&&(r.loading="eager")),$1(r)?this.createCustomElementClone(r):r},e.prototype.createCustomElementClone=function(t){var r=document.createElement("html2canvascustomelement");return Zp(t.style,r),r},e.prototype.createStyleClone=function(t){try{var r=t.sheet;if(r&&r.cssRules){var s=[].slice.call(r.cssRules,0).reduce(function(i,o){return o&&typeof o.cssText=="string"?i+o.cssText:i},""),a=t.cloneNode(!1);return a.textContent=s,a}}catch(i){if(this.context.logger.error("Unable to access cssRules property",i),i.name!=="SecurityError")throw i}return t.cloneNode(!1)},e.prototype.createCanvasClone=function(t){var r;if(this.options.inlineImages&&t.ownerDocument){var s=t.ownerDocument.createElement("img");try{return s.src=t.toDataURL(),s}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",t)}}var a=t.cloneNode(!1);try{a.width=t.width,a.height=t.height;var i=t.getContext("2d"),o=a.getContext("2d");if(o)if(!this.options.allowTaint&&i)o.putImageData(i.getImageData(0,0,t.width,t.height),0,0);else{var A=(r=t.getContext("webgl2"))!==null&&r!==void 0?r:t.getContext("webgl");if(A){var l=A.getContextAttributes();(l==null?void 0:l.preserveDrawingBuffer)===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",t)}o.drawImage(t,0,0)}return a}catch{this.context.logger.info("Unable to clone canvas as it is tainted",t)}return a},e.prototype.createVideoClone=function(t){var r=t.ownerDocument.createElement("canvas");r.width=t.offsetWidth,r.height=t.offsetHeight;var s=r.getContext("2d");try{return s&&(s.drawImage(t,0,0,r.width,r.height),this.options.allowTaint||s.getImageData(0,0,r.width,r.height)),r}catch{this.context.logger.info("Unable to clone video as it is tainted",t)}var a=t.ownerDocument.createElement("canvas");return a.width=t.offsetWidth,a.height=t.offsetHeight,a},e.prototype.appendChildNode=function(t,r,s){(!bl(r)||!WE(r)&&!r.hasAttribute(oB)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(r)))&&(!this.options.copyStyles||!bl(r)||!H1(r))&&t.appendChild(this.cloneNode(r,s))},e.prototype.cloneChildNodes=function(t,r,s){for(var a=this,i=t.shadowRoot?t.shadowRoot.firstChild:t.firstChild;i;i=i.nextSibling)if(bl(i)&&aB(i)&&typeof i.assignedNodes=="function"){var o=i.assignedNodes();o.length&&o.forEach(function(A){return a.appendChildNode(r,A,s)})}else this.appendChildNode(r,i,s)},e.prototype.cloneNode=function(t,r){if(tB(t))return document.createTextNode(t.data);if(!t.ownerDocument)return t.cloneNode(!1);var s=t.ownerDocument.defaultView;if(s&&bl(t)&&(Ug(t)||i0(t))){var a=this.createElementClone(t);a.style.transitionProperty="none";var i=s.getComputedStyle(t),o=s.getComputedStyle(t,":before"),A=s.getComputedStyle(t,":after");this.referenceElement===t&&Ug(a)&&(this.clonedReferenceElement=a),Ab(a)&&lF(a);var l=this.counters.parse(new j1(this.context,i)),c=this.resolvePseudoContent(t,a,o,vu.BEFORE);$1(t)&&(r=!0),D1(t)||this.cloneChildNodes(t,a,r),c&&a.insertBefore(c,a.firstChild);var d=this.resolvePseudoContent(t,a,A,vu.AFTER);return d&&a.appendChild(d),this.counters.pop(l),(i&&(this.options.copyStyles||i0(t))&&!nB(t)||r)&&Zp(i,a),(t.scrollTop!==0||t.scrollLeft!==0)&&this.scrolledElements.push([a,t.scrollLeft,t.scrollTop]),(D0(t)||H0(t))&&(D0(a)||H0(a))&&(a.value=t.value),a}return t.cloneNode(!1)},e.prototype.resolvePseudoContent=function(t,r,s,a){var i=this;if(s){var o=s.content,A=r.ownerDocument;if(!(!A||!o||o==="none"||o==="-moz-alt-content"||s.display==="none")){this.counters.parse(new j1(this.context,s));var l=new VS(this.context,s),c=A.createElement("html2canvaspseudoelement");Zp(s,c),l.content.forEach(function(f){if(f.type===0)c.appendChild(A.createTextNode(f.value));else if(f.type===22){var m=A.createElement("img");m.src=f.value,m.style.opacity="1",c.appendChild(m)}else if(f.type===18){if(f.name==="attr"){var h=f.values.filter(Gt);h.length&&c.appendChild(A.createTextNode(t.getAttribute(h[0].value)||""))}else if(f.name==="counter"){var v=f.values.filter(Kl),b=v[0],N=v[1];if(b&&Gt(b)){var w=i.counters.getCounterValue(b.value),x=N&&Gt(N)?_g.parse(i.context,N.value):3;c.appendChild(A.createTextNode(Ku(w,x,!1)))}}else if(f.name==="counters"){var B=f.values.filter(Kl),b=B[0],C=B[1],N=B[2];if(b&&Gt(b)){var E=i.counters.getCounterValues(b.value),S=N&&Gt(N)?_g.parse(i.context,N.value):3,D=C&&C.type===0?C.value:"",R=E.map(function(k){return Ku(k,S,!1)}).join(D);c.appendChild(A.createTextNode(R))}}}else if(f.type===20)switch(f.value){case"open-quote":c.appendChild(A.createTextNode(N1(l.quotes,i.quoteDepth++,!0)));break;case"close-quote":c.appendChild(A.createTextNode(N1(l.quotes,--i.quoteDepth,!1)));break;default:c.appendChild(A.createTextNode(f.value))}}),c.className=kg+" "+Ig;var d=a===vu.BEFORE?" "+kg:" "+Ig;return i0(r)?r.className.baseValue+=d:r.className+=d,c}}},e.destroy=function(t){return t.parentNode?(t.parentNode.removeChild(t),!0):!1},e}(),vu;(function(e){e[e.BEFORE=0]="BEFORE",e[e.AFTER=1]="AFTER"})(vu||(vu={}));var ZE=function(e,t){var r=e.createElement("iframe");return r.className="html2canvas-container",r.style.visibility="hidden",r.style.position="fixed",r.style.left="-10000px",r.style.top="0px",r.style.border="0",r.width=t.width.toString(),r.height=t.height.toString(),r.scrolling="no",r.setAttribute(oB,"true"),e.body.appendChild(r),r},eF=function(e){return new Promise(function(t){if(e.complete){t();return}if(!e.src){t();return}e.onload=t,e.onerror=t})},tF=function(e){return Promise.all([].slice.call(e.images,0).map(eF))},rF=function(e){return new Promise(function(t,r){var s=e.contentWindow;if(!s)return r("No window assigned for iframe");var a=s.document;s.onload=e.onload=function(){s.onload=e.onload=null;var i=setInterval(function(){a.body.childNodes.length>0&&a.readyState==="complete"&&(clearInterval(i),t(e))},50)}})},sF=["all","d","content"],Zp=function(e,t){for(var r=e.length-1;r>=0;r--){var s=e.item(r);sF.indexOf(s)===-1&&t.style.setProperty(s,e.getPropertyValue(s))}return t},nF=function(e){var t="";return e&&(t+="<!DOCTYPE ",e.name&&(t+=e.name),e.internalSubset&&(t+=e.internalSubset),e.publicId&&(t+='"'+e.publicId+'"'),e.systemId&&(t+='"'+e.systemId+'"'),t+=">"),t},aF=function(e,t,r){e&&e.defaultView&&(t!==e.defaultView.pageXOffset||r!==e.defaultView.pageYOffset)&&e.defaultView.scrollTo(t,r)},iF=function(e){var t=e[0],r=e[1],s=e[2];t.scrollLeft=r,t.scrollTop=s},oF=":before",AF=":after",kg="___html2canvas___pseudoelement_before",Ig="___html2canvas___pseudoelement_after",W1=`{
    content: "" !important;
    display: none !important;
}`,lF=function(e){cF(e,"."+kg+oF+W1+`
         .`+Ig+AF+W1)},cF=function(e,t){var r=e.ownerDocument;if(r){var s=r.createElement("style");s.textContent=t,e.appendChild(s)}},AB=function(){function e(){}return e.getOrigin=function(t){var r=e._link;return r?(r.href=t,r.href=r.href,r.protocol+r.hostname+r.port):"about:blank"},e.isSameOrigin=function(t){return e.getOrigin(t)===e._origin},e.setContext=function(t){e._link=t.document.createElement("a"),e._origin=e.getOrigin(t.location.href)},e._origin="about:blank",e}(),uF=function(){function e(t,r){this.context=t,this._options=r,this._cache={}}return e.prototype.addImage=function(t){var r=Promise.resolve();return this.has(t)||(tm(t)||pF(t))&&(this._cache[t]=this.loadImage(t)).catch(function(){}),r},e.prototype.match=function(t){return this._cache[t]},e.prototype.loadImage=function(t){return Ms(this,void 0,void 0,function(){var r,s,a,i,o=this;return Es(this,function(A){switch(A.label){case 0:return r=AB.isSameOrigin(t),s=!em(t)&&this._options.useCORS===!0&&ms.SUPPORT_CORS_IMAGES&&!r,a=!em(t)&&!r&&!tm(t)&&typeof this._options.proxy=="string"&&ms.SUPPORT_CORS_XHR&&!s,!r&&this._options.allowTaint===!1&&!em(t)&&!tm(t)&&!a&&!s?[2]:(i=t,a?[4,this.proxy(i)]:[3,2]);case 1:i=A.sent(),A.label=2;case 2:return this.context.logger.debug("Added image "+t.substring(0,256)),[4,new Promise(function(l,c){var d=new Image;d.onload=function(){return l(d)},d.onerror=c,(mF(i)||s)&&(d.crossOrigin="anonymous"),d.src=i,d.complete===!0&&setTimeout(function(){return l(d)},500),o._options.imageTimeout>0&&setTimeout(function(){return c("Timed out ("+o._options.imageTimeout+"ms) loading image")},o._options.imageTimeout)})];case 3:return[2,A.sent()]}})})},e.prototype.has=function(t){return typeof this._cache[t]<"u"},e.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},e.prototype.proxy=function(t){var r=this,s=this._options.proxy;if(!s)throw new Error("No proxy defined");var a=t.substring(0,256);return new Promise(function(i,o){var A=ms.SUPPORT_RESPONSE_TYPE?"blob":"text",l=new XMLHttpRequest;l.onload=function(){if(l.status===200)if(A==="text")i(l.response);else{var f=new FileReader;f.addEventListener("load",function(){return i(f.result)},!1),f.addEventListener("error",function(m){return o(m)},!1),f.readAsDataURL(l.response)}else o("Failed to proxy resource "+a+" with status code "+l.status)},l.onerror=o;var c=s.indexOf("?")>-1?"&":"?";if(l.open("GET",""+s+c+"url="+encodeURIComponent(t)+"&responseType="+A),A!=="text"&&l instanceof XMLHttpRequest&&(l.responseType=A),r._options.imageTimeout){var d=r._options.imageTimeout;l.timeout=d,l.ontimeout=function(){return o("Timed out ("+d+"ms) proxying "+a)}}l.send()})},e}(),dF=/^data:image\/svg\+xml/i,hF=/^data:image\/.*;base64,/i,fF=/^data:image\/.*/i,pF=function(e){return ms.SUPPORT_SVG_DRAWING||!gF(e)},em=function(e){return fF.test(e)},mF=function(e){return hF.test(e)},tm=function(e){return e.substr(0,4)==="blob"},gF=function(e){return e.substr(-3).toLowerCase()==="svg"||dF.test(e)},qe=function(){function e(t,r){this.type=0,this.x=t,this.y=r}return e.prototype.add=function(t,r){return new e(this.x+t,this.y+r)},e}(),KA=function(e,t,r){return new qe(e.x+(t.x-e.x)*r,e.y+(t.y-e.y)*r)},Eh=function(){function e(t,r,s,a){this.type=1,this.start=t,this.startControl=r,this.endControl=s,this.end=a}return e.prototype.subdivide=function(t,r){var s=KA(this.start,this.startControl,t),a=KA(this.startControl,this.endControl,t),i=KA(this.endControl,this.end,t),o=KA(s,a,t),A=KA(a,i,t),l=KA(o,A,t);return r?new e(this.start,s,o,l):new e(l,A,i,this.end)},e.prototype.add=function(t,r){return new e(this.start.add(t,r),this.startControl.add(t,r),this.endControl.add(t,r),this.end.add(t,r))},e.prototype.reverse=function(){return new e(this.end,this.endControl,this.startControl,this.start)},e}(),Vn=function(e){return e.type===1},xF=function(){function e(t){var r=t.styles,s=t.bounds,a=nu(r.borderTopLeftRadius,s.width,s.height),i=a[0],o=a[1],A=nu(r.borderTopRightRadius,s.width,s.height),l=A[0],c=A[1],d=nu(r.borderBottomRightRadius,s.width,s.height),f=d[0],m=d[1],h=nu(r.borderBottomLeftRadius,s.width,s.height),v=h[0],b=h[1],N=[];N.push((i+l)/s.width),N.push((v+f)/s.width),N.push((o+b)/s.height),N.push((c+m)/s.height);var w=Math.max.apply(Math,N);w>1&&(i/=w,o/=w,l/=w,c/=w,f/=w,m/=w,v/=w,b/=w);var x=s.width-l,B=s.height-m,C=s.width-f,E=s.height-b,S=r.borderTopWidth,D=r.borderRightWidth,R=r.borderBottomWidth,W=r.borderLeftWidth,ne=rr(r.paddingTop,t.bounds.width),k=rr(r.paddingRight,t.bounds.width),L=rr(r.paddingBottom,t.bounds.width),O=rr(r.paddingLeft,t.bounds.width);this.topLeftBorderDoubleOuterBox=i>0||o>0?lr(s.left+W/3,s.top+S/3,i-W/3,o-S/3,Dt.TOP_LEFT):new qe(s.left+W/3,s.top+S/3),this.topRightBorderDoubleOuterBox=i>0||o>0?lr(s.left+x,s.top+S/3,l-D/3,c-S/3,Dt.TOP_RIGHT):new qe(s.left+s.width-D/3,s.top+S/3),this.bottomRightBorderDoubleOuterBox=f>0||m>0?lr(s.left+C,s.top+B,f-D/3,m-R/3,Dt.BOTTOM_RIGHT):new qe(s.left+s.width-D/3,s.top+s.height-R/3),this.bottomLeftBorderDoubleOuterBox=v>0||b>0?lr(s.left+W/3,s.top+E,v-W/3,b-R/3,Dt.BOTTOM_LEFT):new qe(s.left+W/3,s.top+s.height-R/3),this.topLeftBorderDoubleInnerBox=i>0||o>0?lr(s.left+W*2/3,s.top+S*2/3,i-W*2/3,o-S*2/3,Dt.TOP_LEFT):new qe(s.left+W*2/3,s.top+S*2/3),this.topRightBorderDoubleInnerBox=i>0||o>0?lr(s.left+x,s.top+S*2/3,l-D*2/3,c-S*2/3,Dt.TOP_RIGHT):new qe(s.left+s.width-D*2/3,s.top+S*2/3),this.bottomRightBorderDoubleInnerBox=f>0||m>0?lr(s.left+C,s.top+B,f-D*2/3,m-R*2/3,Dt.BOTTOM_RIGHT):new qe(s.left+s.width-D*2/3,s.top+s.height-R*2/3),this.bottomLeftBorderDoubleInnerBox=v>0||b>0?lr(s.left+W*2/3,s.top+E,v-W*2/3,b-R*2/3,Dt.BOTTOM_LEFT):new qe(s.left+W*2/3,s.top+s.height-R*2/3),this.topLeftBorderStroke=i>0||o>0?lr(s.left+W/2,s.top+S/2,i-W/2,o-S/2,Dt.TOP_LEFT):new qe(s.left+W/2,s.top+S/2),this.topRightBorderStroke=i>0||o>0?lr(s.left+x,s.top+S/2,l-D/2,c-S/2,Dt.TOP_RIGHT):new qe(s.left+s.width-D/2,s.top+S/2),this.bottomRightBorderStroke=f>0||m>0?lr(s.left+C,s.top+B,f-D/2,m-R/2,Dt.BOTTOM_RIGHT):new qe(s.left+s.width-D/2,s.top+s.height-R/2),this.bottomLeftBorderStroke=v>0||b>0?lr(s.left+W/2,s.top+E,v-W/2,b-R/2,Dt.BOTTOM_LEFT):new qe(s.left+W/2,s.top+s.height-R/2),this.topLeftBorderBox=i>0||o>0?lr(s.left,s.top,i,o,Dt.TOP_LEFT):new qe(s.left,s.top),this.topRightBorderBox=l>0||c>0?lr(s.left+x,s.top,l,c,Dt.TOP_RIGHT):new qe(s.left+s.width,s.top),this.bottomRightBorderBox=f>0||m>0?lr(s.left+C,s.top+B,f,m,Dt.BOTTOM_RIGHT):new qe(s.left+s.width,s.top+s.height),this.bottomLeftBorderBox=v>0||b>0?lr(s.left,s.top+E,v,b,Dt.BOTTOM_LEFT):new qe(s.left,s.top+s.height),this.topLeftPaddingBox=i>0||o>0?lr(s.left+W,s.top+S,Math.max(0,i-W),Math.max(0,o-S),Dt.TOP_LEFT):new qe(s.left+W,s.top+S),this.topRightPaddingBox=l>0||c>0?lr(s.left+Math.min(x,s.width-D),s.top+S,x>s.width+D?0:Math.max(0,l-D),Math.max(0,c-S),Dt.TOP_RIGHT):new qe(s.left+s.width-D,s.top+S),this.bottomRightPaddingBox=f>0||m>0?lr(s.left+Math.min(C,s.width-W),s.top+Math.min(B,s.height-R),Math.max(0,f-D),Math.max(0,m-R),Dt.BOTTOM_RIGHT):new qe(s.left+s.width-D,s.top+s.height-R),this.bottomLeftPaddingBox=v>0||b>0?lr(s.left+W,s.top+Math.min(E,s.height-R),Math.max(0,v-W),Math.max(0,b-R),Dt.BOTTOM_LEFT):new qe(s.left+W,s.top+s.height-R),this.topLeftContentBox=i>0||o>0?lr(s.left+W+O,s.top+S+ne,Math.max(0,i-(W+O)),Math.max(0,o-(S+ne)),Dt.TOP_LEFT):new qe(s.left+W+O,s.top+S+ne),this.topRightContentBox=l>0||c>0?lr(s.left+Math.min(x,s.width+W+O),s.top+S+ne,x>s.width+W+O?0:l-W+O,c-(S+ne),Dt.TOP_RIGHT):new qe(s.left+s.width-(D+k),s.top+S+ne),this.bottomRightContentBox=f>0||m>0?lr(s.left+Math.min(C,s.width-(W+O)),s.top+Math.min(B,s.height+S+ne),Math.max(0,f-(D+k)),m-(R+L),Dt.BOTTOM_RIGHT):new qe(s.left+s.width-(D+k),s.top+s.height-(R+L)),this.bottomLeftContentBox=v>0||b>0?lr(s.left+W+O,s.top+E,Math.max(0,v-(W+O)),b-(R+L),Dt.BOTTOM_LEFT):new qe(s.left+W+O,s.top+s.height-(R+L))}return e}(),Dt;(function(e){e[e.TOP_LEFT=0]="TOP_LEFT",e[e.TOP_RIGHT=1]="TOP_RIGHT",e[e.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",e[e.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(Dt||(Dt={}));var lr=function(e,t,r,s,a){var i=4*((Math.sqrt(2)-1)/3),o=r*i,A=s*i,l=e+r,c=t+s;switch(a){case Dt.TOP_LEFT:return new Eh(new qe(e,c),new qe(e,c-A),new qe(l-o,t),new qe(l,t));case Dt.TOP_RIGHT:return new Eh(new qe(e,t),new qe(e+o,t),new qe(l,c-A),new qe(l,c));case Dt.BOTTOM_RIGHT:return new Eh(new qe(l,t),new qe(l,t+A),new qe(e+o,c),new qe(e,c));case Dt.BOTTOM_LEFT:default:return new Eh(new qe(l,c),new qe(l-o,c),new qe(e,t+A),new qe(e,t))}},$0=function(e){return[e.topLeftBorderBox,e.topRightBorderBox,e.bottomRightBorderBox,e.bottomLeftBorderBox]},bF=function(e){return[e.topLeftContentBox,e.topRightContentBox,e.bottomRightContentBox,e.bottomLeftContentBox]},M0=function(e){return[e.topLeftPaddingBox,e.topRightPaddingBox,e.bottomRightPaddingBox,e.bottomLeftPaddingBox]},wF=function(){function e(t,r,s){this.offsetX=t,this.offsetY=r,this.matrix=s,this.type=0,this.target=6}return e}(),Fh=function(){function e(t,r){this.path=t,this.target=r,this.type=1}return e}(),vF=function(){function e(t){this.opacity=t,this.type=2,this.target=6}return e}(),yF=function(e){return e.type===0},lB=function(e){return e.type===1},BF=function(e){return e.type===2},J1=function(e,t){return e.length===t.length?e.some(function(r,s){return r===t[s]}):!1},NF=function(e,t,r,s,a){return e.map(function(i,o){switch(o){case 0:return i.add(t,r);case 1:return i.add(t+s,r);case 2:return i.add(t+s,r+a);case 3:return i.add(t,r+a)}return i})},cB=function(){function e(t){this.element=t,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return e}(),uB=function(){function e(t,r){if(this.container=t,this.parent=r,this.effects=[],this.curves=new xF(this.container),this.container.styles.opacity<1&&this.effects.push(new vF(this.container.styles.opacity)),this.container.styles.transform!==null){var s=this.container.bounds.left+this.container.styles.transformOrigin[0].number,a=this.container.bounds.top+this.container.styles.transformOrigin[1].number,i=this.container.styles.transform;this.effects.push(new wF(s,a,i))}if(this.container.styles.overflowX!==0){var o=$0(this.curves),A=M0(this.curves);J1(o,A)?this.effects.push(new Fh(o,6)):(this.effects.push(new Fh(o,2)),this.effects.push(new Fh(A,4)))}}return e.prototype.getEffects=function(t){for(var r=[2,3].indexOf(this.container.styles.position)===-1,s=this.parent,a=this.effects.slice(0);s;){var i=s.effects.filter(function(l){return!lB(l)});if(r||s.container.styles.position!==0||!s.parent){if(a.unshift.apply(a,i),r=[2,3].indexOf(s.container.styles.position)===-1,s.container.styles.overflowX!==0){var o=$0(s.curves),A=M0(s.curves);J1(o,A)||a.unshift(new Fh(A,6))}}else a.unshift.apply(a,i);s=s.parent}return a.filter(function(l){return Wr(l.target,t)})},e}(),Lg=function(e,t,r,s){e.container.elements.forEach(function(a){var i=Wr(a.flags,4),o=Wr(a.flags,2),A=new uB(a,e);Wr(a.styles.display,2048)&&s.push(A);var l=Wr(a.flags,8)?[]:s;if(i||o){var c=i||a.styles.isPositioned()?r:t,d=new cB(A);if(a.styles.isPositioned()||a.styles.opacity<1||a.styles.isTransformed()){var f=a.styles.zIndex.order;if(f<0){var m=0;c.negativeZIndex.some(function(v,b){return f>v.element.container.styles.zIndex.order?(m=b,!1):m>0}),c.negativeZIndex.splice(m,0,d)}else if(f>0){var h=0;c.positiveZIndex.some(function(v,b){return f>=v.element.container.styles.zIndex.order?(h=b+1,!1):h>0}),c.positiveZIndex.splice(h,0,d)}else c.zeroOrAutoZIndexOrTransformedOrOpacity.push(d)}else a.styles.isFloating()?c.nonPositionedFloats.push(d):c.nonPositionedInlineLevel.push(d);Lg(A,d,i?d:r,l)}else a.styles.isInlineLevel()?t.inlineLevel.push(A):t.nonInlineLevel.push(A),Lg(A,t,r,l);Wr(a.flags,8)&&dB(a,l)})},dB=function(e,t){for(var r=e instanceof Fg?e.start:1,s=e instanceof Fg?e.reversed:!1,a=0;a<t.length;a++){var i=t[a];i.container instanceof Wy&&typeof i.container.value=="number"&&i.container.value!==0&&(r=i.container.value),i.listValue=Ku(r,i.container.styles.listStyleType,!0),r+=s?-1:1}},jF=function(e){var t=new uB(e,null),r=new cB(t),s=[];return Lg(t,r,r,s),dB(t.container,s),r},X1=function(e,t){switch(t){case 0:return Gn(e.topLeftBorderBox,e.topLeftPaddingBox,e.topRightBorderBox,e.topRightPaddingBox);case 1:return Gn(e.topRightBorderBox,e.topRightPaddingBox,e.bottomRightBorderBox,e.bottomRightPaddingBox);case 2:return Gn(e.bottomRightBorderBox,e.bottomRightPaddingBox,e.bottomLeftBorderBox,e.bottomLeftPaddingBox);case 3:default:return Gn(e.bottomLeftBorderBox,e.bottomLeftPaddingBox,e.topLeftBorderBox,e.topLeftPaddingBox)}},CF=function(e,t){switch(t){case 0:return Gn(e.topLeftBorderBox,e.topLeftBorderDoubleOuterBox,e.topRightBorderBox,e.topRightBorderDoubleOuterBox);case 1:return Gn(e.topRightBorderBox,e.topRightBorderDoubleOuterBox,e.bottomRightBorderBox,e.bottomRightBorderDoubleOuterBox);case 2:return Gn(e.bottomRightBorderBox,e.bottomRightBorderDoubleOuterBox,e.bottomLeftBorderBox,e.bottomLeftBorderDoubleOuterBox);case 3:default:return Gn(e.bottomLeftBorderBox,e.bottomLeftBorderDoubleOuterBox,e.topLeftBorderBox,e.topLeftBorderDoubleOuterBox)}},_F=function(e,t){switch(t){case 0:return Gn(e.topLeftBorderDoubleInnerBox,e.topLeftPaddingBox,e.topRightBorderDoubleInnerBox,e.topRightPaddingBox);case 1:return Gn(e.topRightBorderDoubleInnerBox,e.topRightPaddingBox,e.bottomRightBorderDoubleInnerBox,e.bottomRightPaddingBox);case 2:return Gn(e.bottomRightBorderDoubleInnerBox,e.bottomRightPaddingBox,e.bottomLeftBorderDoubleInnerBox,e.bottomLeftPaddingBox);case 3:default:return Gn(e.bottomLeftBorderDoubleInnerBox,e.bottomLeftPaddingBox,e.topLeftBorderDoubleInnerBox,e.topLeftPaddingBox)}},SF=function(e,t){switch(t){case 0:return Uh(e.topLeftBorderStroke,e.topRightBorderStroke);case 1:return Uh(e.topRightBorderStroke,e.bottomRightBorderStroke);case 2:return Uh(e.bottomRightBorderStroke,e.bottomLeftBorderStroke);case 3:default:return Uh(e.bottomLeftBorderStroke,e.topLeftBorderStroke)}},Uh=function(e,t){var r=[];return Vn(e)?r.push(e.subdivide(.5,!1)):r.push(e),Vn(t)?r.push(t.subdivide(.5,!0)):r.push(t),r},Gn=function(e,t,r,s){var a=[];return Vn(e)?a.push(e.subdivide(.5,!1)):a.push(e),Vn(r)?a.push(r.subdivide(.5,!0)):a.push(r),Vn(s)?a.push(s.subdivide(.5,!0).reverse()):a.push(s),Vn(t)?a.push(t.subdivide(.5,!1).reverse()):a.push(t),a},hB=function(e){var t=e.bounds,r=e.styles;return t.add(r.borderLeftWidth,r.borderTopWidth,-(r.borderRightWidth+r.borderLeftWidth),-(r.borderTopWidth+r.borderBottomWidth))},K0=function(e){var t=e.styles,r=e.bounds,s=rr(t.paddingLeft,r.width),a=rr(t.paddingRight,r.width),i=rr(t.paddingTop,r.width),o=rr(t.paddingBottom,r.width);return r.add(s+t.borderLeftWidth,i+t.borderTopWidth,-(t.borderRightWidth+t.borderLeftWidth+s+a),-(t.borderTopWidth+t.borderBottomWidth+i+o))},EF=function(e,t){return e===0?t.bounds:e===2?K0(t):hB(t)},FF=function(e,t){return e===0?t.bounds:e===2?K0(t):hB(t)},rm=function(e,t,r){var s=EF(tl(e.styles.backgroundOrigin,t),e),a=FF(tl(e.styles.backgroundClip,t),e),i=UF(tl(e.styles.backgroundSize,t),r,s),o=i[0],A=i[1],l=nu(tl(e.styles.backgroundPosition,t),s.width-o,s.height-A),c=QF(tl(e.styles.backgroundRepeat,t),l,i,s,a),d=Math.round(s.left+l[0]),f=Math.round(s.top+l[1]);return[c,d,f,o,A]},VA=function(e){return Gt(e)&&e.value===El.AUTO},Qh=function(e){return typeof e=="number"},UF=function(e,t,r){var s=t[0],a=t[1],i=t[2],o=e[0],A=e[1];if(!o)return[0,0];if(Hr(o)&&A&&Hr(A))return[rr(o,r.width),rr(A,r.height)];var l=Qh(i);if(Gt(o)&&(o.value===El.CONTAIN||o.value===El.COVER)){if(Qh(i)){var c=r.width/r.height;return c<i!=(o.value===El.COVER)?[r.width,r.width/i]:[r.height*i,r.height]}return[r.width,r.height]}var d=Qh(s),f=Qh(a),m=d||f;if(VA(o)&&(!A||VA(A))){if(d&&f)return[s,a];if(!l&&!m)return[r.width,r.height];if(m&&l){var h=d?s:a*i,v=f?a:s/i;return[h,v]}var b=d?s:r.width,N=f?a:r.height;return[b,N]}if(l){var w=0,x=0;return Hr(o)?w=rr(o,r.width):Hr(A)&&(x=rr(A,r.height)),VA(o)?w=x*i:(!A||VA(A))&&(x=w/i),[w,x]}var B=null,C=null;if(Hr(o)?B=rr(o,r.width):A&&Hr(A)&&(C=rr(A,r.height)),B!==null&&(!A||VA(A))&&(C=d&&f?B/s*a:r.height),C!==null&&VA(o)&&(B=d&&f?C/a*s:r.width),B!==null&&C!==null)return[B,C];throw new Error("Unable to calculate background-size for element")},tl=function(e,t){var r=e[t];return typeof r>"u"?e[0]:r},QF=function(e,t,r,s,a){var i=t[0],o=t[1],A=r[0],l=r[1];switch(e){case 2:return[new qe(Math.round(s.left),Math.round(s.top+o)),new qe(Math.round(s.left+s.width),Math.round(s.top+o)),new qe(Math.round(s.left+s.width),Math.round(l+s.top+o)),new qe(Math.round(s.left),Math.round(l+s.top+o))];case 3:return[new qe(Math.round(s.left+i),Math.round(s.top)),new qe(Math.round(s.left+i+A),Math.round(s.top)),new qe(Math.round(s.left+i+A),Math.round(s.height+s.top)),new qe(Math.round(s.left+i),Math.round(s.height+s.top))];case 1:return[new qe(Math.round(s.left+i),Math.round(s.top+o)),new qe(Math.round(s.left+i+A),Math.round(s.top+o)),new qe(Math.round(s.left+i+A),Math.round(s.top+o+l)),new qe(Math.round(s.left+i),Math.round(s.top+o+l))];default:return[new qe(Math.round(a.left),Math.round(a.top)),new qe(Math.round(a.left+a.width),Math.round(a.top)),new qe(Math.round(a.left+a.width),Math.round(a.height+a.top)),new qe(Math.round(a.left),Math.round(a.height+a.top))]}},kF="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",Y1="Hidden Text",IF=function(){function e(t){this._data={},this._document=t}return e.prototype.parseMetrics=function(t,r){var s=this._document.createElement("div"),a=this._document.createElement("img"),i=this._document.createElement("span"),o=this._document.body;s.style.visibility="hidden",s.style.fontFamily=t,s.style.fontSize=r,s.style.margin="0",s.style.padding="0",s.style.whiteSpace="nowrap",o.appendChild(s),a.src=kF,a.width=1,a.height=1,a.style.margin="0",a.style.padding="0",a.style.verticalAlign="baseline",i.style.fontFamily=t,i.style.fontSize=r,i.style.margin="0",i.style.padding="0",i.appendChild(this._document.createTextNode(Y1)),s.appendChild(i),s.appendChild(a);var A=a.offsetTop-i.offsetTop+2;s.removeChild(i),s.appendChild(this._document.createTextNode(Y1)),s.style.lineHeight="normal",a.style.verticalAlign="super";var l=a.offsetTop-s.offsetTop+2;return o.removeChild(s),{baseline:A,middle:l}},e.prototype.getMetrics=function(t,r){var s=t+" "+r;return typeof this._data[s]>"u"&&(this._data[s]=this.parseMetrics(t,r)),this._data[s]},e}(),fB=function(){function e(t,r){this.context=t,this.options=r}return e}(),LF=1e4,TF=function(e){Ba(t,e);function t(r,s){var a=e.call(this,r,s)||this;return a._activeEffects=[],a.canvas=s.canvas?s.canvas:document.createElement("canvas"),a.ctx=a.canvas.getContext("2d"),s.canvas||(a.canvas.width=Math.floor(s.width*s.scale),a.canvas.height=Math.floor(s.height*s.scale),a.canvas.style.width=s.width+"px",a.canvas.style.height=s.height+"px"),a.fontMetrics=new IF(document),a.ctx.scale(a.options.scale,a.options.scale),a.ctx.translate(-s.x,-s.y),a.ctx.textBaseline="bottom",a._activeEffects=[],a.context.logger.debug("Canvas renderer initialized ("+s.width+"x"+s.height+") with scale "+s.scale),a}return t.prototype.applyEffects=function(r){for(var s=this;this._activeEffects.length;)this.popEffect();r.forEach(function(a){return s.applyEffect(a)})},t.prototype.applyEffect=function(r){this.ctx.save(),BF(r)&&(this.ctx.globalAlpha=r.opacity),yF(r)&&(this.ctx.translate(r.offsetX,r.offsetY),this.ctx.transform(r.matrix[0],r.matrix[1],r.matrix[2],r.matrix[3],r.matrix[4],r.matrix[5]),this.ctx.translate(-r.offsetX,-r.offsetY)),lB(r)&&(this.path(r.path),this.ctx.clip()),this._activeEffects.push(r)},t.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},t.prototype.renderStack=function(r){return Ms(this,void 0,void 0,function(){var s;return Es(this,function(a){switch(a.label){case 0:return s=r.element.container.styles,s.isVisible()?[4,this.renderStackContent(r)]:[3,2];case 1:a.sent(),a.label=2;case 2:return[2]}})})},t.prototype.renderNode=function(r){return Ms(this,void 0,void 0,function(){return Es(this,function(s){switch(s.label){case 0:if(Wr(r.container.flags,16))debugger;return r.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(r)]:[3,3];case 1:return s.sent(),[4,this.renderNodeContent(r)];case 2:s.sent(),s.label=3;case 3:return[2]}})})},t.prototype.renderTextWithLetterSpacing=function(r,s,a){var i=this;if(s===0)this.ctx.fillText(r.text,r.bounds.left,r.bounds.top+a);else{var o=ib(r.text);o.reduce(function(A,l){return i.ctx.fillText(l,A,r.bounds.top+a),A+i.ctx.measureText(l).width},r.bounds.left)}},t.prototype.createFontStyle=function(r){var s=r.fontVariant.filter(function(o){return o==="normal"||o==="small-caps"}).join(""),a=HF(r.fontFamily).join(", "),i=od(r.fontSize)?""+r.fontSize.number+r.fontSize.unit:r.fontSize.number+"px";return[[r.fontStyle,s,r.fontWeight,i,a].join(" "),a,i]},t.prototype.renderTextNode=function(r,s){return Ms(this,void 0,void 0,function(){var a,i,o,A,l,c,d,f,m=this;return Es(this,function(h){return a=this.createFontStyle(s),i=a[0],o=a[1],A=a[2],this.ctx.font=i,this.ctx.direction=s.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",l=this.fontMetrics.getMetrics(o,A),c=l.baseline,d=l.middle,f=s.paintOrder,r.textBounds.forEach(function(v){f.forEach(function(b){switch(b){case 0:m.ctx.fillStyle=ss(s.color),m.renderTextWithLetterSpacing(v,s.letterSpacing,c);var N=s.textShadow;N.length&&v.text.trim().length&&(N.slice(0).reverse().forEach(function(w){m.ctx.shadowColor=ss(w.color),m.ctx.shadowOffsetX=w.offsetX.number*m.options.scale,m.ctx.shadowOffsetY=w.offsetY.number*m.options.scale,m.ctx.shadowBlur=w.blur.number,m.renderTextWithLetterSpacing(v,s.letterSpacing,c)}),m.ctx.shadowColor="",m.ctx.shadowOffsetX=0,m.ctx.shadowOffsetY=0,m.ctx.shadowBlur=0),s.textDecorationLine.length&&(m.ctx.fillStyle=ss(s.textDecorationColor||s.color),s.textDecorationLine.forEach(function(w){switch(w){case 1:m.ctx.fillRect(v.bounds.left,Math.round(v.bounds.top+c),v.bounds.width,1);break;case 2:m.ctx.fillRect(v.bounds.left,Math.round(v.bounds.top),v.bounds.width,1);break;case 3:m.ctx.fillRect(v.bounds.left,Math.ceil(v.bounds.top+d),v.bounds.width,1);break}}));break;case 1:s.webkitTextStrokeWidth&&v.text.trim().length&&(m.ctx.strokeStyle=ss(s.webkitTextStrokeColor),m.ctx.lineWidth=s.webkitTextStrokeWidth,m.ctx.lineJoin=window.chrome?"miter":"round",m.ctx.strokeText(v.text,v.bounds.left,v.bounds.top+c)),m.ctx.strokeStyle="",m.ctx.lineWidth=0,m.ctx.lineJoin="miter";break}})}),[2]})})},t.prototype.renderReplacedElement=function(r,s,a){if(a&&r.intrinsicWidth>0&&r.intrinsicHeight>0){var i=K0(r),o=M0(s);this.path(o),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(a,0,0,r.intrinsicWidth,r.intrinsicHeight,i.left,i.top,i.width,i.height),this.ctx.restore()}},t.prototype.renderNodeContent=function(r){return Ms(this,void 0,void 0,function(){var s,a,i,o,A,l,x,x,c,d,f,m,C,h,v,E,b,N,w,x,B,C,E;return Es(this,function(S){switch(S.label){case 0:this.applyEffects(r.getEffects(4)),s=r.container,a=r.curves,i=s.styles,o=0,A=s.textNodes,S.label=1;case 1:return o<A.length?(l=A[o],[4,this.renderTextNode(l,i)]):[3,4];case 2:S.sent(),S.label=3;case 3:return o++,[3,1];case 4:if(!(s instanceof zy))return[3,8];S.label=5;case 5:return S.trys.push([5,7,,8]),[4,this.context.cache.match(s.src)];case 6:return x=S.sent(),this.renderReplacedElement(s,a,x),[3,8];case 7:return S.sent(),this.context.logger.error("Error loading image "+s.src),[3,8];case 8:if(s instanceof qy&&this.renderReplacedElement(s,a,s.canvas),!(s instanceof Gy))return[3,12];S.label=9;case 9:return S.trys.push([9,11,,12]),[4,this.context.cache.match(s.svg)];case 10:return x=S.sent(),this.renderReplacedElement(s,a,x),[3,12];case 11:return S.sent(),this.context.logger.error("Error loading svg "+s.svg.substring(0,255)),[3,12];case 12:return s instanceof Yy&&s.tree?(c=new t(this.context,{scale:this.options.scale,backgroundColor:s.backgroundColor,x:0,y:0,width:s.width,height:s.height}),[4,c.render(s.tree)]):[3,14];case 13:d=S.sent(),s.width&&s.height&&this.ctx.drawImage(d,0,0,s.width,s.height,s.bounds.left,s.bounds.top,s.bounds.width,s.bounds.height),S.label=14;case 14:if(s instanceof ob&&(f=Math.min(s.bounds.width,s.bounds.height),s.type===R0?s.checked&&(this.ctx.save(),this.path([new qe(s.bounds.left+f*.39363,s.bounds.top+f*.79),new qe(s.bounds.left+f*.16,s.bounds.top+f*.5549),new qe(s.bounds.left+f*.27347,s.bounds.top+f*.44071),new qe(s.bounds.left+f*.39694,s.bounds.top+f*.5649),new qe(s.bounds.left+f*.72983,s.bounds.top+f*.23),new qe(s.bounds.left+f*.84,s.bounds.top+f*.34085),new qe(s.bounds.left+f*.39363,s.bounds.top+f*.79)]),this.ctx.fillStyle=ss(O1),this.ctx.fill(),this.ctx.restore()):s.type===O0&&s.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(s.bounds.left+f/2,s.bounds.top+f/2,f/4,0,Math.PI*2,!0),this.ctx.fillStyle=ss(O1),this.ctx.fill(),this.ctx.restore())),PF(s)&&s.value.length){switch(m=this.createFontStyle(i),C=m[0],h=m[1],v=this.fontMetrics.getMetrics(C,h).baseline,this.ctx.font=C,this.ctx.fillStyle=ss(i.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=OF(s.styles.textAlign),E=K0(s),b=0,s.styles.textAlign){case 1:b+=E.width/2;break;case 2:b+=E.width;break}N=E.add(b,0,0,-E.height/2+1),this.ctx.save(),this.path([new qe(E.left,E.top),new qe(E.left+E.width,E.top),new qe(E.left+E.width,E.top+E.height),new qe(E.left,E.top+E.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new wu(s.value,N),i.letterSpacing,v),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!Wr(s.styles.display,2048))return[3,20];if(s.styles.listStyleImage===null)return[3,19];if(w=s.styles.listStyleImage,w.type!==0)return[3,18];x=void 0,B=w.url,S.label=15;case 15:return S.trys.push([15,17,,18]),[4,this.context.cache.match(B)];case 16:return x=S.sent(),this.ctx.drawImage(x,s.bounds.left-(x.width+10),s.bounds.top),[3,18];case 17:return S.sent(),this.context.logger.error("Error loading list-style-image "+B),[3,18];case 18:return[3,20];case 19:r.listValue&&s.styles.listStyleType!==-1&&(C=this.createFontStyle(i)[0],this.ctx.font=C,this.ctx.fillStyle=ss(i.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",E=new pi(s.bounds.left,s.bounds.top+rr(s.styles.paddingTop,s.bounds.width),s.bounds.width,y1(i.lineHeight,i.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new wu(r.listValue,E),i.letterSpacing,y1(i.lineHeight,i.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),S.label=20;case 20:return[2]}})})},t.prototype.renderStackContent=function(r){return Ms(this,void 0,void 0,function(){var s,a,w,i,o,w,A,l,w,c,d,w,f,m,w,h,v,w,b,N,w;return Es(this,function(x){switch(x.label){case 0:if(Wr(r.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(r.element)];case 1:x.sent(),s=0,a=r.negativeZIndex,x.label=2;case 2:return s<a.length?(w=a[s],[4,this.renderStack(w)]):[3,5];case 3:x.sent(),x.label=4;case 4:return s++,[3,2];case 5:return[4,this.renderNodeContent(r.element)];case 6:x.sent(),i=0,o=r.nonInlineLevel,x.label=7;case 7:return i<o.length?(w=o[i],[4,this.renderNode(w)]):[3,10];case 8:x.sent(),x.label=9;case 9:return i++,[3,7];case 10:A=0,l=r.nonPositionedFloats,x.label=11;case 11:return A<l.length?(w=l[A],[4,this.renderStack(w)]):[3,14];case 12:x.sent(),x.label=13;case 13:return A++,[3,11];case 14:c=0,d=r.nonPositionedInlineLevel,x.label=15;case 15:return c<d.length?(w=d[c],[4,this.renderStack(w)]):[3,18];case 16:x.sent(),x.label=17;case 17:return c++,[3,15];case 18:f=0,m=r.inlineLevel,x.label=19;case 19:return f<m.length?(w=m[f],[4,this.renderNode(w)]):[3,22];case 20:x.sent(),x.label=21;case 21:return f++,[3,19];case 22:h=0,v=r.zeroOrAutoZIndexOrTransformedOrOpacity,x.label=23;case 23:return h<v.length?(w=v[h],[4,this.renderStack(w)]):[3,26];case 24:x.sent(),x.label=25;case 25:return h++,[3,23];case 26:b=0,N=r.positiveZIndex,x.label=27;case 27:return b<N.length?(w=N[b],[4,this.renderStack(w)]):[3,30];case 28:x.sent(),x.label=29;case 29:return b++,[3,27];case 30:return[2]}})})},t.prototype.mask=function(r){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(r.slice(0).reverse()),this.ctx.closePath()},t.prototype.path=function(r){this.ctx.beginPath(),this.formatPath(r),this.ctx.closePath()},t.prototype.formatPath=function(r){var s=this;r.forEach(function(a,i){var o=Vn(a)?a.start:a;i===0?s.ctx.moveTo(o.x,o.y):s.ctx.lineTo(o.x,o.y),Vn(a)&&s.ctx.bezierCurveTo(a.startControl.x,a.startControl.y,a.endControl.x,a.endControl.y,a.end.x,a.end.y)})},t.prototype.renderRepeat=function(r,s,a,i){this.path(r),this.ctx.fillStyle=s,this.ctx.translate(a,i),this.ctx.fill(),this.ctx.translate(-a,-i)},t.prototype.resizeImage=function(r,s,a){var i;if(r.width===s&&r.height===a)return r;var o=(i=this.canvas.ownerDocument)!==null&&i!==void 0?i:document,A=o.createElement("canvas");A.width=Math.max(1,s),A.height=Math.max(1,a);var l=A.getContext("2d");return l.drawImage(r,0,0,r.width,r.height,0,0,s,a),A},t.prototype.renderBackgroundImage=function(r){return Ms(this,void 0,void 0,function(){var s,a,i,o,A,l;return Es(this,function(c){switch(c.label){case 0:s=r.styles.backgroundImage.length-1,a=function(d){var f,m,h,ne,Q,I,O,_,R,v,ne,Q,I,O,_,b,N,w,x,B,C,E,S,D,R,W,ne,k,L,O,_,K,Q,I,U,V,Z,me,F,G,q,ee;return Es(this,function(se){switch(se.label){case 0:if(d.type!==0)return[3,5];f=void 0,m=d.url,se.label=1;case 1:return se.trys.push([1,3,,4]),[4,i.context.cache.match(m)];case 2:return f=se.sent(),[3,4];case 3:return se.sent(),i.context.logger.error("Error loading background-image "+m),[3,4];case 4:return f&&(h=rm(r,s,[f.width,f.height,f.width/f.height]),ne=h[0],Q=h[1],I=h[2],O=h[3],_=h[4],R=i.ctx.createPattern(i.resizeImage(f,O,_),"repeat"),i.renderRepeat(ne,R,Q,I)),[3,6];case 5:y_(d)?(v=rm(r,s,[null,null,null]),ne=v[0],Q=v[1],I=v[2],O=v[3],_=v[4],b=g_(d.angle,O,_),N=b[0],w=b[1],x=b[2],B=b[3],C=b[4],E=document.createElement("canvas"),E.width=O,E.height=_,S=E.getContext("2d"),D=S.createLinearGradient(w,B,x,C),w1(d.stops,N).forEach(function(Ae){return D.addColorStop(Ae.stop,ss(Ae.color))}),S.fillStyle=D,S.fillRect(0,0,O,_),O>0&&_>0&&(R=i.ctx.createPattern(E,"repeat"),i.renderRepeat(ne,R,Q,I))):B_(d)&&(W=rm(r,s,[null,null,null]),ne=W[0],k=W[1],L=W[2],O=W[3],_=W[4],K=d.position.length===0?[sb]:d.position,Q=rr(K[0],O),I=rr(K[K.length-1],_),U=x_(d,Q,I,O,_),V=U[0],Z=U[1],V>0&&Z>0&&(me=i.ctx.createRadialGradient(k+Q,L+I,0,k+Q,L+I,V),w1(d.stops,V*2).forEach(function(Ae){return me.addColorStop(Ae.stop,ss(Ae.color))}),i.path(ne),i.ctx.fillStyle=me,V!==Z?(F=r.bounds.left+.5*r.bounds.width,G=r.bounds.top+.5*r.bounds.height,q=Z/V,ee=1/q,i.ctx.save(),i.ctx.translate(F,G),i.ctx.transform(1,0,0,q,0,0),i.ctx.translate(-F,-G),i.ctx.fillRect(k,ee*(L-G)+G,O,_*ee),i.ctx.restore()):i.ctx.fill())),se.label=6;case 6:return s--,[2]}})},i=this,o=0,A=r.styles.backgroundImage.slice(0).reverse(),c.label=1;case 1:return o<A.length?(l=A[o],[5,a(l)]):[3,4];case 2:c.sent(),c.label=3;case 3:return o++,[3,1];case 4:return[2]}})})},t.prototype.renderSolidBorder=function(r,s,a){return Ms(this,void 0,void 0,function(){return Es(this,function(i){return this.path(X1(a,s)),this.ctx.fillStyle=ss(r),this.ctx.fill(),[2]})})},t.prototype.renderDoubleBorder=function(r,s,a,i){return Ms(this,void 0,void 0,function(){var o,A;return Es(this,function(l){switch(l.label){case 0:return s<3?[4,this.renderSolidBorder(r,a,i)]:[3,2];case 1:return l.sent(),[2];case 2:return o=CF(i,a),this.path(o),this.ctx.fillStyle=ss(r),this.ctx.fill(),A=_F(i,a),this.path(A),this.ctx.fill(),[2]}})})},t.prototype.renderNodeBackgroundAndBorders=function(r){return Ms(this,void 0,void 0,function(){var s,a,i,o,A,l,c,d,f=this;return Es(this,function(m){switch(m.label){case 0:return this.applyEffects(r.getEffects(2)),s=r.container.styles,a=!fo(s.backgroundColor)||s.backgroundImage.length,i=[{style:s.borderTopStyle,color:s.borderTopColor,width:s.borderTopWidth},{style:s.borderRightStyle,color:s.borderRightColor,width:s.borderRightWidth},{style:s.borderBottomStyle,color:s.borderBottomColor,width:s.borderBottomWidth},{style:s.borderLeftStyle,color:s.borderLeftColor,width:s.borderLeftWidth}],o=RF(tl(s.backgroundClip,0),r.curves),a||s.boxShadow.length?(this.ctx.save(),this.path(o),this.ctx.clip(),fo(s.backgroundColor)||(this.ctx.fillStyle=ss(s.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(r.container)]):[3,2];case 1:m.sent(),this.ctx.restore(),s.boxShadow.slice(0).reverse().forEach(function(h){f.ctx.save();var v=$0(r.curves),b=h.inset?0:LF,N=NF(v,-b+(h.inset?1:-1)*h.spread.number,(h.inset?1:-1)*h.spread.number,h.spread.number*(h.inset?-2:2),h.spread.number*(h.inset?-2:2));h.inset?(f.path(v),f.ctx.clip(),f.mask(N)):(f.mask(v),f.ctx.clip(),f.path(N)),f.ctx.shadowOffsetX=h.offsetX.number+b,f.ctx.shadowOffsetY=h.offsetY.number,f.ctx.shadowColor=ss(h.color),f.ctx.shadowBlur=h.blur.number,f.ctx.fillStyle=h.inset?ss(h.color):"rgba(0,0,0,1)",f.ctx.fill(),f.ctx.restore()}),m.label=2;case 2:A=0,l=0,c=i,m.label=3;case 3:return l<c.length?(d=c[l],d.style!==0&&!fo(d.color)&&d.width>0?d.style!==2?[3,5]:[4,this.renderDashedDottedBorder(d.color,d.width,A,r.curves,2)]:[3,11]):[3,13];case 4:return m.sent(),[3,11];case 5:return d.style!==3?[3,7]:[4,this.renderDashedDottedBorder(d.color,d.width,A,r.curves,3)];case 6:return m.sent(),[3,11];case 7:return d.style!==4?[3,9]:[4,this.renderDoubleBorder(d.color,d.width,A,r.curves)];case 8:return m.sent(),[3,11];case 9:return[4,this.renderSolidBorder(d.color,A,r.curves)];case 10:m.sent(),m.label=11;case 11:A++,m.label=12;case 12:return l++,[3,3];case 13:return[2]}})})},t.prototype.renderDashedDottedBorder=function(r,s,a,i,o){return Ms(this,void 0,void 0,function(){var A,l,c,d,f,m,h,v,b,N,w,x,B,C,E,S,E,S;return Es(this,function(D){return this.ctx.save(),A=SF(i,a),l=X1(i,a),o===2&&(this.path(l),this.ctx.clip()),Vn(l[0])?(c=l[0].start.x,d=l[0].start.y):(c=l[0].x,d=l[0].y),Vn(l[1])?(f=l[1].end.x,m=l[1].end.y):(f=l[1].x,m=l[1].y),a===0||a===2?h=Math.abs(c-f):h=Math.abs(d-m),this.ctx.beginPath(),o===3?this.formatPath(A):this.formatPath(l.slice(0,2)),v=s<3?s*3:s*2,b=s<3?s*2:s,o===3&&(v=s,b=s),N=!0,h<=v*2?N=!1:h<=v*2+b?(w=h/(2*v+b),v*=w,b*=w):(x=Math.floor((h+b)/(v+b)),B=(h-x*v)/(x-1),C=(h-(x+1)*v)/x,b=C<=0||Math.abs(b-B)<Math.abs(b-C)?B:C),N&&(o===3?this.ctx.setLineDash([0,v+b]):this.ctx.setLineDash([v,b])),o===3?(this.ctx.lineCap="round",this.ctx.lineWidth=s):this.ctx.lineWidth=s*2+1.1,this.ctx.strokeStyle=ss(r),this.ctx.stroke(),this.ctx.setLineDash([]),o===2&&(Vn(l[0])&&(E=l[3],S=l[0],this.ctx.beginPath(),this.formatPath([new qe(E.end.x,E.end.y),new qe(S.start.x,S.start.y)]),this.ctx.stroke()),Vn(l[1])&&(E=l[1],S=l[2],this.ctx.beginPath(),this.formatPath([new qe(E.end.x,E.end.y),new qe(S.start.x,S.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},t.prototype.render=function(r){return Ms(this,void 0,void 0,function(){var s;return Es(this,function(a){switch(a.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=ss(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),s=jF(r),[4,this.renderStack(s)];case 1:return a.sent(),this.applyEffects([]),[2,this.canvas]}})})},t}(fB),PF=function(e){return e instanceof Xy||e instanceof Jy?!0:e instanceof ob&&e.type!==O0&&e.type!==R0},RF=function(e,t){switch(e){case 0:return $0(t);case 2:return bF(t);case 1:default:return M0(t)}},OF=function(e){switch(e){case 1:return"center";case 2:return"right";case 0:default:return"left"}},DF=["-apple-system","system-ui"],HF=function(e){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?e.filter(function(t){return DF.indexOf(t)===-1}):e},$F=function(e){Ba(t,e);function t(r,s){var a=e.call(this,r,s)||this;return a.canvas=s.canvas?s.canvas:document.createElement("canvas"),a.ctx=a.canvas.getContext("2d"),a.options=s,a.canvas.width=Math.floor(s.width*s.scale),a.canvas.height=Math.floor(s.height*s.scale),a.canvas.style.width=s.width+"px",a.canvas.style.height=s.height+"px",a.ctx.scale(a.options.scale,a.options.scale),a.ctx.translate(-s.x,-s.y),a.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+s.width+"x"+s.height+" at "+s.x+","+s.y+") with scale "+s.scale),a}return t.prototype.render=function(r){return Ms(this,void 0,void 0,function(){var s,a;return Es(this,function(i){switch(i.label){case 0:return s=Eg(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,r),[4,MF(s)];case 1:return a=i.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=ss(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(a,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},t}(fB),MF=function(e){return new Promise(function(t,r){var s=new Image;s.onload=function(){t(s)},s.onerror=r,s.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(e))})},KF=function(){function e(t){var r=t.id,s=t.enabled;this.id=r,this.enabled=s,this.start=Date.now()}return e.prototype.debug=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,ch([this.id,this.getTime()+"ms"],t)):this.info.apply(this,t))},e.prototype.getTime=function(){return Date.now()-this.start},e.prototype.info=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,ch([this.id,this.getTime()+"ms"],t))},e.prototype.warn=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,ch([this.id,this.getTime()+"ms"],t)):this.info.apply(this,t))},e.prototype.error=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,ch([this.id,this.getTime()+"ms"],t)):this.info.apply(this,t))},e.instances={},e}(),VF=function(){function e(t,r){var s;this.windowBounds=r,this.instanceName="#"+e.instanceCount++,this.logger=new KF({id:this.instanceName,enabled:t.logging}),this.cache=(s=t.cache)!==null&&s!==void 0?s:new uF(this,t)}return e.instanceCount=1,e}(),V0=function(e,t){return t===void 0&&(t={}),zF(e,t)};typeof window<"u"&&AB.setContext(window);var zF=function(e,t){return Ms(void 0,void 0,void 0,function(){var r,s,a,i,o,A,l,c,d,f,m,h,v,b,N,w,x,B,C,E,D,S,D,R,W,ne,k,L,O,_,K,Q,I,U,V,Z,me,F,G,q;return Es(this,function(ee){switch(ee.label){case 0:if(!e||typeof e!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(r=e.ownerDocument,!r)throw new Error("Element is not attached to a Document");if(s=r.defaultView,!s)throw new Error("Document is not attached to a Window");return a={allowTaint:(R=t.allowTaint)!==null&&R!==void 0?R:!1,imageTimeout:(W=t.imageTimeout)!==null&&W!==void 0?W:15e3,proxy:t.proxy,useCORS:(ne=t.useCORS)!==null&&ne!==void 0?ne:!1},i=fg({logging:(k=t.logging)!==null&&k!==void 0?k:!0,cache:t.cache},a),o={windowWidth:(L=t.windowWidth)!==null&&L!==void 0?L:s.innerWidth,windowHeight:(O=t.windowHeight)!==null&&O!==void 0?O:s.innerHeight,scrollX:(_=t.scrollX)!==null&&_!==void 0?_:s.pageXOffset,scrollY:(K=t.scrollY)!==null&&K!==void 0?K:s.pageYOffset},A=new pi(o.scrollX,o.scrollY,o.windowWidth,o.windowHeight),l=new VF(i,A),c=(Q=t.foreignObjectRendering)!==null&&Q!==void 0?Q:!1,d={allowTaint:(I=t.allowTaint)!==null&&I!==void 0?I:!1,onclone:t.onclone,ignoreElements:t.ignoreElements,inlineImages:c,copyStyles:c},l.logger.debug("Starting document clone with size "+A.width+"x"+A.height+" scrolled to "+-A.left+","+-A.top),f=new G1(l,e,d),m=f.clonedReferenceElement,m?[4,f.toIFrame(r,A)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return h=ee.sent(),v=Ab(m)||GE(m)?NC(m.ownerDocument):gf(l,m),b=v.width,N=v.height,w=v.left,x=v.top,B=qF(l,m,t.backgroundColor),C={canvas:t.canvas,backgroundColor:B,scale:(V=(U=t.scale)!==null&&U!==void 0?U:s.devicePixelRatio)!==null&&V!==void 0?V:1,x:((Z=t.x)!==null&&Z!==void 0?Z:0)+w,y:((me=t.y)!==null&&me!==void 0?me:0)+x,width:(F=t.width)!==null&&F!==void 0?F:Math.ceil(b),height:(G=t.height)!==null&&G!==void 0?G:Math.ceil(N)},c?(l.logger.debug("Document cloned, using foreign object rendering"),D=new $F(l,C),[4,D.render(m)]):[3,3];case 2:return E=ee.sent(),[3,5];case 3:return l.logger.debug("Document cloned, element located at "+w+","+x+" with size "+b+"x"+N+" using computed rendering"),l.logger.debug("Starting DOM parsing"),S=eB(l,m),B===S.styles.backgroundColor&&(S.styles.backgroundColor=ci.TRANSPARENT),l.logger.debug("Starting renderer for element at "+C.x+","+C.y+" with size "+C.width+"x"+C.height),D=new TF(l,C),[4,D.render(S)];case 4:E=ee.sent(),ee.label=5;case 5:return(!((q=t.removeContainer)!==null&&q!==void 0)||q)&&(G1.destroy(h)||l.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),l.logger.debug("Finished rendering"),[2,E]}})})},qF=function(e,t,r){var s=t.ownerDocument,a=s.documentElement?xu(e,getComputedStyle(s.documentElement).backgroundColor):ci.TRANSPARENT,i=s.body?xu(e,getComputedStyle(s.body).backgroundColor):ci.TRANSPARENT,o=typeof r=="string"?xu(e,r):r===null?ci.TRANSPARENT:4294967295;return t===s.documentElement?fo(a)?fo(i)?o:i:a:o};const GF=Object.freeze(Object.defineProperty({__proto__:null,default:V0},Symbol.toStringTag,{value:"Module"})),WF="modulepreload",JF=function(e){return"/CotizappWeb/"+e},Z1={},Tg=function(t,r,s){let a=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),A=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));a=Promise.allSettled(r.map(l=>{if(l=JF(l),l in Z1)return;Z1[l]=!0;const c=l.endsWith(".css"),d=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${d}`))return;const f=document.createElement("link");if(f.rel=c?"stylesheet":WF,c||(f.as="script"),f.crossOrigin="",f.href=l,A&&f.setAttribute("nonce",A),document.head.appendChild(f),c)return new Promise((m,h)=>{f.addEventListener("load",m),f.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(o){const A=new Event("vite:preloadError",{cancelable:!0});if(A.payload=o,window.dispatchEvent(A),!A.defaultPrevented)throw o}return a.then(o=>{for(const A of o||[])A.status==="rejected"&&i(A.reason);return t().catch(i)})};function Mt(e){"@babel/helpers - typeof";return Mt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mt(e)}var Qs=Uint8Array,_n=Uint16Array,lb=Int32Array,_f=new Qs([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Sf=new Qs([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Pg=new Qs([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),pB=function(e,t){for(var r=new _n(31),s=0;s<31;++s)r[s]=t+=1<<e[s-1];for(var a=new lb(r[30]),s=1;s<30;++s)for(var i=r[s];i<r[s+1];++i)a[i]=i-r[s]<<5|s;return{b:r,r:a}},mB=pB(_f,2),gB=mB.b,Rg=mB.r;gB[28]=258,Rg[258]=28;var xB=pB(Sf,0),XF=xB.b,ev=xB.r,Og=new _n(32768);for(var ar=0;ar<32768;++ar){var Hi=(ar&43690)>>1|(ar&21845)<<1;Hi=(Hi&52428)>>2|(Hi&13107)<<2,Hi=(Hi&61680)>>4|(Hi&3855)<<4,Og[ar]=((Hi&65280)>>8|(Hi&255)<<8)>>1}var $a=function(e,t,r){for(var s=e.length,a=0,i=new _n(t);a<s;++a)e[a]&&++i[e[a]-1];var o=new _n(t);for(a=1;a<t;++a)o[a]=o[a-1]+i[a-1]<<1;var A;if(r){A=new _n(1<<t);var l=15-t;for(a=0;a<s;++a)if(e[a])for(var c=a<<4|e[a],d=t-e[a],f=o[e[a]-1]++<<d,m=f|(1<<d)-1;f<=m;++f)A[Og[f]>>l]=c}else for(A=new _n(s),a=0;a<s;++a)e[a]&&(A[a]=Og[o[e[a]-1]++]>>15-e[a]);return A},xo=new Qs(288);for(var ar=0;ar<144;++ar)xo[ar]=8;for(var ar=144;ar<256;++ar)xo[ar]=9;for(var ar=256;ar<280;++ar)xo[ar]=7;for(var ar=280;ar<288;++ar)xo[ar]=8;var Vu=new Qs(32);for(var ar=0;ar<32;++ar)Vu[ar]=5;var YF=$a(xo,9,0),ZF=$a(xo,9,1),e6=$a(Vu,5,0),t6=$a(Vu,5,1),sm=function(e){for(var t=e[0],r=1;r<e.length;++r)e[r]>t&&(t=e[r]);return t},ca=function(e,t,r){var s=t/8|0;return(e[s]|e[s+1]<<8)>>(t&7)&r},nm=function(e,t){var r=t/8|0;return(e[r]|e[r+1]<<8|e[r+2]<<16)>>(t&7)},cb=function(e){return(e+7)/8|0},bB=function(e,t,r){return(r==null||r>e.length)&&(r=e.length),new Qs(e.subarray(t,r))},r6=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],pa=function(e,t,r){var s=new Error(t||r6[e]);if(s.code=e,Error.captureStackTrace&&Error.captureStackTrace(s,pa),!r)throw s;return s},s6=function(e,t,r,s){var a=e.length,i=0;if(!a||t.f&&!t.l)return r||new Qs(0);var o=!r,A=o||t.i!=2,l=t.i;o&&(r=new Qs(a*3));var c=function(Ue){var Pe=r.length;if(Ue>Pe){var ae=new Qs(Math.max(Pe*2,Ue));ae.set(r),r=ae}},d=t.f||0,f=t.p||0,m=t.b||0,h=t.l,v=t.d,b=t.m,N=t.n,w=a*8;do{if(!h){d=ca(e,f,1);var x=ca(e,f+1,3);if(f+=3,x)if(x==1)h=ZF,v=t6,b=9,N=5;else if(x==2){var S=ca(e,f,31)+257,D=ca(e,f+10,15)+4,R=S+ca(e,f+5,31)+1;f+=14;for(var W=new Qs(R),ne=new Qs(19),k=0;k<D;++k)ne[Pg[k]]=ca(e,f+k*3,7);f+=D*3;for(var L=sm(ne),O=(1<<L)-1,_=$a(ne,L,1),k=0;k<R;){var K=_[ca(e,f,O)];f+=K&15;var B=K>>4;if(B<16)W[k++]=B;else{var Q=0,I=0;for(B==16?(I=3+ca(e,f,3),f+=2,Q=W[k-1]):B==17?(I=3+ca(e,f,7),f+=3):B==18&&(I=11+ca(e,f,127),f+=7);I--;)W[k++]=Q}}var U=W.subarray(0,S),V=W.subarray(S);b=sm(U),N=sm(V),h=$a(U,b,1),v=$a(V,N,1)}else pa(1);else{var B=cb(f)+4,C=e[B-4]|e[B-3]<<8,E=B+C;if(E>a){l&&pa(0);break}A&&c(m+C),r.set(e.subarray(B,E),m),t.b=m+=C,t.p=f=E*8,t.f=d;continue}if(f>w){l&&pa(0);break}}A&&c(m+131072);for(var Z=(1<<b)-1,me=(1<<N)-1,F=f;;F=f){var Q=h[nm(e,f)&Z],G=Q>>4;if(f+=Q&15,f>w){l&&pa(0);break}if(Q||pa(2),G<256)r[m++]=G;else if(G==256){F=f,h=null;break}else{var q=G-254;if(G>264){var k=G-257,ee=_f[k];q=ca(e,f,(1<<ee)-1)+gB[k],f+=ee}var se=v[nm(e,f)&me],Ae=se>>4;se||pa(3),f+=se&15;var V=XF[Ae];if(Ae>3){var ee=Sf[Ae];V+=nm(e,f)&(1<<ee)-1,f+=ee}if(f>w){l&&pa(0);break}A&&c(m+131072);var we=m+q;if(m<V){var ye=i-V,Ie=Math.min(V,we);for(ye+m<0&&pa(3);m<Ie;++m)r[m]=s[ye+m]}for(;m<we;++m)r[m]=r[m-V]}}t.l=h,t.p=F,t.b=m,t.f=d,h&&(d=1,t.m=b,t.d=v,t.n=N)}while(!d);return m!=r.length&&o?bB(r,0,m):r.subarray(0,m)},si=function(e,t,r){r<<=t&7;var s=t/8|0;e[s]|=r,e[s+1]|=r>>8},Vc=function(e,t,r){r<<=t&7;var s=t/8|0;e[s]|=r,e[s+1]|=r>>8,e[s+2]|=r>>16},am=function(e,t){for(var r=[],s=0;s<e.length;++s)e[s]&&r.push({s,f:e[s]});var a=r.length,i=r.slice();if(!a)return{t:vB,l:0};if(a==1){var o=new Qs(r[0].s+1);return o[r[0].s]=1,{t:o,l:1}}r.sort(function(E,S){return E.f-S.f}),r.push({s:-1,f:25001});var A=r[0],l=r[1],c=0,d=1,f=2;for(r[0]={s:-1,f:A.f+l.f,l:A,r:l};d!=a-1;)A=r[r[c].f<r[f].f?c++:f++],l=r[c!=d&&r[c].f<r[f].f?c++:f++],r[d++]={s:-1,f:A.f+l.f,l:A,r:l};for(var m=i[0].s,s=1;s<a;++s)i[s].s>m&&(m=i[s].s);var h=new _n(m+1),v=Dg(r[d-1],h,0);if(v>t){var s=0,b=0,N=v-t,w=1<<N;for(i.sort(function(S,D){return h[D.s]-h[S.s]||S.f-D.f});s<a;++s){var x=i[s].s;if(h[x]>t)b+=w-(1<<v-h[x]),h[x]=t;else break}for(b>>=N;b>0;){var B=i[s].s;h[B]<t?b-=1<<t-h[B]++-1:++s}for(;s>=0&&b;--s){var C=i[s].s;h[C]==t&&(--h[C],++b)}v=t}return{t:new Qs(h),l:v}},Dg=function(e,t,r){return e.s==-1?Math.max(Dg(e.l,t,r+1),Dg(e.r,t,r+1)):t[e.s]=r},tv=function(e){for(var t=e.length;t&&!e[--t];);for(var r=new _n(++t),s=0,a=e[0],i=1,o=function(l){r[s++]=l},A=1;A<=t;++A)if(e[A]==a&&A!=t)++i;else{if(!a&&i>2){for(;i>138;i-=138)o(32754);i>2&&(o(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(o(a),--i;i>6;i-=6)o(8304);i>2&&(o(i-3<<5|8208),i=0)}for(;i--;)o(a);i=1,a=e[A]}return{c:r.subarray(0,s),n:t}},zc=function(e,t){for(var r=0,s=0;s<t.length;++s)r+=e[s]*t[s];return r},wB=function(e,t,r){var s=r.length,a=cb(t+2);e[a]=s&255,e[a+1]=s>>8,e[a+2]=e[a]^255,e[a+3]=e[a+1]^255;for(var i=0;i<s;++i)e[a+i+4]=r[i];return(a+4+s)*8},rv=function(e,t,r,s,a,i,o,A,l,c,d){si(t,d++,r),++a[256];for(var f=am(a,15),m=f.t,h=f.l,v=am(i,15),b=v.t,N=v.l,w=tv(m),x=w.c,B=w.n,C=tv(b),E=C.c,S=C.n,D=new _n(19),R=0;R<x.length;++R)++D[x[R]&31];for(var R=0;R<E.length;++R)++D[E[R]&31];for(var W=am(D,7),ne=W.t,k=W.l,L=19;L>4&&!ne[Pg[L-1]];--L);var O=c+5<<3,_=zc(a,xo)+zc(i,Vu)+o,K=zc(a,m)+zc(i,b)+o+14+3*L+zc(D,ne)+2*D[16]+3*D[17]+7*D[18];if(l>=0&&O<=_&&O<=K)return wB(t,d,e.subarray(l,l+c));var Q,I,U,V;if(si(t,d,1+(K<_)),d+=2,K<_){Q=$a(m,h,0),I=m,U=$a(b,N,0),V=b;var Z=$a(ne,k,0);si(t,d,B-257),si(t,d+5,S-1),si(t,d+10,L-4),d+=14;for(var R=0;R<L;++R)si(t,d+3*R,ne[Pg[R]]);d+=3*L;for(var me=[x,E],F=0;F<2;++F)for(var G=me[F],R=0;R<G.length;++R){var q=G[R]&31;si(t,d,Z[q]),d+=ne[q],q>15&&(si(t,d,G[R]>>5&127),d+=G[R]>>12)}}else Q=YF,I=xo,U=e6,V=Vu;for(var R=0;R<A;++R){var ee=s[R];if(ee>255){var q=ee>>18&31;Vc(t,d,Q[q+257]),d+=I[q+257],q>7&&(si(t,d,ee>>23&31),d+=_f[q]);var se=ee&31;Vc(t,d,U[se]),d+=V[se],se>3&&(Vc(t,d,ee>>5&8191),d+=Sf[se])}else Vc(t,d,Q[ee]),d+=I[ee]}return Vc(t,d,Q[256]),d+I[256]},n6=new lb([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),vB=new Qs(0),a6=function(e,t,r,s,a,i){var o=i.z||e.length,A=new Qs(s+o+5*(1+Math.ceil(o/7e3))+a),l=A.subarray(s,A.length-a),c=i.l,d=(i.r||0)&7;if(t){d&&(l[0]=i.r>>3);for(var f=n6[t-1],m=f>>13,h=f&8191,v=(1<<r)-1,b=i.p||new _n(32768),N=i.h||new _n(v+1),w=Math.ceil(r/3),x=2*w,B=function(De){return(e[De]^e[De+1]<<w^e[De+2]<<x)&v},C=new lb(25e3),E=new _n(288),S=new _n(32),D=0,R=0,W=i.i||0,ne=0,k=i.w||0,L=0;W+2<o;++W){var O=B(W),_=W&32767,K=N[O];if(b[_]=K,N[O]=_,k<=W){var Q=o-W;if((D>7e3||ne>24576)&&(Q>423||!c)){d=rv(e,l,0,C,E,S,R,ne,L,W-L,d),ne=D=R=0,L=W;for(var I=0;I<286;++I)E[I]=0;for(var I=0;I<30;++I)S[I]=0}var U=2,V=0,Z=h,me=_-K&32767;if(Q>2&&O==B(W-me))for(var F=Math.min(m,Q)-1,G=Math.min(32767,W),q=Math.min(258,Q);me<=G&&--Z&&_!=K;){if(e[W+U]==e[W+U-me]){for(var ee=0;ee<q&&e[W+ee]==e[W+ee-me];++ee);if(ee>U){if(U=ee,V=me,ee>F)break;for(var se=Math.min(me,ee-2),Ae=0,I=0;I<se;++I){var we=W-me+I&32767,ye=b[we],Ie=we-ye&32767;Ie>Ae&&(Ae=Ie,K=we)}}}_=K,K=b[_],me+=_-K&32767}if(V){C[ne++]=268435456|Rg[U]<<18|ev[V];var Ue=Rg[U]&31,Pe=ev[V]&31;R+=_f[Ue]+Sf[Pe],++E[257+Ue],++S[Pe],k=W+U,++D}else C[ne++]=e[W],++E[e[W]]}}for(W=Math.max(W,k);W<o;++W)C[ne++]=e[W],++E[e[W]];d=rv(e,l,c,C,E,S,R,ne,L,W-L,d),c||(i.r=d&7|l[d/8|0]<<3,d-=7,i.h=N,i.p=b,i.i=W,i.w=k)}else{for(var W=i.w||0;W<o+c;W+=65535){var ae=W+65535;ae>=o&&(l[d/8|0]=c,ae=o),d=wB(l,d+1,e.subarray(W,ae))}i.i=o}return bB(A,0,s+cb(d)+a)},yB=function(){var e=1,t=0;return{p:function(r){for(var s=e,a=t,i=r.length|0,o=0;o!=i;){for(var A=Math.min(o+2655,i);o<A;++o)a+=s+=r[o];s=(s&65535)+15*(s>>16),a=(a&65535)+15*(a>>16)}e=s,t=a},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},i6=function(e,t,r,s,a){if(!a&&(a={l:1},t.dictionary)){var i=t.dictionary.subarray(-32768),o=new Qs(i.length+e.length);o.set(i),o.set(e,i.length),e=o,a.w=i.length}return a6(e,t.level==null?6:t.level,t.mem==null?a.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,r,s,a)},BB=function(e,t,r){for(;r;++t)e[t]=r,r>>>=8},o6=function(e,t){var r=t.level,s=r==0?0:r<6?1:r==9?3:2;if(e[0]=120,e[1]=s<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var a=yB();a.p(t.dictionary),BB(e,2,a.d())}},A6=function(e,t){return((e[0]&15)!=8||e[0]>>4>7||(e[0]<<8|e[1])%31)&&pa(6,"invalid zlib data"),(e[1]>>5&1)==1&&pa(6,"invalid zlib data: "+(e[1]&32?"need":"unexpected")+" dictionary"),(e[1]>>3&4)+2};function Hg(e,t){t||(t={});var r=yB();r.p(e);var s=i6(e,t,t.dictionary?6:2,4);return o6(s,t),BB(s,s.length-4,r.d()),s}function l6(e,t){return s6(e.subarray(A6(e),-4),{i:2},t,t)}var c6=typeof TextDecoder<"u"&&new TextDecoder,u6=0;try{c6.decode(vB,{stream:!0}),u6=1}catch{}var pt=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function im(){pt.console&&typeof pt.console.log=="function"&&pt.console.log.apply(pt.console,arguments)}var Xt={log:im,warn:function(e){pt.console&&(typeof pt.console.warn=="function"?pt.console.warn.apply(pt.console,arguments):im.call(null,arguments))},error:function(e){pt.console&&(typeof pt.console.error=="function"?pt.console.error.apply(pt.console,arguments):im(e))}};function om(e,t,r){var s=new XMLHttpRequest;s.open("GET",e),s.responseType="blob",s.onload=function(){Ho(s.response,t,r)},s.onerror=function(){Xt.error("could not download file")},s.send()}function sv(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function kh(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var yu,$g,Ho=pt.saveAs||((typeof window>"u"?"undefined":Mt(window))!=="object"||window!==pt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,r){var s=pt.URL||pt.webkitURL,a=document.createElement("a");t=t||e.name||"download",a.download=t,a.rel="noopener",typeof e=="string"?(a.href=e,a.origin!==location.origin?sv(a.href)?om(e,t,r):kh(a,a.target="_blank"):kh(a)):(a.href=s.createObjectURL(e),setTimeout(function(){s.revokeObjectURL(a.href)},4e4),setTimeout(function(){kh(a)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,r){if(t=t||e.name||"download",typeof e=="string")if(sv(e))om(e,t,r);else{var s=document.createElement("a");s.href=e,s.target="_blank",setTimeout(function(){kh(s)})}else navigator.msSaveOrOpenBlob(function(a,i){return i===void 0?i={autoBom:!1}:Mt(i)!=="object"&&(Xt.warn("Deprecated: Expected third argument to be a object"),i={autoBom:!i}),i.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\uFEFF",a],{type:a.type}):a}(e,r),t)}:function(e,t,r,s){if((s=s||open("","_blank"))&&(s.document.title=s.document.body.innerText="downloading..."),typeof e=="string")return om(e,t,r);var a=e.type==="application/octet-stream",i=/constructor/i.test(pt.HTMLElement)||pt.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||a&&i)&&(typeof FileReader>"u"?"undefined":Mt(FileReader))==="object"){var A=new FileReader;A.onloadend=function(){var d=A.result;d=o?d:d.replace(/^data:[^;]*;/,"data:attachment/file;"),s?s.location.href=d:location=d,s=null},A.readAsDataURL(e)}else{var l=pt.URL||pt.webkitURL,c=l.createObjectURL(e);s?s.location=c:location.href=c,s=null,setTimeout(function(){l.revokeObjectURL(c)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function NB(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(A){return[parseInt(A[1]),parseInt(A[2]),parseInt(A[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(A){return[parseInt(A[1],16),parseInt(A[2],16),parseInt(A[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(A){return[parseInt(A[1]+A[1],16),parseInt(A[2]+A[2],16),parseInt(A[3]+A[3],16)]}}],s=0;s<r.length;s++){var a=r[s].re,i=r[s].process,o=a.exec(e);o&&(t=i(o),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var A=this.r.toString(16),l=this.g.toString(16),c=this.b.toString(16);return A.length==1&&(A="0"+A),l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),"#"+A+l+c}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function Am(e,t){var r=e[0],s=e[1],a=e[2],i=e[3];r=js(r,s,a,i,t[0],7,-680876936),i=js(i,r,s,a,t[1],12,-389564586),a=js(a,i,r,s,t[2],17,606105819),s=js(s,a,i,r,t[3],22,-1044525330),r=js(r,s,a,i,t[4],7,-176418897),i=js(i,r,s,a,t[5],12,1200080426),a=js(a,i,r,s,t[6],17,-1473231341),s=js(s,a,i,r,t[7],22,-45705983),r=js(r,s,a,i,t[8],7,1770035416),i=js(i,r,s,a,t[9],12,-1958414417),a=js(a,i,r,s,t[10],17,-42063),s=js(s,a,i,r,t[11],22,-1990404162),r=js(r,s,a,i,t[12],7,1804603682),i=js(i,r,s,a,t[13],12,-40341101),a=js(a,i,r,s,t[14],17,-1502002290),r=Cs(r,s=js(s,a,i,r,t[15],22,1236535329),a,i,t[1],5,-165796510),i=Cs(i,r,s,a,t[6],9,-1069501632),a=Cs(a,i,r,s,t[11],14,643717713),s=Cs(s,a,i,r,t[0],20,-373897302),r=Cs(r,s,a,i,t[5],5,-701558691),i=Cs(i,r,s,a,t[10],9,38016083),a=Cs(a,i,r,s,t[15],14,-660478335),s=Cs(s,a,i,r,t[4],20,-405537848),r=Cs(r,s,a,i,t[9],5,568446438),i=Cs(i,r,s,a,t[14],9,-1019803690),a=Cs(a,i,r,s,t[3],14,-187363961),s=Cs(s,a,i,r,t[8],20,1163531501),r=Cs(r,s,a,i,t[13],5,-1444681467),i=Cs(i,r,s,a,t[2],9,-51403784),a=Cs(a,i,r,s,t[7],14,1735328473),r=_s(r,s=Cs(s,a,i,r,t[12],20,-1926607734),a,i,t[5],4,-378558),i=_s(i,r,s,a,t[8],11,-2022574463),a=_s(a,i,r,s,t[11],16,1839030562),s=_s(s,a,i,r,t[14],23,-35309556),r=_s(r,s,a,i,t[1],4,-1530992060),i=_s(i,r,s,a,t[4],11,1272893353),a=_s(a,i,r,s,t[7],16,-155497632),s=_s(s,a,i,r,t[10],23,-1094730640),r=_s(r,s,a,i,t[13],4,681279174),i=_s(i,r,s,a,t[0],11,-358537222),a=_s(a,i,r,s,t[3],16,-722521979),s=_s(s,a,i,r,t[6],23,76029189),r=_s(r,s,a,i,t[9],4,-640364487),i=_s(i,r,s,a,t[12],11,-421815835),a=_s(a,i,r,s,t[15],16,530742520),r=Ss(r,s=_s(s,a,i,r,t[2],23,-995338651),a,i,t[0],6,-198630844),i=Ss(i,r,s,a,t[7],10,1126891415),a=Ss(a,i,r,s,t[14],15,-1416354905),s=Ss(s,a,i,r,t[5],21,-57434055),r=Ss(r,s,a,i,t[12],6,1700485571),i=Ss(i,r,s,a,t[3],10,-1894986606),a=Ss(a,i,r,s,t[10],15,-1051523),s=Ss(s,a,i,r,t[1],21,-2054922799),r=Ss(r,s,a,i,t[8],6,1873313359),i=Ss(i,r,s,a,t[15],10,-30611744),a=Ss(a,i,r,s,t[6],15,-1560198380),s=Ss(s,a,i,r,t[13],21,1309151649),r=Ss(r,s,a,i,t[4],6,-145523070),i=Ss(i,r,s,a,t[11],10,-1120210379),a=Ss(a,i,r,s,t[2],15,718787259),s=Ss(s,a,i,r,t[9],21,-343485551),e[0]=so(r,e[0]),e[1]=so(s,e[1]),e[2]=so(a,e[2]),e[3]=so(i,e[3])}function Ef(e,t,r,s,a,i){return t=so(so(t,e),so(s,i)),so(t<<a|t>>>32-a,r)}function js(e,t,r,s,a,i,o){return Ef(t&r|~t&s,e,t,a,i,o)}function Cs(e,t,r,s,a,i,o){return Ef(t&s|r&~s,e,t,a,i,o)}function _s(e,t,r,s,a,i,o){return Ef(t^r^s,e,t,a,i,o)}function Ss(e,t,r,s,a,i,o){return Ef(r^(t|~s),e,t,a,i,o)}function jB(e){var t,r=e.length,s=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)Am(s,d6(e.substring(t-64,t)));e=e.substring(t-64);var a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)a[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(a[t>>2]|=128<<(t%4<<3),t>55)for(Am(s,a),t=0;t<16;t++)a[t]=0;return a[14]=8*r,Am(s,a),s}function d6(e){var t,r=[];for(t=0;t<64;t+=4)r[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return r}yu=pt.atob.bind(pt),$g=pt.btoa.bind(pt);var nv="0123456789abcdef".split("");function h6(e){for(var t="",r=0;r<4;r++)t+=nv[e>>8*r+4&15]+nv[e>>8*r&15];return t}function f6(e){return String.fromCharCode((255&e)>>0,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function Mg(e){return jB(e).map(f6).join("")}var p6=function(e){for(var t=0;t<e.length;t++)e[t]=h6(e[t]);return e.join("")}(jB("hello"))!="5d41402abc4b2a76b9719d911017c592";function so(e,t){if(p6){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function Kg(e,t){var r,s,a,i;if(e!==r){for(var o=(a=e,i=1+(256/e.length>>0),new Array(i+1).join(a)),A=[],l=0;l<256;l++)A[l]=l;var c=0;for(l=0;l<256;l++){var d=A[l];c=(c+d+o.charCodeAt(l))%256,A[l]=A[c],A[c]=d}r=e,s=A}else A=s;var f=t.length,m=0,h=0,v="";for(l=0;l<f;l++)h=(h+(d=A[m=(m+1)%256]))%256,A[m]=A[h],A[h]=d,o=A[(A[m]+A[h])%256],v+=String.fromCharCode(t.charCodeAt(l)^o);return v}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var av={print:4,modify:8,copy:16,"annot-forms":32};function rl(e,t,r,s){this.v=1,this.r=2;var a=192;e.forEach(function(A){if(av.perm!==void 0)throw new Error("Invalid permission: "+A);a+=av[A]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var i=(t+this.padding).substr(0,32),o=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(i,o),this.P=-(1+(255^a)),this.encryptionKey=Mg(i+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(s)).substr(0,5),this.U=Kg(this.encryptionKey,this.padding)}function sl(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",r=e.length,s=0;s<r;s++){var a=e.charCodeAt(s);a<33||a===35||a===37||a===40||a===41||a===47||a===60||a===62||a===91||a===93||a===123||a===125||a>126?t+="#"+("0"+a.toString(16)).slice(-2):t+=e[s]}return t}function iv(e){if(Mt(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(r,s,a){if(a=a||!1,typeof r!="string"||typeof s!="function"||typeof a!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(r)||(t[r]={});var i=Math.random().toString(35);return t[r][i]=[s,!!a],i},this.unsubscribe=function(r){for(var s in t)if(t[s][r])return delete t[s][r],Object.keys(t[s]).length===0&&delete t[s],!0;return!1},this.publish=function(r){if(t.hasOwnProperty(r)){var s=Array.prototype.slice.call(arguments,1),a=[];for(var i in t[r]){var o=t[r][i];try{o[0].apply(e,s)}catch(A){pt.console&&Xt.error("jsPDF PubSub Error",A.message,A)}o[1]&&a.push(i)}a.length&&a.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function z0(e){if(!(this instanceof z0))return new z0(e);var t="opacity,stroke-opacity".split(",");for(var r in e)e.hasOwnProperty(r)&&t.indexOf(r)>=0&&(this[r]=e[r]);this.id="",this.objectNumber=-1}function CB(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function Vo(e,t,r,s,a){if(!(this instanceof Vo))return new Vo(e,t,r,s,a);this.type=e==="axial"?2:3,this.coords=t,this.colors=r,CB.call(this,s,a)}function wl(e,t,r,s,a){if(!(this instanceof wl))return new wl(e,t,r,s,a);this.boundingBox=e,this.xStep=t,this.yStep=r,this.stream="",this.cloneIndex=0,CB.call(this,s,a)}function lt(e){var t,r=typeof arguments[0]=="string"?arguments[0]:"p",s=arguments[1],a=arguments[2],i=arguments[3],o=[],A=1,l=16,c="S",d=null;Mt(e=e||{})==="object"&&(r=e.orientation,s=e.unit||s,a=e.format||a,i=e.compress||e.compressPdf||i,(d=e.encryption||null)!==null&&(d.userPassword=d.userPassword||"",d.ownerPassword=d.ownerPassword||"",d.userPermissions=d.userPermissions||[]),A=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(l=e.floatPrecision),c=e.defaultPathOperation||"S"),o=e.filters||(i===!0?["FlateEncode"]:o),s=s||"mm",r=(""+(r||"P")).toLowerCase();var f=e.putOnlyUsedFonts||!1,m={},h={internal:{},__private__:{}};h.__private__.PubSub=iv;var v="1.3",b=h.__private__.getPdfVersion=function(){return v};h.__private__.setPdfVersion=function(g){v=g};var N={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};h.__private__.getPageFormats=function(){return N};var w=h.__private__.getPageFormat=function(g){return N[g]};a=a||"a4";var x={COMPAT:"compat",ADVANCED:"advanced"},B=x.COMPAT;function C(){this.saveGraphicsState(),Y(new ot($e,0,0,-$e,0,Si()*$e).toString()+" cm"),this.setFontSize(this.getFontSize()/$e),c="n",B=x.ADVANCED}function E(){this.restoreGraphicsState(),c="S",B=x.COMPAT}var S=h.__private__.combineFontStyleAndFontWeight=function(g,P){if(g=="bold"&&P=="normal"||g=="bold"&&P==400||g=="normal"&&P=="italic"||g=="bold"&&P=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return P&&(g=P==400||P==="normal"?g==="italic"?"italic":"normal":P!=700&&P!=="bold"||g!=="normal"?(P==700?"bold":P)+""+g:"bold"),g};h.advancedAPI=function(g){var P=B===x.COMPAT;return P&&C.call(this),typeof g!="function"||(g(this),P&&E.call(this)),this},h.compatAPI=function(g){var P=B===x.ADVANCED;return P&&E.call(this),typeof g!="function"||(g(this),P&&C.call(this)),this},h.isAdvancedAPI=function(){return B===x.ADVANCED};var D,R=function(g){if(B!==x.ADVANCED)throw new Error(g+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},W=h.roundToPrecision=h.__private__.roundToPrecision=function(g,P){var te=t||P;if(isNaN(g)||isNaN(te))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return g.toFixed(te).replace(/0+$/,"")};D=h.hpf=h.__private__.hpf=typeof l=="number"?function(g){if(isNaN(g))throw new Error("Invalid argument passed to jsPDF.hpf");return W(g,l)}:l==="smart"?function(g){if(isNaN(g))throw new Error("Invalid argument passed to jsPDF.hpf");return W(g,g>-1&&g<1?16:5)}:function(g){if(isNaN(g))throw new Error("Invalid argument passed to jsPDF.hpf");return W(g,16)};var ne=h.f2=h.__private__.f2=function(g){if(isNaN(g))throw new Error("Invalid argument passed to jsPDF.f2");return W(g,2)},k=h.__private__.f3=function(g){if(isNaN(g))throw new Error("Invalid argument passed to jsPDF.f3");return W(g,3)},L=h.scale=h.__private__.scale=function(g){if(isNaN(g))throw new Error("Invalid argument passed to jsPDF.scale");return B===x.COMPAT?g*$e:B===x.ADVANCED?g:void 0},O=function(g){return B===x.COMPAT?Si()-g:B===x.ADVANCED?g:void 0},_=function(g){return L(O(g))};h.__private__.setPrecision=h.setPrecision=function(g){typeof parseInt(g,10)=="number"&&(t=parseInt(g,10))};var K,Q="00000000000000000000000000000000",I=h.__private__.getFileId=function(){return Q},U=h.__private__.setFileId=function(g){return Q=g!==void 0&&/^[a-fA-F0-9]{32}$/.test(g)?g.toUpperCase():Q.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),d!==null&&(vs=new rl(d.userPermissions,d.userPassword,d.ownerPassword,Q)),Q};h.setFileId=function(g){return U(g),this},h.getFileId=function(){return I()};var V=h.__private__.convertDateToPDFDate=function(g){var P=g.getTimezoneOffset(),te=P<0?"+":"-",oe=Math.floor(Math.abs(P/60)),ge=Math.abs(P%60),Ne=[te,q(oe),"'",q(ge),"'"].join("");return["D:",g.getFullYear(),q(g.getMonth()+1),q(g.getDate()),q(g.getHours()),q(g.getMinutes()),q(g.getSeconds()),Ne].join("")},Z=h.__private__.convertPDFDateToDate=function(g){var P=parseInt(g.substr(2,4),10),te=parseInt(g.substr(6,2),10)-1,oe=parseInt(g.substr(8,2),10),ge=parseInt(g.substr(10,2),10),Ne=parseInt(g.substr(12,2),10),ke=parseInt(g.substr(14,2),10);return new Date(P,te,oe,ge,Ne,ke,0)},me=h.__private__.setCreationDate=function(g){var P;if(g===void 0&&(g=new Date),g instanceof Date)P=V(g);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(g))throw new Error("Invalid argument passed to jsPDF.setCreationDate");P=g}return K=P},F=h.__private__.getCreationDate=function(g){var P=K;return g==="jsDate"&&(P=Z(K)),P};h.setCreationDate=function(g){return me(g),this},h.getCreationDate=function(g){return F(g)};var G,q=h.__private__.padd2=function(g){return("0"+parseInt(g)).slice(-2)},ee=h.__private__.padd2Hex=function(g){return("00"+(g=g.toString())).substr(g.length)},se=0,Ae=[],we=[],ye=0,Ie=[],Ue=[],Pe=!1,ae=we,De=function(){se=0,ye=0,we=[],Ae=[],Ie=[],ra=zt(),mn=zt()};h.__private__.setCustomOutputDestination=function(g){Pe=!0,ae=g};var ve=function(g){Pe||(ae=g)};h.__private__.resetCustomOutputDestination=function(){Pe=!1,ae=we};var Y=h.__private__.out=function(g){return g=g.toString(),ye+=g.length+1,ae.push(g),ae},at=h.__private__.write=function(g){return Y(arguments.length===1?g.toString():Array.prototype.join.call(arguments," "))},ze=h.__private__.getArrayBuffer=function(g){for(var P=g.length,te=new ArrayBuffer(P),oe=new Uint8Array(te);P--;)oe[P]=g.charCodeAt(P);return te},Ee=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];h.__private__.getStandardFonts=function(){return Ee};var Te=e.fontSize||16;h.__private__.setFontSize=h.setFontSize=function(g){return Te=B===x.ADVANCED?g/$e:g,this};var de,Oe=h.__private__.getFontSize=h.getFontSize=function(){return B===x.COMPAT?Te:Te*$e},rt=e.R2L||!1;h.__private__.setR2L=h.setR2L=function(g){return rt=g,this},h.__private__.getR2L=h.getR2L=function(){return rt};var tt,ut=h.__private__.setZoomMode=function(g){var P=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(g))de=g;else if(isNaN(g)){if(P.indexOf(g)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+g+'" is not recognized.');de=g}else de=parseInt(g,10)};h.__private__.getZoomMode=function(){return de};var yt,Et=h.__private__.setPageMode=function(g){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(g)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+g+'" is not recognized.');tt=g};h.__private__.getPageMode=function(){return tt};var Ot=h.__private__.setLayoutMode=function(g){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(g)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+g+'" is not recognized.');yt=g};h.__private__.getLayoutMode=function(){return yt},h.__private__.setDisplayMode=h.setDisplayMode=function(g,P,te){return ut(g),Ot(P),Et(te),this};var dt={title:"",subject:"",author:"",keywords:"",creator:""};h.__private__.getDocumentProperty=function(g){if(Object.keys(dt).indexOf(g)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return dt[g]},h.__private__.getDocumentProperties=function(){return dt},h.__private__.setDocumentProperties=h.setProperties=h.setDocumentProperties=function(g){for(var P in dt)dt.hasOwnProperty(P)&&g[P]&&(dt[P]=g[P]);return this},h.__private__.setDocumentProperty=function(g,P){if(Object.keys(dt).indexOf(g)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return dt[g]=P};var Bt,$e,ur,Ft,os,Lt={},Yt={},Qn=[],Ct={},Zs={},Vt={},Yr={},ta=null,or=0,mt=[],Tt=new iv(h),hn=e.hotfixes||[],Ar={},kn={},Ts=[],ot=function g(P,te,oe,ge,Ne,ke){if(!(this instanceof g))return new g(P,te,oe,ge,Ne,ke);isNaN(P)&&(P=1),isNaN(te)&&(te=0),isNaN(oe)&&(oe=0),isNaN(ge)&&(ge=1),isNaN(Ne)&&(Ne=0),isNaN(ke)&&(ke=0),this._matrix=[P,te,oe,ge,Ne,ke]};Object.defineProperty(ot.prototype,"sx",{get:function(){return this._matrix[0]},set:function(g){this._matrix[0]=g}}),Object.defineProperty(ot.prototype,"shy",{get:function(){return this._matrix[1]},set:function(g){this._matrix[1]=g}}),Object.defineProperty(ot.prototype,"shx",{get:function(){return this._matrix[2]},set:function(g){this._matrix[2]=g}}),Object.defineProperty(ot.prototype,"sy",{get:function(){return this._matrix[3]},set:function(g){this._matrix[3]=g}}),Object.defineProperty(ot.prototype,"tx",{get:function(){return this._matrix[4]},set:function(g){this._matrix[4]=g}}),Object.defineProperty(ot.prototype,"ty",{get:function(){return this._matrix[5]},set:function(g){this._matrix[5]=g}}),Object.defineProperty(ot.prototype,"a",{get:function(){return this._matrix[0]},set:function(g){this._matrix[0]=g}}),Object.defineProperty(ot.prototype,"b",{get:function(){return this._matrix[1]},set:function(g){this._matrix[1]=g}}),Object.defineProperty(ot.prototype,"c",{get:function(){return this._matrix[2]},set:function(g){this._matrix[2]=g}}),Object.defineProperty(ot.prototype,"d",{get:function(){return this._matrix[3]},set:function(g){this._matrix[3]=g}}),Object.defineProperty(ot.prototype,"e",{get:function(){return this._matrix[4]},set:function(g){this._matrix[4]=g}}),Object.defineProperty(ot.prototype,"f",{get:function(){return this._matrix[5]},set:function(g){this._matrix[5]=g}}),Object.defineProperty(ot.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(ot.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(ot.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(ot.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),ot.prototype.join=function(g){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(D).join(g)},ot.prototype.multiply=function(g){var P=g.sx*this.sx+g.shy*this.shx,te=g.sx*this.shy+g.shy*this.sy,oe=g.shx*this.sx+g.sy*this.shx,ge=g.shx*this.shy+g.sy*this.sy,Ne=g.tx*this.sx+g.ty*this.shx+this.tx,ke=g.tx*this.shy+g.ty*this.sy+this.ty;return new ot(P,te,oe,ge,Ne,ke)},ot.prototype.decompose=function(){var g=this.sx,P=this.shy,te=this.shx,oe=this.sy,ge=this.tx,Ne=this.ty,ke=Math.sqrt(g*g+P*P),We=(g/=ke)*te+(P/=ke)*oe;te-=g*We,oe-=P*We;var nt=Math.sqrt(te*te+oe*oe);return We/=nt,g*(oe/=nt)<P*(te/=nt)&&(g=-g,P=-P,We=-We,ke=-ke),{scale:new ot(ke,0,0,nt,0,0),translate:new ot(1,0,0,1,ge,Ne),rotate:new ot(g,P,-P,g,0,0),skew:new ot(1,0,We,1,0,0)}},ot.prototype.toString=function(g){return this.join(" ")},ot.prototype.inversed=function(){var g=this.sx,P=this.shy,te=this.shx,oe=this.sy,ge=this.tx,Ne=this.ty,ke=1/(g*oe-P*te),We=oe*ke,nt=-P*ke,wt=-te*ke,xt=g*ke;return new ot(We,nt,wt,xt,-We*ge-wt*Ne,-nt*ge-xt*Ne)},ot.prototype.applyToPoint=function(g){var P=g.x*this.sx+g.y*this.shx+this.tx,te=g.x*this.shy+g.y*this.sy+this.ty;return new BA(P,te)},ot.prototype.applyToRectangle=function(g){var P=this.applyToPoint(g),te=this.applyToPoint(new BA(g.x+g.w,g.y+g.h));return new hc(P.x,P.y,te.x-P.x,te.y-P.y)},ot.prototype.clone=function(){var g=this.sx,P=this.shy,te=this.shx,oe=this.sy,ge=this.tx,Ne=this.ty;return new ot(g,P,te,oe,ge,Ne)},h.Matrix=ot;var fn=h.matrixMult=function(g,P){return P.multiply(g)},pn=new ot(1,0,0,1,0,0);h.unitMatrix=h.identityMatrix=pn;var As=function(g,P){if(!Zs[g]){var te=(P instanceof Vo?"Sh":"P")+(Object.keys(Ct).length+1).toString(10);P.id=te,Zs[g]=te,Ct[te]=P,Tt.publish("addPattern",P)}};h.ShadingPattern=Vo,h.TilingPattern=wl,h.addShadingPattern=function(g,P){return R("addShadingPattern()"),As(g,P),this},h.beginTilingPattern=function(g){R("beginTilingPattern()"),vd(g.boundingBox[0],g.boundingBox[1],g.boundingBox[2]-g.boundingBox[0],g.boundingBox[3]-g.boundingBox[1],g.matrix)},h.endTilingPattern=function(g,P){R("endTilingPattern()"),P.stream=Ue[G].join(`
`),As(g,P),Tt.publish("endTilingPattern",P),Ts.pop().restore()};var _r=h.__private__.newObject=function(){var g=zt();return Ps(g,!0),g},zt=h.__private__.newObjectDeferred=function(){return se++,Ae[se]=function(){return ye},se},Ps=function(g,P){return P=typeof P=="boolean"&&P,Ae[g]=ye,P&&Y(g+" 0 obj"),g},bi=h.__private__.newAdditionalObject=function(){var g={objId:zt(),content:""};return Ie.push(g),g},ra=zt(),mn=zt(),gn=h.__private__.decodeColorString=function(g){var P=g.split(" ");if(P.length!==2||P[1]!=="g"&&P[1]!=="G")P.length===5&&(P[4]==="k"||P[4]==="K")&&(P=[(1-P[0])*(1-P[3]),(1-P[1])*(1-P[3]),(1-P[2])*(1-P[3]),"r"]);else{var te=parseFloat(P[0]);P=[te,te,te,"r"]}for(var oe="#",ge=0;ge<3;ge++)oe+=("0"+Math.floor(255*parseFloat(P[ge])).toString(16)).slice(-2);return oe},Rs=h.__private__.encodeColorString=function(g){var P;typeof g=="string"&&(g={ch1:g});var te=g.ch1,oe=g.ch2,ge=g.ch3,Ne=g.ch4,ke=g.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof te=="string"&&te.charAt(0)!=="#"){var We=new NB(te);if(We.ok)te=We.toHex();else if(!/^\d*\.?\d*$/.test(te))throw new Error('Invalid color "'+te+'" passed to jsPDF.encodeColorString.')}if(typeof te=="string"&&/^#[0-9A-Fa-f]{3}$/.test(te)&&(te="#"+te[1]+te[1]+te[2]+te[2]+te[3]+te[3]),typeof te=="string"&&/^#[0-9A-Fa-f]{6}$/.test(te)){var nt=parseInt(te.substr(1),16);te=nt>>16&255,oe=nt>>8&255,ge=255&nt}if(oe===void 0||Ne===void 0&&te===oe&&oe===ge)if(typeof te=="string")P=te+" "+ke[0];else switch(g.precision){case 2:P=ne(te/255)+" "+ke[0];break;case 3:default:P=k(te/255)+" "+ke[0]}else if(Ne===void 0||Mt(Ne)==="object"){if(Ne&&!isNaN(Ne.a)&&Ne.a===0)return P=["1.","1.","1.",ke[1]].join(" ");if(typeof te=="string")P=[te,oe,ge,ke[1]].join(" ");else switch(g.precision){case 2:P=[ne(te/255),ne(oe/255),ne(ge/255),ke[1]].join(" ");break;default:case 3:P=[k(te/255),k(oe/255),k(ge/255),ke[1]].join(" ")}}else if(typeof te=="string")P=[te,oe,ge,Ne,ke[2]].join(" ");else switch(g.precision){case 2:P=[ne(te),ne(oe),ne(ge),ne(Ne),ke[2]].join(" ");break;case 3:default:P=[k(te),k(oe),k(ge),k(Ne),ke[2]].join(" ")}return P},en=h.__private__.getFilters=function(){return o},Os=h.__private__.putStream=function(g){var P=(g=g||{}).data||"",te=g.filters||en(),oe=g.alreadyAppliedFilters||[],ge=g.addLength1||!1,Ne=P.length,ke=g.objectId,We=function(ys){return ys};if(d!==null&&ke===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");d!==null&&(We=vs.encryptor(ke,0));var nt={};te===!0&&(te=["FlateEncode"]);var wt=g.additionalKeyValues||[],xt=(nt=lt.API.processDataByFilters!==void 0?lt.API.processDataByFilters(P,te):{data:P,reverseChain:[]}).reverseChain+(Array.isArray(oe)?oe.join(" "):oe.toString());if(nt.data.length!==0&&(wt.push({key:"Length",value:nt.data.length}),ge===!0&&wt.push({key:"Length1",value:Ne})),xt.length!=0)if(xt.split("/").length-1==1)wt.push({key:"Filter",value:xt});else{wt.push({key:"Filter",value:"["+xt+"]"});for(var Ut=0;Ut<wt.length;Ut+=1)if(wt[Ut].key==="DecodeParms"){for(var dr=[],xr=0;xr<nt.reverseChain.split("/").length-1;xr+=1)dr.push("null");dr.push(wt[Ut].value),wt[Ut].value="["+dr.join(" ")+"]"}}Y("<<");for(var Pr=0;Pr<wt.length;Pr++)Y("/"+wt[Pr].key+" "+wt[Pr].value);Y(">>"),nt.data.length!==0&&(Y("stream"),Y(We(nt.data)),Y("endstream"))},In=h.__private__.putPage=function(g){var P=g.number,te=g.data,oe=g.objId,ge=g.contentsObjId;Ps(oe,!0),Y("<</Type /Page"),Y("/Parent "+g.rootDictionaryObjId+" 0 R"),Y("/Resources "+g.resourceDictionaryObjId+" 0 R"),Y("/MediaBox ["+parseFloat(D(g.mediaBox.bottomLeftX))+" "+parseFloat(D(g.mediaBox.bottomLeftY))+" "+D(g.mediaBox.topRightX)+" "+D(g.mediaBox.topRightY)+"]"),g.cropBox!==null&&Y("/CropBox ["+D(g.cropBox.bottomLeftX)+" "+D(g.cropBox.bottomLeftY)+" "+D(g.cropBox.topRightX)+" "+D(g.cropBox.topRightY)+"]"),g.bleedBox!==null&&Y("/BleedBox ["+D(g.bleedBox.bottomLeftX)+" "+D(g.bleedBox.bottomLeftY)+" "+D(g.bleedBox.topRightX)+" "+D(g.bleedBox.topRightY)+"]"),g.trimBox!==null&&Y("/TrimBox ["+D(g.trimBox.bottomLeftX)+" "+D(g.trimBox.bottomLeftY)+" "+D(g.trimBox.topRightX)+" "+D(g.trimBox.topRightY)+"]"),g.artBox!==null&&Y("/ArtBox ["+D(g.artBox.bottomLeftX)+" "+D(g.artBox.bottomLeftY)+" "+D(g.artBox.topRightX)+" "+D(g.artBox.topRightY)+"]"),typeof g.userUnit=="number"&&g.userUnit!==1&&Y("/UserUnit "+g.userUnit),Tt.publish("putPage",{objId:oe,pageContext:mt[P],pageNumber:P,page:te}),Y("/Contents "+ge+" 0 R"),Y(">>"),Y("endobj");var Ne=te.join(`
`);return B===x.ADVANCED&&(Ne+=`
Q`),Ps(ge,!0),Os({data:Ne,filters:en(),objectId:ge}),Y("endobj"),oe},wi=h.__private__.putPages=function(){var g,P,te=[];for(g=1;g<=or;g++)mt[g].objId=zt(),mt[g].contentsObjId=zt();for(g=1;g<=or;g++)te.push(In({number:g,data:Ue[g],objId:mt[g].objId,contentsObjId:mt[g].contentsObjId,mediaBox:mt[g].mediaBox,cropBox:mt[g].cropBox,bleedBox:mt[g].bleedBox,trimBox:mt[g].trimBox,artBox:mt[g].artBox,userUnit:mt[g].userUnit,rootDictionaryObjId:ra,resourceDictionaryObjId:mn}));Ps(ra,!0),Y("<</Type /Pages");var oe="/Kids [";for(P=0;P<or;P++)oe+=te[P]+" 0 R ";Y(oe+"]"),Y("/Count "+or),Y(">>"),Y("endobj"),Tt.publish("postPutPages")},vi=function(g){Tt.publish("putFont",{font:g,out:Y,newObject:_r,putStream:Os}),g.isAlreadyPutted!==!0&&(g.objectNumber=_r(),Y("<<"),Y("/Type /Font"),Y("/BaseFont /"+sl(g.postScriptName)),Y("/Subtype /Type1"),typeof g.encoding=="string"&&Y("/Encoding /"+g.encoding),Y("/FirstChar 32"),Y("/LastChar 255"),Y(">>"),Y("endobj"))},yi=function(){for(var g in Lt)Lt.hasOwnProperty(g)&&(f===!1||f===!0&&m.hasOwnProperty(g))&&vi(Lt[g])},sa=function(g){g.objectNumber=_r();var P=[];P.push({key:"Type",value:"/XObject"}),P.push({key:"Subtype",value:"/Form"}),P.push({key:"BBox",value:"["+[D(g.x),D(g.y),D(g.x+g.width),D(g.y+g.height)].join(" ")+"]"}),P.push({key:"Matrix",value:"["+g.matrix.toString()+"]"});var te=g.pages[1].join(`
`);Os({data:te,additionalKeyValues:P,objectId:g.objectNumber}),Y("endobj")},Bi=function(){for(var g in Ar)Ar.hasOwnProperty(g)&&sa(Ar[g])},gA=function(g,P){var te,oe=[],ge=1/(P-1);for(te=0;te<1;te+=ge)oe.push(te);if(oe.push(1),g[0].offset!=0){var Ne={offset:0,color:g[0].color};g.unshift(Ne)}if(g[g.length-1].offset!=1){var ke={offset:1,color:g[g.length-1].color};g.push(ke)}for(var We="",nt=0,wt=0;wt<oe.length;wt++){for(te=oe[wt];te>g[nt+1].offset;)nt++;var xt=g[nt].offset,Ut=(te-xt)/(g[nt+1].offset-xt),dr=g[nt].color,xr=g[nt+1].color;We+=ee(Math.round((1-Ut)*dr[0]+Ut*xr[0]).toString(16))+ee(Math.round((1-Ut)*dr[1]+Ut*xr[1]).toString(16))+ee(Math.round((1-Ut)*dr[2]+Ut*xr[2]).toString(16))}return We.trim()},tc=function(g,P){P||(P=21);var te=_r(),oe=gA(g.colors,P),ge=[];ge.push({key:"FunctionType",value:"0"}),ge.push({key:"Domain",value:"[0.0 1.0]"}),ge.push({key:"Size",value:"["+P+"]"}),ge.push({key:"BitsPerSample",value:"8"}),ge.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ge.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Os({data:oe,additionalKeyValues:ge,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:te}),Y("endobj"),g.objectNumber=_r(),Y("<< /ShadingType "+g.type),Y("/ColorSpace /DeviceRGB");var Ne="/Coords ["+D(parseFloat(g.coords[0]))+" "+D(parseFloat(g.coords[1]))+" ";g.type===2?Ne+=D(parseFloat(g.coords[2]))+" "+D(parseFloat(g.coords[3])):Ne+=D(parseFloat(g.coords[2]))+" "+D(parseFloat(g.coords[3]))+" "+D(parseFloat(g.coords[4]))+" "+D(parseFloat(g.coords[5])),Y(Ne+="]"),g.matrix&&Y("/Matrix ["+g.matrix.toString()+"]"),Y("/Function "+te+" 0 R"),Y("/Extend [true true]"),Y(">>"),Y("endobj")},rc=function(g,P){var te=zt(),oe=_r();P.push({resourcesOid:te,objectOid:oe}),g.objectNumber=oe;var ge=[];ge.push({key:"Type",value:"/Pattern"}),ge.push({key:"PatternType",value:"1"}),ge.push({key:"PaintType",value:"1"}),ge.push({key:"TilingType",value:"1"}),ge.push({key:"BBox",value:"["+g.boundingBox.map(D).join(" ")+"]"}),ge.push({key:"XStep",value:D(g.xStep)}),ge.push({key:"YStep",value:D(g.yStep)}),ge.push({key:"Resources",value:te+" 0 R"}),g.matrix&&ge.push({key:"Matrix",value:"["+g.matrix.toString()+"]"}),Os({data:g.stream,additionalKeyValues:ge,objectId:g.objectNumber}),Y("endobj")},za=function(g){var P;for(P in Ct)Ct.hasOwnProperty(P)&&(Ct[P]instanceof Vo?tc(Ct[P]):Ct[P]instanceof wl&&rc(Ct[P],g))},xA=function(g){for(var P in g.objectNumber=_r(),Y("<<"),g)switch(P){case"opacity":Y("/ca "+ne(g[P]));break;case"stroke-opacity":Y("/CA "+ne(g[P]))}Y(">>"),Y("endobj")},sc=function(){var g;for(g in Vt)Vt.hasOwnProperty(g)&&xA(Vt[g])},Bo=function(){for(var g in Y("/XObject <<"),Ar)Ar.hasOwnProperty(g)&&Ar[g].objectNumber>=0&&Y("/"+g+" "+Ar[g].objectNumber+" 0 R");Tt.publish("putXobjectDict"),Y(">>")},nc=function(){vs.oid=_r(),Y("<<"),Y("/Filter /Standard"),Y("/V "+vs.v),Y("/R "+vs.r),Y("/U <"+vs.toHexString(vs.U)+">"),Y("/O <"+vs.toHexString(vs.O)+">"),Y("/P "+vs.P),Y(">>"),Y("endobj")},bA=function(){for(var g in Y("/Font <<"),Lt)Lt.hasOwnProperty(g)&&(f===!1||f===!0&&m.hasOwnProperty(g))&&Y("/"+g+" "+Lt[g].objectNumber+" 0 R");Y(">>")},dd=function(){if(Object.keys(Ct).length>0){for(var g in Y("/Shading <<"),Ct)Ct.hasOwnProperty(g)&&Ct[g]instanceof Vo&&Ct[g].objectNumber>=0&&Y("/"+g+" "+Ct[g].objectNumber+" 0 R");Tt.publish("putShadingPatternDict"),Y(">>")}},No=function(g){if(Object.keys(Ct).length>0){for(var P in Y("/Pattern <<"),Ct)Ct.hasOwnProperty(P)&&Ct[P]instanceof h.TilingPattern&&Ct[P].objectNumber>=0&&Ct[P].objectNumber<g&&Y("/"+P+" "+Ct[P].objectNumber+" 0 R");Tt.publish("putTilingPatternDict"),Y(">>")}},ac=function(){if(Object.keys(Vt).length>0){var g;for(g in Y("/ExtGState <<"),Vt)Vt.hasOwnProperty(g)&&Vt[g].objectNumber>=0&&Y("/"+g+" "+Vt[g].objectNumber+" 0 R");Tt.publish("putGStateDict"),Y(">>")}},ie=function(g){Ps(g.resourcesOid,!0),Y("<<"),Y("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),bA(),dd(),No(g.objectOid),ac(),Bo(),Y(">>"),Y("endobj")},fe=function(){var g=[];yi(),sc(),Bi(),za(g),Tt.publish("putResources"),g.forEach(ie),ie({resourcesOid:mn,objectOid:Number.MAX_SAFE_INTEGER}),Tt.publish("postPutResources")},ue=function(){Tt.publish("putAdditionalObjects");for(var g=0;g<Ie.length;g++){var P=Ie[g];Ps(P.objId,!0),Y(P.content),Y("endobj")}Tt.publish("postPutAdditionalObjects")},Qe=function(g){Yt[g.fontName]=Yt[g.fontName]||{},Yt[g.fontName][g.fontStyle]=g.id},Ye=function(g,P,te,oe,ge){var Ne={id:"F"+(Object.keys(Lt).length+1).toString(10),postScriptName:g,fontName:P,fontStyle:te,encoding:oe,isStandardFont:ge||!1,metadata:{}};return Tt.publish("addFont",{font:Ne,instance:this}),Lt[Ne.id]=Ne,Qe(Ne),Ne.id},re=function(g){for(var P=0,te=Ee.length;P<te;P++){var oe=Ye.call(this,g[P][0],g[P][1],g[P][2],Ee[P][3],!0);f===!1&&(m[oe]=!0);var ge=g[P][0].split("-");Qe({id:oe,fontName:ge[0],fontStyle:ge[1]||""})}Tt.publish("addFonts",{fonts:Lt,dictionary:Yt})},Ke=function(g){return g.foo=function(){try{return g.apply(this,arguments)}catch(oe){var P=oe.stack||"";~P.indexOf(" at ")&&(P=P.split(" at ")[1]);var te="Error in function "+P.split(`
`)[0].split("<")[0]+": "+oe.message;if(!pt.console)throw new Error(te);pt.console.error(te,oe),pt.alert&&alert(te)}},g.foo.bar=g,g.foo},Re=function(g,P){var te,oe,ge,Ne,ke,We,nt,wt,xt;if(ge=(P=P||{}).sourceEncoding||"Unicode",ke=P.outputEncoding,(P.autoencode||ke)&&Lt[Bt].metadata&&Lt[Bt].metadata[ge]&&Lt[Bt].metadata[ge].encoding&&(Ne=Lt[Bt].metadata[ge].encoding,!ke&&Lt[Bt].encoding&&(ke=Lt[Bt].encoding),!ke&&Ne.codePages&&(ke=Ne.codePages[0]),typeof ke=="string"&&(ke=Ne[ke]),ke)){for(nt=!1,We=[],te=0,oe=g.length;te<oe;te++)(wt=ke[g.charCodeAt(te)])?We.push(String.fromCharCode(wt)):We.push(g[te]),We[te].charCodeAt(0)>>8&&(nt=!0);g=We.join("")}for(te=g.length;nt===void 0&&te!==0;)g.charCodeAt(te-1)>>8&&(nt=!0),te--;if(!nt)return g;for(We=P.noBOM?[]:[254,255],te=0,oe=g.length;te<oe;te++){if((xt=(wt=g.charCodeAt(te))>>8)>>8)throw new Error("Character at position "+te+" of string '"+g+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");We.push(xt),We.push(wt-(xt<<8))}return String.fromCharCode.apply(void 0,We)},Me=h.__private__.pdfEscape=h.pdfEscape=function(g,P){return Re(g,P).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},it=h.__private__.beginPage=function(g){Ue[++or]=[],mt[or]={objId:0,contentsObjId:0,userUnit:Number(A),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(g[0]),topRightY:Number(g[1])}},ls(or),ve(Ue[G])},Qt=function(g,P){var te,oe,ge;switch(r=P||r,typeof g=="string"&&(te=w(g.toLowerCase()),Array.isArray(te)&&(oe=te[0],ge=te[1])),Array.isArray(g)&&(oe=g[0]*$e,ge=g[1]*$e),isNaN(oe)&&(oe=a[0],ge=a[1]),(oe>14400||ge>14400)&&(Xt.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),oe=Math.min(14400,oe),ge=Math.min(14400,ge)),a=[oe,ge],r.substr(0,1)){case"l":ge>oe&&(a=[ge,oe]);break;case"p":oe>ge&&(a=[ge,oe])}it(a),md(lc),Y(aa),uc!==0&&Y(uc+" J"),dc!==0&&Y(dc+" j"),Tt.publish("addPage",{pageNumber:or})},gr=function(g){g>0&&g<=or&&(Ue.splice(g,1),mt.splice(g,1),or--,G>or&&(G=or),this.setPage(G))},ls=function(g){g>0&&g<=or&&(G=g)},Tr=h.__private__.getNumberOfPages=h.getNumberOfPages=function(){return Ue.length-1},Zr=function(g,P,te){var oe,ge=void 0;return te=te||{},g=g!==void 0?g:Lt[Bt].fontName,P=P!==void 0?P:Lt[Bt].fontStyle,oe=g.toLowerCase(),Yt[oe]!==void 0&&Yt[oe][P]!==void 0?ge=Yt[oe][P]:Yt[g]!==void 0&&Yt[g][P]!==void 0?ge=Yt[g][P]:te.disableWarning===!1&&Xt.warn("Unable to look up font label for font '"+g+"', '"+P+"'. Refer to getFontList() for available fonts."),ge||te.noFallback||(ge=Yt.times[P])==null&&(ge=Yt.times.normal),ge},cs=h.__private__.putInfo=function(){var g=_r(),P=function(oe){return oe};for(var te in d!==null&&(P=vs.encryptor(g,0)),Y("<<"),Y("/Producer ("+Me(P("jsPDF "+lt.version))+")"),dt)dt.hasOwnProperty(te)&&dt[te]&&Y("/"+te.substr(0,1).toUpperCase()+te.substr(1)+" ("+Me(P(dt[te]))+")");Y("/CreationDate ("+Me(P(K))+")"),Y(">>"),Y("endobj")},Vr=h.__private__.putCatalog=function(g){var P=(g=g||{}).rootDictionaryObjId||ra;switch(_r(),Y("<<"),Y("/Type /Catalog"),Y("/Pages "+P+" 0 R"),de||(de="fullwidth"),de){case"fullwidth":Y("/OpenAction [3 0 R /FitH null]");break;case"fullheight":Y("/OpenAction [3 0 R /FitV null]");break;case"fullpage":Y("/OpenAction [3 0 R /Fit]");break;case"original":Y("/OpenAction [3 0 R /XYZ null null 1]");break;default:var te=""+de;te.substr(te.length-1)==="%"&&(de=parseInt(de)/100),typeof de=="number"&&Y("/OpenAction [3 0 R /XYZ null null "+ne(de)+"]")}switch(yt||(yt="continuous"),yt){case"continuous":Y("/PageLayout /OneColumn");break;case"single":Y("/PageLayout /SinglePage");break;case"two":case"twoleft":Y("/PageLayout /TwoColumnLeft");break;case"tworight":Y("/PageLayout /TwoColumnRight")}tt&&Y("/PageMode /"+tt),Tt.publish("putCatalog"),Y(">>"),Y("endobj")},Sa=h.__private__.putTrailer=function(){Y("trailer"),Y("<<"),Y("/Size "+(se+1)),Y("/Root "+se+" 0 R"),Y("/Info "+(se-1)+" 0 R"),d!==null&&Y("/Encrypt "+vs.oid+" 0 R"),Y("/ID [ <"+Q+"> <"+Q+"> ]"),Y(">>")},ic=h.__private__.putHeader=function(){Y("%PDF-"+v),Y("%")},jo=h.__private__.putXRef=function(){var g="0000000000";Y("xref"),Y("0 "+(se+1)),Y("0000000000 65535 f ");for(var P=1;P<=se;P++)typeof Ae[P]=="function"?Y((g+Ae[P]()).slice(-10)+" 00000 n "):Ae[P]!==void 0?Y((g+Ae[P]).slice(-10)+" 00000 n "):Y("0000000000 00000 n ")},na=h.__private__.buildDocument=function(){De(),ve(we),Tt.publish("buildDocument"),ic(),wi(),ue(),fe(),d!==null&&nc(),cs(),Vr();var g=ye;return jo(),Sa(),Y("startxref"),Y(""+g),Y("%%EOF"),ve(Ue[G]),we.join(`
`)},Ea=h.__private__.getBlob=function(g){return new Blob([ze(g)],{type:"application/pdf"})},Ni=h.output=h.__private__.output=Ke(function(g,P){switch(typeof(P=P||{})=="string"?P={filename:P}:P.filename=P.filename||"generated.pdf",g){case void 0:return na();case"save":h.save(P.filename);break;case"arraybuffer":return ze(na());case"blob":return Ea(na());case"bloburi":case"bloburl":if(pt.URL!==void 0&&typeof pt.URL.createObjectURL=="function")return pt.URL&&pt.URL.createObjectURL(Ea(na()))||void 0;Xt.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var te="",oe=na();try{te=$g(oe)}catch{te=$g(unescape(encodeURIComponent(oe)))}return"data:application/pdf;filename="+P.filename+";base64,"+te;case"pdfobjectnewwindow":if(Object.prototype.toString.call(pt)==="[object Window]"){var ge="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Ne=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';P.pdfObjectUrl&&(ge=P.pdfObjectUrl,Ne="");var ke='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+ge+'"'+Ne+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(P)+");<\/script></body></html>",We=pt.open();return We!==null&&We.document.write(ke),We}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(pt)==="[object Window]"){var nt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(P.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+P.filename+'" width="500px" height="400px" /></body></html>',wt=pt.open();if(wt!==null){wt.document.write(nt);var xt=this;wt.document.documentElement.querySelector("#pdfViewer").onload=function(){wt.document.title=P.filename,wt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(xt.output("bloburl"))}}return wt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(pt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Ut='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",P)+'"></iframe></body></html>',dr=pt.open();if(dr!==null&&(dr.document.write(Ut),dr.document.title=P.filename),dr||typeof safari>"u")return dr;break;case"datauri":case"dataurl":return pt.document.location.href=this.output("datauristring",P);default:return null}}),ji=function(g){return Array.isArray(hn)===!0&&hn.indexOf(g)>-1};switch(s){case"pt":$e=1;break;case"mm":$e=72/25.4;break;case"cm":$e=72/2.54;break;case"in":$e=72;break;case"px":$e=ji("px_scaling")==1?.75:96/72;break;case"pc":case"em":$e=12;break;case"ex":$e=6;break;default:if(typeof s!="number")throw new Error("Invalid unit: "+s);$e=s}var vs=null;me(),U();var Lf=function(g){return d!==null?vs.encryptor(g,0):function(P){return P}},hd=h.__private__.getPageInfo=h.getPageInfo=function(g){if(isNaN(g)||g%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:mt[g].objId,pageNumber:g,pageContext:mt[g]}},gt=h.__private__.getPageInfoByObjId=function(g){if(isNaN(g)||g%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var P in mt)if(mt[P].objId===g)break;return hd(P)},Tf=h.__private__.getCurrentPageInfo=h.getCurrentPageInfo=function(){return{objId:mt[G].objId,pageNumber:G,pageContext:mt[G]}};h.addPage=function(){return Qt.apply(this,arguments),this},h.setPage=function(){return ls.apply(this,arguments),ve.call(this,Ue[G]),this},h.insertPage=function(g){return this.addPage(),this.movePage(G,g),this},h.movePage=function(g,P){var te,oe;if(g>P){te=Ue[g],oe=mt[g];for(var ge=g;ge>P;ge--)Ue[ge]=Ue[ge-1],mt[ge]=mt[ge-1];Ue[P]=te,mt[P]=oe,this.setPage(P)}else if(g<P){te=Ue[g],oe=mt[g];for(var Ne=g;Ne<P;Ne++)Ue[Ne]=Ue[Ne+1],mt[Ne]=mt[Ne+1];Ue[P]=te,mt[P]=oe,this.setPage(P)}return this},h.deletePage=function(){return gr.apply(this,arguments),this},h.__private__.text=h.text=function(g,P,te,oe,ge){var Ne,ke,We,nt,wt,xt,Ut,dr,xr,Pr=(oe=oe||{}).scope||this;if(typeof g=="number"&&typeof P=="number"&&(typeof te=="string"||Array.isArray(te))){var ys=te;te=P,P=g,g=ys}if(arguments[3]instanceof ot?(R("The transform parameter of text() with a Matrix value"),xr=ge):(We=arguments[4],nt=arguments[5],Mt(Ut=arguments[3])==="object"&&Ut!==null||(typeof We=="string"&&(nt=We,We=null),typeof Ut=="string"&&(nt=Ut,Ut=null),typeof Ut=="number"&&(We=Ut,Ut=null),oe={flags:Ut,angle:We,align:nt})),isNaN(P)||isNaN(te)||g==null)throw new Error("Invalid arguments passed to jsPDF.text");if(g.length===0)return Pr;var es="",ia=!1,xn=typeof oe.lineHeightFactor=="number"?oe.lineHeightFactor:_o,Qa=Pr.internal.scaleFactor;function yd(Zt){return Zt=Zt.split("	").join(Array(oe.TabLen||9).join(" ")),Me(Zt,Ut)}function gc(Zt){for(var er,Er=Zt.concat(),zr=[],Xa=Er.length;Xa--;)typeof(er=Er.shift())=="string"?zr.push(er):Array.isArray(Zt)&&(er.length===1||er[1]===void 0&&er[2]===void 0)?zr.push(er[0]):zr.push([er[0],er[1],er[2]]);return zr}function xc(Zt,er){var Er;if(typeof Zt=="string")Er=er(Zt)[0];else if(Array.isArray(Zt)){for(var zr,Xa,Cc=Zt.concat(),IA=[],_d=Cc.length;_d--;)typeof(zr=Cc.shift())=="string"?IA.push(er(zr)[0]):Array.isArray(zr)&&typeof zr[0]=="string"&&(Xa=er(zr[0],zr[1],zr[2]),IA.push([Xa[0],Xa[1],Xa[2]]));Er=IA}return Er}var jA=!1,bc=!0;if(typeof g=="string")jA=!0;else if(Array.isArray(g)){var wc=g.concat();ke=[];for(var CA,us=wc.length;us--;)(typeof(CA=wc.shift())!="string"||Array.isArray(CA)&&typeof CA[0]!="string")&&(bc=!1);jA=bc}if(jA===!1)throw new Error('Type of text must be string or Array. "'+g+'" is not recognized.');typeof g=="string"&&(g=g.match(/[\r?\n]/)?g.split(/\r\n|\r|\n/g):[g]);var _A=Te/Pr.internal.scaleFactor,SA=_A*(xn-1);switch(oe.baseline){case"bottom":te-=SA;break;case"top":te+=_A-SA;break;case"hanging":te+=_A-2*SA;break;case"middle":te+=_A/2-SA}if((xt=oe.maxWidth||0)>0&&(typeof g=="string"?g=Pr.splitTextToSize(g,xt):Object.prototype.toString.call(g)==="[object Array]"&&(g=g.reduce(function(Zt,er){return Zt.concat(Pr.splitTextToSize(er,xt))},[]))),Ne={text:g,x:P,y:te,options:oe,mutex:{pdfEscape:Me,activeFontKey:Bt,fonts:Lt,activeFontSize:Te}},Tt.publish("preProcessText",Ne),g=Ne.text,We=(oe=Ne.options).angle,!(xr instanceof ot)&&We&&typeof We=="number"){We*=Math.PI/180,oe.rotationDirection===0&&(We=-We),B===x.ADVANCED&&(We=-We);var EA=Math.cos(We),vc=Math.sin(We);xr=new ot(EA,vc,-vc,EA,0,0)}else We&&We instanceof ot&&(xr=We);B!==x.ADVANCED||xr||(xr=pn),(wt=oe.charSpace||yA)!==void 0&&(es+=D(L(wt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(dr=oe.horizontalScale)!==void 0&&(es+=D(100*dr)+` Tz
`),oe.lang;var tn=-1,zf=oe.renderingMode!==void 0?oe.renderingMode:oe.stroke,yc=Pr.internal.getCurrentPageInfo().pageContext;switch(zf){case 0:case!1:case"fill":tn=0;break;case 1:case!0:case"stroke":tn=1;break;case 2:case"fillThenStroke":tn=2;break;case 3:case"invisible":tn=3;break;case 4:case"fillAndAddForClipping":tn=4;break;case 5:case"strokeAndAddPathForClipping":tn=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":tn=6;break;case 7:case"addToPathForClipping":tn=7}var Bd=yc.usedRenderingMode!==void 0?yc.usedRenderingMode:-1;tn!==-1?es+=tn+` Tr
`:Bd!==-1&&(es+=`0 Tr
`),tn!==-1&&(yc.usedRenderingMode=tn),nt=oe.align||"left";var Ln,FA=Te*xn,Nd=Pr.internal.pageSize.getWidth(),jd=Lt[Bt];wt=oe.charSpace||yA,xt=oe.maxWidth||0,Ut=Object.assign({autoencode:!0,noBOM:!0},oe.flags);var Ei=[],Fo=function(Zt){return Pr.getStringUnitWidth(Zt,{font:jd,charSpace:wt,fontSize:Te,doKerning:!1})*Te/Qa};if(Object.prototype.toString.call(g)==="[object Array]"){var rn;ke=gc(g),nt!=="left"&&(Ln=ke.map(Fo));var Ds,Fi=0;if(nt==="right"){P-=Ln[0],g=[],us=ke.length;for(var Ga=0;Ga<us;Ga++)Ga===0?(Ds=Ua(P),rn=qa(te)):(Ds=L(Fi-Ln[Ga]),rn=-FA),g.push([ke[Ga],Ds,rn]),Fi=Ln[Ga]}else if(nt==="center"){P-=Ln[0]/2,g=[],us=ke.length;for(var Wa=0;Wa<us;Wa++)Wa===0?(Ds=Ua(P),rn=qa(te)):(Ds=L((Fi-Ln[Wa])/2),rn=-FA),g.push([ke[Wa],Ds,rn]),Fi=Ln[Wa]}else if(nt==="left"){g=[],us=ke.length;for(var UA=0;UA<us;UA++)g.push(ke[UA])}else if(nt==="justify"&&jd.encoding==="Identity-H"){g=[],us=ke.length,xt=xt!==0?xt:Nd;for(var Ja=0,Sr=0;Sr<us;Sr++)if(rn=Sr===0?qa(te):-FA,Ds=Sr===0?Ua(P):Ja,Sr<us-1){var Bc=L((xt-Ln[Sr])/(ke[Sr].split(" ").length-1)),Hs=ke[Sr].split(" ");g.push([Hs[0]+" ",Ds,rn]),Ja=0;for(var Tn=1;Tn<Hs.length;Tn++){var QA=(Fo(Hs[Tn-1]+" "+Hs[Tn])-Fo(Hs[Tn]))*Qa+Bc;Tn==Hs.length-1?g.push([Hs[Tn],QA,0]):g.push([Hs[Tn]+" ",QA,0]),Ja-=QA}}else g.push([ke[Sr],Ds,rn]);g.push(["",Ja,0])}else{if(nt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(g=[],us=ke.length,xt=xt!==0?xt:Nd,Sr=0;Sr<us;Sr++)rn=Sr===0?qa(te):-FA,Ds=Sr===0?Ua(P):0,Sr<us-1?Ei.push(D(L((xt-Ln[Sr])/(ke[Sr].split(" ").length-1)))):Ei.push(0),g.push([ke[Sr],Ds,rn])}}var Cd=typeof oe.R2L=="boolean"?oe.R2L:rt;Cd===!0&&(g=xc(g,function(Zt,er,Er){return[Zt.split("").reverse().join(""),er,Er]})),Ne={text:g,x:P,y:te,options:oe,mutex:{pdfEscape:Me,activeFontKey:Bt,fonts:Lt,activeFontSize:Te}},Tt.publish("postProcessText",Ne),g=Ne.text,ia=Ne.mutex.isHex||!1;var Nc=Lt[Bt].encoding;Nc!=="WinAnsiEncoding"&&Nc!=="StandardEncoding"||(g=xc(g,function(Zt,er,Er){return[yd(Zt),er,Er]})),ke=gc(g),g=[];for(var Uo,Qo,Ui,ko=0,kA=1,Io=Array.isArray(ke[0])?kA:ko,Qi="",jc=function(Zt,er,Er){var zr="";return Er instanceof ot?(Er=typeof oe.angle=="number"?fn(Er,new ot(1,0,0,1,Zt,er)):fn(new ot(1,0,0,1,Zt,er),Er),B===x.ADVANCED&&(Er=fn(new ot(1,0,0,-1,0,0),Er)),zr=Er.join(" ")+` Tm
`):zr=D(Zt)+" "+D(er)+` Td
`,zr},Pn=0;Pn<ke.length;Pn++){switch(Qi="",Io){case kA:Ui=(ia?"<":"(")+ke[Pn][0]+(ia?">":")"),Uo=parseFloat(ke[Pn][1]),Qo=parseFloat(ke[Pn][2]);break;case ko:Ui=(ia?"<":"(")+ke[Pn]+(ia?">":")"),Uo=Ua(P),Qo=qa(te)}Ei!==void 0&&Ei[Pn]!==void 0&&(Qi=Ei[Pn]+` Tw
`),Pn===0?g.push(Qi+jc(Uo,Qo,xr)+Ui):Io===ko?g.push(Qi+Ui):Io===kA&&g.push(Qi+jc(Uo,Qo,xr)+Ui)}g=Io===ko?g.join(` Tj
T* `):g.join(` Tj
`),g+=` Tj
`;var Rn=`BT
/`;return Rn+=Bt+" "+Te+` Tf
`,Rn+=D(Te*xn)+` TL
`,Rn+=So+`
`,Rn+=es,Rn+=g,Y(Rn+="ET"),m[Bt]=!0,Pr};var Pf=h.__private__.clip=h.clip=function(g){return Y(g==="evenodd"?"W*":"W"),this};h.clipEvenOdd=function(){return Pf("evenodd")},h.__private__.discardPath=h.discardPath=function(){return Y("n"),this};var Fa=h.__private__.isValidStyle=function(g){var P=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(g)!==-1&&(P=!0),P};h.__private__.setDefaultPathOperation=h.setDefaultPathOperation=function(g){return Fa(g)&&(c=g),this};var fd=h.__private__.getStyle=h.getStyle=function(g){var P=c;switch(g){case"D":case"S":P="S";break;case"F":P="f";break;case"FD":case"DF":P="B";break;case"f":case"f*":case"B":case"B*":P=g}return P},pd=h.close=function(){return Y("h"),this};h.stroke=function(){return Y("S"),this},h.fill=function(g){return wA("f",g),this},h.fillEvenOdd=function(g){return wA("f*",g),this},h.fillStroke=function(g){return wA("B",g),this},h.fillStrokeEvenOdd=function(g){return wA("B*",g),this};var wA=function(g,P){Mt(P)==="object"?Of(P,g):Y(g)},oc=function(g){g===null||B===x.ADVANCED&&g===void 0||(g=fd(g),Y(g))};function Rf(g,P,te,oe,ge){var Ne=new wl(P||this.boundingBox,te||this.xStep,oe||this.yStep,this.gState,ge||this.matrix);Ne.stream=this.stream;var ke=g+"$$"+this.cloneIndex+++"$$";return As(ke,Ne),Ne}var Of=function(g,P){var te=Zs[g.key],oe=Ct[te];if(oe instanceof Vo)Y("q"),Y(Df(P)),oe.gState&&h.setGState(oe.gState),Y(g.matrix.toString()+" cm"),Y("/"+te+" sh"),Y("Q");else if(oe instanceof wl){var ge=new ot(1,0,0,-1,0,Si());g.matrix&&(ge=ge.multiply(g.matrix||pn),te=Rf.call(oe,g.key,g.boundingBox,g.xStep,g.yStep,ge).id),Y("q"),Y("/Pattern cs"),Y("/"+te+" scn"),oe.gState&&h.setGState(oe.gState),Y(P),Y("Q")}},Df=function(g){switch(g){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},Ac=h.moveTo=function(g,P){return Y(D(L(g))+" "+D(_(P))+" m"),this},Co=h.lineTo=function(g,P){return Y(D(L(g))+" "+D(_(P))+" l"),this},Ci=h.curveTo=function(g,P,te,oe,ge,Ne){return Y([D(L(g)),D(_(P)),D(L(te)),D(_(oe)),D(L(ge)),D(_(Ne)),"c"].join(" ")),this};h.__private__.line=h.line=function(g,P,te,oe,ge){if(isNaN(g)||isNaN(P)||isNaN(te)||isNaN(oe)||!Fa(ge))throw new Error("Invalid arguments passed to jsPDF.line");return B===x.COMPAT?this.lines([[te-g,oe-P]],g,P,[1,1],ge||"S"):this.lines([[te-g,oe-P]],g,P,[1,1]).stroke()},h.__private__.lines=h.lines=function(g,P,te,oe,ge,Ne){var ke,We,nt,wt,xt,Ut,dr,xr,Pr,ys,es,ia;if(typeof g=="number"&&(ia=te,te=P,P=g,g=ia),oe=oe||[1,1],Ne=Ne||!1,isNaN(P)||isNaN(te)||!Array.isArray(g)||!Array.isArray(oe)||!Fa(ge)||typeof Ne!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Ac(P,te),ke=oe[0],We=oe[1],wt=g.length,ys=P,es=te,nt=0;nt<wt;nt++)(xt=g[nt]).length===2?(ys=xt[0]*ke+ys,es=xt[1]*We+es,Co(ys,es)):(Ut=xt[0]*ke+ys,dr=xt[1]*We+es,xr=xt[2]*ke+ys,Pr=xt[3]*We+es,ys=xt[4]*ke+ys,es=xt[5]*We+es,Ci(Ut,dr,xr,Pr,ys,es));return Ne&&pd(),oc(ge),this},h.path=function(g){for(var P=0;P<g.length;P++){var te=g[P],oe=te.c;switch(te.op){case"m":Ac(oe[0],oe[1]);break;case"l":Co(oe[0],oe[1]);break;case"c":Ci.apply(this,oe);break;case"h":pd()}}return this},h.__private__.rect=h.rect=function(g,P,te,oe,ge){if(isNaN(g)||isNaN(P)||isNaN(te)||isNaN(oe)||!Fa(ge))throw new Error("Invalid arguments passed to jsPDF.rect");return B===x.COMPAT&&(oe=-oe),Y([D(L(g)),D(_(P)),D(L(te)),D(L(oe)),"re"].join(" ")),oc(ge),this},h.__private__.triangle=h.triangle=function(g,P,te,oe,ge,Ne,ke){if(isNaN(g)||isNaN(P)||isNaN(te)||isNaN(oe)||isNaN(ge)||isNaN(Ne)||!Fa(ke))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[te-g,oe-P],[ge-te,Ne-oe],[g-ge,P-Ne]],g,P,[1,1],ke,!0),this},h.__private__.roundedRect=h.roundedRect=function(g,P,te,oe,ge,Ne,ke){if(isNaN(g)||isNaN(P)||isNaN(te)||isNaN(oe)||isNaN(ge)||isNaN(Ne)||!Fa(ke))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var We=4/3*(Math.SQRT2-1);return ge=Math.min(ge,.5*te),Ne=Math.min(Ne,.5*oe),this.lines([[te-2*ge,0],[ge*We,0,ge,Ne-Ne*We,ge,Ne],[0,oe-2*Ne],[0,Ne*We,-ge*We,Ne,-ge,Ne],[2*ge-te,0],[-ge*We,0,-ge,-Ne*We,-ge,-Ne],[0,2*Ne-oe],[0,-Ne*We,ge*We,-Ne,ge,-Ne]],g+ge,P,[1,1],ke,!0),this},h.__private__.ellipse=h.ellipse=function(g,P,te,oe,ge){if(isNaN(g)||isNaN(P)||isNaN(te)||isNaN(oe)||!Fa(ge))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Ne=4/3*(Math.SQRT2-1)*te,ke=4/3*(Math.SQRT2-1)*oe;return Ac(g+te,P),Ci(g+te,P-ke,g+Ne,P-oe,g,P-oe),Ci(g-Ne,P-oe,g-te,P-ke,g-te,P),Ci(g-te,P+ke,g-Ne,P+oe,g,P+oe),Ci(g+Ne,P+oe,g+te,P+ke,g+te,P),oc(ge),this},h.__private__.circle=h.circle=function(g,P,te,oe){if(isNaN(g)||isNaN(P)||isNaN(te)||!Fa(oe))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(g,P,te,te,oe)},h.setFont=function(g,P,te){return te&&(P=S(P,te)),Bt=Zr(g,P,{disableWarning:!1}),this};var Hf=h.__private__.getFont=h.getFont=function(){return Lt[Zr.apply(h,arguments)]};h.__private__.getFontList=h.getFontList=function(){var g,P,te={};for(g in Yt)if(Yt.hasOwnProperty(g))for(P in te[g]=[],Yt[g])Yt[g].hasOwnProperty(P)&&te[g].push(P);return te},h.addFont=function(g,P,te,oe,ge){var Ne=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Ne.indexOf(arguments[3])!==-1?ge=arguments[3]:arguments[3]&&Ne.indexOf(arguments[3])==-1&&(te=S(te,oe)),ge=ge||"Identity-H",Ye.call(this,g,P,te,ge)};var _o,lc=e.lineWidth||.200025,vA=h.__private__.getLineWidth=h.getLineWidth=function(){return lc},md=h.__private__.setLineWidth=h.setLineWidth=function(g){return lc=g,Y(D(L(g))+" w"),this};h.__private__.setLineDash=lt.API.setLineDash=lt.API.setLineDashPattern=function(g,P){if(g=g||[],P=P||0,isNaN(P)||!Array.isArray(g))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return g=g.map(function(te){return D(L(te))}).join(" "),P=D(L(P)),Y("["+g+"] "+P+" d"),this};var gd=h.__private__.getLineHeight=h.getLineHeight=function(){return Te*_o};h.__private__.getLineHeight=h.getLineHeight=function(){return Te*_o};var xd=h.__private__.setLineHeightFactor=h.setLineHeightFactor=function(g){return typeof(g=g||1.15)=="number"&&(_o=g),this},bd=h.__private__.getLineHeightFactor=h.getLineHeightFactor=function(){return _o};xd(e.lineHeight);var Ua=h.__private__.getHorizontalCoordinate=function(g){return L(g)},qa=h.__private__.getVerticalCoordinate=function(g){return B===x.ADVANCED?g:mt[G].mediaBox.topRightY-mt[G].mediaBox.bottomLeftY-L(g)},$f=h.__private__.getHorizontalCoordinateString=h.getHorizontalCoordinateString=function(g){return D(Ua(g))},_i=h.__private__.getVerticalCoordinateString=h.getVerticalCoordinateString=function(g){return D(qa(g))},aa=e.strokeColor||"0 G";h.__private__.getStrokeColor=h.getDrawColor=function(){return gn(aa)},h.__private__.setStrokeColor=h.setDrawColor=function(g,P,te,oe){return aa=Rs({ch1:g,ch2:P,ch3:te,ch4:oe,pdfColorType:"draw",precision:2}),Y(aa),this};var cc=e.fillColor||"0 g";h.__private__.getFillColor=h.getFillColor=function(){return gn(cc)},h.__private__.setFillColor=h.setFillColor=function(g,P,te,oe){return cc=Rs({ch1:g,ch2:P,ch3:te,ch4:oe,pdfColorType:"fill",precision:2}),Y(cc),this};var So=e.textColor||"0 g",Mf=h.__private__.getTextColor=h.getTextColor=function(){return gn(So)};h.__private__.setTextColor=h.setTextColor=function(g,P,te,oe){return So=Rs({ch1:g,ch2:P,ch3:te,ch4:oe,pdfColorType:"text",precision:3}),this};var yA=e.charSpace,Kf=h.__private__.getCharSpace=h.getCharSpace=function(){return parseFloat(yA||0)};h.__private__.setCharSpace=h.setCharSpace=function(g){if(isNaN(g))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return yA=g,this};var uc=0;h.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},h.__private__.setLineCap=h.setLineCap=function(g){var P=h.CapJoinStyles[g];if(P===void 0)throw new Error("Line cap style of '"+g+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return uc=P,Y(P+" J"),this};var dc=0;h.__private__.setLineJoin=h.setLineJoin=function(g){var P=h.CapJoinStyles[g];if(P===void 0)throw new Error("Line join style of '"+g+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return dc=P,Y(P+" j"),this},h.__private__.setLineMiterLimit=h.__private__.setMiterLimit=h.setLineMiterLimit=h.setMiterLimit=function(g){if(g=g||0,isNaN(g))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return Y(D(L(g))+" M"),this},h.GState=z0,h.setGState=function(g){(g=typeof g=="string"?Vt[Yr[g]]:wd(null,g)).equals(ta)||(Y("/"+g.id+" gs"),ta=g)};var wd=function(g,P){if(!g||!Yr[g]){var te=!1;for(var oe in Vt)if(Vt.hasOwnProperty(oe)&&Vt[oe].equals(P)){te=!0;break}if(te)P=Vt[oe];else{var ge="GS"+(Object.keys(Vt).length+1).toString(10);Vt[ge]=P,P.id=ge}return g&&(Yr[g]=P.id),Tt.publish("addGState",P),P}};h.addGState=function(g,P){return wd(g,P),this},h.saveGraphicsState=function(){return Y("q"),Qn.push({key:Bt,size:Te,color:So}),this},h.restoreGraphicsState=function(){Y("Q");var g=Qn.pop();return Bt=g.key,Te=g.size,So=g.color,ta=null,this},h.setCurrentTransformationMatrix=function(g){return Y(g.toString()+" cm"),this},h.comment=function(g){return Y("#"+g),this};var BA=function(g,P){var te=g||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return te},set:function(Ne){isNaN(Ne)||(te=parseFloat(Ne))}});var oe=P||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return oe},set:function(Ne){isNaN(Ne)||(oe=parseFloat(Ne))}});var ge="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return ge},set:function(Ne){ge=Ne.toString()}}),this},hc=function(g,P,te,oe){BA.call(this,g,P),this.type="rect";var ge=te||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return ge},set:function(ke){isNaN(ke)||(ge=parseFloat(ke))}});var Ne=oe||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Ne},set:function(ke){isNaN(ke)||(Ne=parseFloat(ke))}}),this},fc=function(){this.page=or,this.currentPage=G,this.pages=Ue.slice(0),this.pagesContext=mt.slice(0),this.x=ur,this.y=Ft,this.matrix=os,this.width=Eo(G),this.height=Si(G),this.outputDestination=ae,this.id="",this.objectNumber=-1};fc.prototype.restore=function(){or=this.page,G=this.currentPage,mt=this.pagesContext,Ue=this.pages,ur=this.x,Ft=this.y,os=this.matrix,pc(G,this.width),mc(G,this.height),ae=this.outputDestination};var vd=function(g,P,te,oe,ge){Ts.push(new fc),or=G=0,Ue=[],ur=g,Ft=P,os=ge,it([te,oe])},Vf=function(g){if(kn[g])Ts.pop().restore();else{var P=new fc,te="Xo"+(Object.keys(Ar).length+1).toString(10);P.id=te,kn[g]=te,Ar[te]=P,Tt.publish("addFormObject",P),Ts.pop().restore()}};for(var NA in h.beginFormObject=function(g,P,te,oe,ge){return vd(g,P,te,oe,ge),this},h.endFormObject=function(g){return Vf(g),this},h.doFormObject=function(g,P){var te=Ar[kn[g]];return Y("q"),Y(P.toString()+" cm"),Y("/"+te.id+" Do"),Y("Q"),this},h.getFormObject=function(g){var P=Ar[kn[g]];return{x:P.x,y:P.y,width:P.width,height:P.height,matrix:P.matrix}},h.save=function(g,P){return g=g||"generated.pdf",(P=P||{}).returnPromise=P.returnPromise||!1,P.returnPromise===!1?(Ho(Ea(na()),g),typeof Ho.unload=="function"&&pt.setTimeout&&setTimeout(Ho.unload,911),this):new Promise(function(te,oe){try{var ge=Ho(Ea(na()),g);typeof Ho.unload=="function"&&pt.setTimeout&&setTimeout(Ho.unload,911),te(ge)}catch(Ne){oe(Ne.message)}})},lt.API)lt.API.hasOwnProperty(NA)&&(NA==="events"&&lt.API.events.length?function(g,P){var te,oe,ge;for(ge=P.length-1;ge!==-1;ge--)te=P[ge][0],oe=P[ge][1],g.subscribe.apply(g,[te].concat(typeof oe=="function"?[oe]:oe))}(Tt,lt.API.events):h[NA]=lt.API[NA]);var Eo=h.getPageWidth=function(g){return(mt[g=g||G].mediaBox.topRightX-mt[g].mediaBox.bottomLeftX)/$e},pc=h.setPageWidth=function(g,P){mt[g].mediaBox.topRightX=P*$e+mt[g].mediaBox.bottomLeftX},Si=h.getPageHeight=function(g){return(mt[g=g||G].mediaBox.topRightY-mt[g].mediaBox.bottomLeftY)/$e},mc=h.setPageHeight=function(g,P){mt[g].mediaBox.topRightY=P*$e+mt[g].mediaBox.bottomLeftY};return h.internal={pdfEscape:Me,getStyle:fd,getFont:Hf,getFontSize:Oe,getCharSpace:Kf,getTextColor:Mf,getLineHeight:gd,getLineHeightFactor:bd,getLineWidth:vA,write:at,getHorizontalCoordinate:Ua,getVerticalCoordinate:qa,getCoordinateString:$f,getVerticalCoordinateString:_i,collections:{},newObject:_r,newAdditionalObject:bi,newObjectDeferred:zt,newObjectDeferredBegin:Ps,getFilters:en,putStream:Os,events:Tt,scaleFactor:$e,pageSize:{getWidth:function(){return Eo(G)},setWidth:function(g){pc(G,g)},getHeight:function(){return Si(G)},setHeight:function(g){mc(G,g)}},encryptionOptions:d,encryption:vs,getEncryptor:Lf,output:Ni,getNumberOfPages:Tr,pages:Ue,out:Y,f2:ne,f3:k,getPageInfo:hd,getPageInfoByObjId:gt,getCurrentPageInfo:Tf,getPDFVersion:b,Point:BA,Rectangle:hc,Matrix:ot,hasHotfix:ji},Object.defineProperty(h.internal.pageSize,"width",{get:function(){return Eo(G)},set:function(g){pc(G,g)},enumerable:!0,configurable:!0}),Object.defineProperty(h.internal.pageSize,"height",{get:function(){return Si(G)},set:function(g){mc(G,g)},enumerable:!0,configurable:!0}),re.call(h,Ee),Bt="F1",Qt(a,r),Tt.publish("initialized"),h}rl.prototype.lsbFirstWord=function(e){return String.fromCharCode(e>>0&255,e>>8&255,e>>16&255,e>>24&255)},rl.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},rl.prototype.hexToBytes=function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(String.fromCharCode(parseInt(e.substr(r,2),16)));return t.join("")},rl.prototype.processOwnerPassword=function(e,t){return Kg(Mg(t).substr(0,5),e)},rl.prototype.encryptor=function(e,t){var r=Mg(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(s){return Kg(r,s)}},z0.prototype.equals=function(e){var t,r="id,objectNumber,equals";if(!e||Mt(e)!==Mt(this))return!1;var s=0;for(t in this)if(!(r.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;s++}for(t in e)e.hasOwnProperty(t)&&r.indexOf(t)<0&&s--;return s===0},lt.API={events:[]},lt.version="2.5.2";var vr=lt.API,ub=1,pA=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},zA=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},bt=function(e){return e.toFixed(2)},$i=function(e){return e.toFixed(5)};vr.__acroform__={};var dn=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},ov=function(e){return e*ub},Ta=function(e){var t=new SB,r=et.internal.getHeight(e)||0,s=et.internal.getWidth(e)||0;return t.BBox=[0,0,Number(bt(s)),Number(bt(r))],t},m6=vr.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|=1<<t},g6=vr.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&=~(1<<t)},x6=vr.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},kr=vr.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return x6(e,t-1)},Ir=vr.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return m6(e,t-1)},Lr=vr.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return g6(e,t-1)},b6=vr.__acroform__.calculateCoordinates=function(e,t){var r=t.internal.getHorizontalCoordinate,s=t.internal.getVerticalCoordinate,a=e[0],i=e[1],o=e[2],A=e[3],l={};return l.lowerLeft_X=r(a)||0,l.lowerLeft_Y=s(i+A)||0,l.upperRight_X=r(a+o)||0,l.upperRight_Y=s(i)||0,[Number(bt(l.lowerLeft_X)),Number(bt(l.lowerLeft_Y)),Number(bt(l.upperRight_X)),Number(bt(l.upperRight_Y))]},w6=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],r=e._V||e.DV,s=Vg(e,r),a=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+a+" "+bt(s.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(s.text),t.push("ET"),t.push("Q"),t.push("EMC");var i=Ta(e);return i.scope=e.scope,i.stream=t.join(`
`),i}},Vg=function(e,t){var r=e.fontSize===0?e.maxFontSize:e.fontSize,s={text:"",fontSize:""},a=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");a=e.multiline?a.map(function(k){return k.split(`
`)}):a.map(function(k){return[k]});var i=r,o=et.internal.getHeight(e)||0;o=o<0?-o:o;var A=et.internal.getWidth(e)||0;A=A<0?-A:A;var l=function(k,L,O){if(k+1<a.length){var _=L+" "+a[k+1][0];return Ih(_,e,O).width<=A-4}return!1};i++;e:for(;i>0;){t="",i--;var c,d,f=Ih("3",e,i).height,m=e.multiline?o-i:(o-f)/2,h=m+=2,v=0,b=0,N=0;if(i<=0){t=`(...) Tj
`,t+="% Width of Text: "+Ih(t,e,i=12).width+", FieldWidth:"+A+`
`;break}for(var w="",x=0,B=0;B<a.length;B++)if(a.hasOwnProperty(B)){var C=!1;if(a[B].length!==1&&N!==a[B].length-1){if((f+2)*(x+2)+2>o)continue e;w+=a[B][N],C=!0,b=B,B--}else{w=(w+=a[B][N]+" ").substr(w.length-1)==" "?w.substr(0,w.length-1):w;var E=parseInt(B),S=l(E,w,i),D=B>=a.length-1;if(S&&!D){w+=" ",N=0;continue}if(S||D){if(D)b=E;else if(e.multiline&&(f+2)*(x+2)+2>o)continue e}else{if(!e.multiline||(f+2)*(x+2)+2>o)continue e;b=E}}for(var R="",W=v;W<=b;W++){var ne=a[W];if(e.multiline){if(W===b){R+=ne[N]+" ",N=(N+1)%ne.length;continue}if(W===v){R+=ne[ne.length-1]+" ";continue}}R+=ne[0]+" "}switch(R=R.substr(R.length-1)==" "?R.substr(0,R.length-1):R,d=Ih(R,e,i).width,e.textAlign){case"right":c=A-d-2;break;case"center":c=(A-d)/2;break;case"left":default:c=2}t+=bt(c)+" "+bt(h)+` Td
`,t+="("+pA(R)+`) Tj
`,t+=-bt(c)+` 0 Td
`,h=-(i+2),d=0,v=C?b:b+1,x++,w=""}break}return s.text=t,s.fontSize=i,s},Ih=function(e,t,r){var s=t.scope.internal.getFont(t.fontName,t.fontStyle),a=t.scope.getStringUnitWidth(e,{font:s,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:t.scope.getStringUnitWidth("3",{font:s,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:a}},v6={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},y6=function(e,t){var r={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(s){return s.type===r.type&&s.object===r.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(r)},B6=function(e,t){for(var r in e)if(e.hasOwnProperty(r)){var s=r,a=e[r];t.internal.newObjectDeferredBegin(a.objId,!0),Mt(a)==="object"&&typeof a.putStream=="function"&&a.putStream(),delete e[s]}},N6=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(Na.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(v6)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");ub=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new EB,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var s=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var a in s)if(s.hasOwnProperty(a)){var i=s[a];i.objId=void 0,i.hasAnnotation&&y6(i,r)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(r){(function(s,a){var i=!s;for(var o in s||(a.internal.newObjectDeferredBegin(a.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),a.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),s=s||a.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(s.hasOwnProperty(o)){var A=s[o],l=[],c=A.Rect;if(A.Rect&&(A.Rect=b6(A.Rect,a)),a.internal.newObjectDeferredBegin(A.objId,!0),A.DA=et.createDefaultAppearanceStream(A),Mt(A)==="object"&&typeof A.getKeyValueListForStream=="function"&&(l=A.getKeyValueListForStream()),A.Rect=c,A.hasAppearanceStream&&!A.appearanceStreamContent){var d=w6(A);l.push({key:"AP",value:"<</N "+d+">>"}),a.internal.acroformPlugin.xForms.push(d)}if(A.appearanceStreamContent){var f="";for(var m in A.appearanceStreamContent)if(A.appearanceStreamContent.hasOwnProperty(m)){var h=A.appearanceStreamContent[m];if(f+="/"+m+" ",f+="<<",Object.keys(h).length>=1||Array.isArray(h)){for(var o in h)if(h.hasOwnProperty(o)){var v=h[o];typeof v=="function"&&(v=v.call(a,A)),f+="/"+o+" "+v+" ",a.internal.acroformPlugin.xForms.indexOf(v)>=0||a.internal.acroformPlugin.xForms.push(v)}}else typeof(v=h)=="function"&&(v=v.call(a,A)),f+="/"+o+" "+v,a.internal.acroformPlugin.xForms.indexOf(v)>=0||a.internal.acroformPlugin.xForms.push(v);f+=">>"}l.push({key:"AP",value:`<<
`+f+">>"})}a.internal.putStream({additionalKeyValues:l,objectId:A.objId}),a.internal.out("endobj")}i&&B6(a.internal.acroformPlugin.xForms,a)})(r,e)}),e.internal.acroformPlugin.isInitialized=!0}},_B=vr.__acroform__.arrayToPdfArray=function(e,t,r){var s=function(o){return o};if(Array.isArray(e)){for(var a="[",i=0;i<e.length;i++)switch(i!==0&&(a+=" "),Mt(e[i])){case"boolean":case"number":case"object":a+=e[i].toString();break;case"string":e[i].substr(0,1)!=="/"?(t!==void 0&&r&&(s=r.internal.getEncryptor(t)),a+="("+pA(s(e[i].toString()))+")"):a+=e[i].toString()}return a+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},lm=function(e,t,r){var s=function(a){return a};return t!==void 0&&r&&(s=r.internal.getEncryptor(t)),(e=e||"").toString(),e="("+pA(s(e))+")"},Oa=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Oa.prototype.toString=function(){return this.objId+" 0 R"},Oa.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},Oa.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(i){return i!="content"&&i!="appearanceStreamContent"&&i!="scope"&&i!="objId"&&i.substring(0,1)!="_"});for(var r in t)if(Object.getOwnPropertyDescriptor(this,t[r]).configurable===!1){var s=t[r],a=this[s];a&&(Array.isArray(a)?e.push({key:s,value:_B(a,this.objId,this.scope)}):a instanceof Oa?(a.scope=this.scope,e.push({key:s,value:a.objId+" 0 R"})):typeof a!="function"&&e.push({key:s,value:a}))}return e};var SB=function(){Oa.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){e=r.trim()},get:function(){return e||null}})};dn(SB,Oa);var EB=function(){Oa.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var r=function(s){return s};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+pA(r(e))+")"}},set:function(r){e=r}})};dn(EB,Oa);var Na=function e(){Oa.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(w){if(isNaN(w))throw new Error('Invalid value "'+w+'" for attribute F supplied.');t=w}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!kr(t,3)},set:function(w){w?this.F=Ir(t,3):this.F=Lr(t,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(w){if(isNaN(w))throw new Error('Invalid value "'+w+'" for attribute Ff supplied.');r=w}});var s=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(s.length!==0)return s},set:function(w){s=w!==void 0?w:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!s||isNaN(s[0])?0:s[0]},set:function(w){s[0]=w}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!s||isNaN(s[1])?0:s[1]},set:function(w){s[1]=w}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!s||isNaN(s[2])?0:s[2]},set:function(w){s[2]=w}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!s||isNaN(s[3])?0:s[3]},set:function(w){s[3]=w}});var a="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return a},set:function(w){switch(w){case"/Btn":case"/Tx":case"/Ch":case"/Sig":a=w;break;default:throw new Error('Invalid value "'+w+'" for attribute FT supplied.')}}});var i=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!i||i.length<1){if(this instanceof q0)return;i="FieldObject"+e.FieldNum++}var w=function(x){return x};return this.scope&&(w=this.scope.internal.getEncryptor(this.objId)),"("+pA(w(i))+")"},set:function(w){i=w.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return i},set:function(w){i=w}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(w){o=w}});var A="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return A},set:function(w){A=w}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(w){l=w}});var c=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return c===void 0?50/ub:c},set:function(w){c=w}});var d="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return d},set:function(w){d=w}});var f="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!f||this instanceof q0||this instanceof sA))return lm(f,this.objId,this.scope)},set:function(w){w=w.toString(),f=w}});var m=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(m)return this instanceof as?m:lm(m,this.objId,this.scope)},set:function(w){w=w.toString(),m=this instanceof as?w:w.substr(0,1)==="("?zA(w.substr(1,w.length-2)):zA(w)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof as?zA(m.substr(1,m.length-1)):m},set:function(w){w=w.toString(),m=this instanceof as?"/"+w:w}});var h=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(h)return h},set:function(w){this.V=w}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(h)return this instanceof as?h:lm(h,this.objId,this.scope)},set:function(w){w=w.toString(),h=this instanceof as?w:w.substr(0,1)==="("?zA(w.substr(1,w.length-2)):zA(w)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof as?zA(h.substr(1,h.length-1)):h},set:function(w){w=w.toString(),h=this instanceof as?"/"+w:w}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var v,b=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return b},set:function(w){w=!!w,b=w}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(v)return v},set:function(w){v=w}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!kr(this.Ff,1)},set:function(w){w?this.Ff=Ir(this.Ff,1):this.Ff=Lr(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!kr(this.Ff,2)},set:function(w){w?this.Ff=Ir(this.Ff,2):this.Ff=Lr(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!kr(this.Ff,3)},set:function(w){w?this.Ff=Ir(this.Ff,3):this.Ff=Lr(this.Ff,3)}});var N=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(N!==null)return N},set:function(w){if([0,1,2].indexOf(w)===-1)throw new Error('Invalid value "'+w+'" for attribute Q supplied.');N=w}}),Object.defineProperty(this,"textAlign",{get:function(){var w;switch(N){case 0:default:w="left";break;case 1:w="center";break;case 2:w="right"}return w},configurable:!0,enumerable:!0,set:function(w){switch(w){case"right":case 2:N=2;break;case"center":case 1:N=1;break;case"left":case 0:default:N=0}}})};dn(Na,Oa);var Fl=function(){Na.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(r){e=r}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return _B(t,this.objId,this.scope)},set:function(r){var s,a;a=[],typeof(s=r)=="string"&&(a=function(i,o,A){A||(A=1);for(var l,c=[];l=o.exec(i);)c.push(l[A]);return c}(s,/\((.*?)\)/g)),t=a}}),this.getOptions=function(){return t},this.setOptions=function(r){t=r,this.sort&&t.sort()},this.addOption=function(r){r=(r=r||"").toString(),t.push(r),this.sort&&t.sort()},this.removeOption=function(r,s){for(s=s||!1,r=(r=r||"").toString();t.indexOf(r)!==-1&&(t.splice(t.indexOf(r),1),s!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!kr(this.Ff,18)},set:function(r){r?this.Ff=Ir(this.Ff,18):this.Ff=Lr(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!kr(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=Ir(this.Ff,19):this.Ff=Lr(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!kr(this.Ff,20)},set:function(r){r?(this.Ff=Ir(this.Ff,20),t.sort()):this.Ff=Lr(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!kr(this.Ff,22)},set:function(r){r?this.Ff=Ir(this.Ff,22):this.Ff=Lr(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!kr(this.Ff,23)},set:function(r){r?this.Ff=Ir(this.Ff,23):this.Ff=Lr(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!kr(this.Ff,27)},set:function(r){r?this.Ff=Ir(this.Ff,27):this.Ff=Lr(this.Ff,27)}}),this.hasAppearanceStream=!1};dn(Fl,Na);var Ul=function(){Fl.call(this),this.fontName="helvetica",this.combo=!1};dn(Ul,Fl);var Ql=function(){Ul.call(this),this.combo=!0};dn(Ql,Ul);var o0=function(){Ql.call(this),this.edit=!0};dn(o0,Ql);var as=function(){Na.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!kr(this.Ff,15)},set:function(r){r?this.Ff=Ir(this.Ff,15):this.Ff=Lr(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!kr(this.Ff,16)},set:function(r){r?this.Ff=Ir(this.Ff,16):this.Ff=Lr(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!kr(this.Ff,17)},set:function(r){r?this.Ff=Ir(this.Ff,17):this.Ff=Lr(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!kr(this.Ff,26)},set:function(r){r?this.Ff=Ir(this.Ff,26):this.Ff=Lr(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(i){return i};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var s,a=[];for(s in a.push("<<"),t)a.push("/"+s+" ("+pA(r(t[s]))+")");return a.push(">>"),a.join(`
`)}},set:function(r){Mt(r)==="object"&&(t=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(r){typeof r=="string"&&(t.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(r){e="/"+r}})};dn(as,Na);var A0=function(){as.call(this),this.pushButton=!0};dn(A0,as);var kl=function(){as.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};dn(kl,as);var q0=function(){var e,t;Na.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(a){e=a}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(a){t=a}});var r,s={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var a=function(A){return A};this.scope&&(a=this.scope.internal.getEncryptor(this.objId));var i,o=[];for(i in o.push("<<"),s)o.push("/"+i+" ("+pA(a(s[i]))+")");return o.push(">>"),o.join(`
`)},set:function(a){Mt(a)==="object"&&(s=a)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return s.CA||""},set:function(a){typeof a=="string"&&(s.CA=a)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(a){r=a}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(a){r="/"+a}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=et.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};dn(q0,Na),kl.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var r=this.Kids[t];r.appearanceStreamContent=e.createAppearanceStream(r.optionName),r.caption=e.getCA()}},kl.prototype.createOption=function(e){var t=new q0;return t.Parent=this,t.optionName=e,this.Kids.push(t),j6.call(this.scope,t),t};var l0=function(){as.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=et.CheckBox.createAppearanceStream()};dn(l0,as);var sA=function(){Na.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!kr(this.Ff,13)},set:function(t){t?this.Ff=Ir(this.Ff,13):this.Ff=Lr(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!kr(this.Ff,21)},set:function(t){t?this.Ff=Ir(this.Ff,21):this.Ff=Lr(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!kr(this.Ff,23)},set:function(t){t?this.Ff=Ir(this.Ff,23):this.Ff=Lr(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!kr(this.Ff,24)},set:function(t){t?this.Ff=Ir(this.Ff,24):this.Ff=Lr(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!kr(this.Ff,25)},set:function(t){t?this.Ff=Ir(this.Ff,25):this.Ff=Lr(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!kr(this.Ff,26)},set:function(t){t?this.Ff=Ir(this.Ff,26):this.Ff=Lr(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};dn(sA,Na);var c0=function(){sA.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!kr(this.Ff,14)},set:function(e){e?this.Ff=Ir(this.Ff,14):this.Ff=Lr(this.Ff,14)}}),this.password=!0};dn(c0,sA);var et={CheckBox:{createAppearanceStream:function(){return{N:{On:et.CheckBox.YesNormal},D:{On:et.CheckBox.YesPushDown,Off:et.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=Ta(e);t.scope=e.scope;var r=[],s=e.scope.internal.getFont(e.fontName,e.fontStyle).id,a=e.scope.__private__.encodeColorString(e.color),i=Vg(e,e.caption);return r.push("0.749023 g"),r.push("0 0 "+bt(et.internal.getWidth(e))+" "+bt(et.internal.getHeight(e))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+s+" "+bt(i.fontSize)+" Tf "+a),r.push("BT"),r.push(i.text),r.push("ET"),r.push("Q"),r.push("EMC"),t.stream=r.join(`
`),t},YesNormal:function(e){var t=Ta(e);t.scope=e.scope;var r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,s=e.scope.__private__.encodeColorString(e.color),a=[],i=et.internal.getHeight(e),o=et.internal.getWidth(e),A=Vg(e,e.caption);return a.push("1 g"),a.push("0 0 "+bt(o)+" "+bt(i)+" re"),a.push("f"),a.push("q"),a.push("0 0 1 rg"),a.push("0 0 "+bt(o-1)+" "+bt(i-1)+" re"),a.push("W"),a.push("n"),a.push("0 g"),a.push("BT"),a.push("/"+r+" "+bt(A.fontSize)+" Tf "+s),a.push(A.text),a.push("ET"),a.push("Q"),t.stream=a.join(`
`),t},OffPushDown:function(e){var t=Ta(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+bt(et.internal.getWidth(e))+" "+bt(et.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:et.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=et.RadioButton.Circle.YesNormal,t.D[e]=et.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=Ta(e);t.scope=e.scope;var r=[],s=et.internal.getWidth(e)<=et.internal.getHeight(e)?et.internal.getWidth(e)/4:et.internal.getHeight(e)/4;s=Number((.9*s).toFixed(5));var a=et.internal.Bezier_C,i=Number((s*a).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+$i(et.internal.getWidth(e)/2)+" "+$i(et.internal.getHeight(e)/2)+" cm"),r.push(s+" 0 m"),r.push(s+" "+i+" "+i+" "+s+" 0 "+s+" c"),r.push("-"+i+" "+s+" -"+s+" "+i+" -"+s+" 0 c"),r.push("-"+s+" -"+i+" -"+i+" -"+s+" 0 -"+s+" c"),r.push(i+" -"+s+" "+s+" -"+i+" "+s+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=Ta(e);t.scope=e.scope;var r=[],s=et.internal.getWidth(e)<=et.internal.getHeight(e)?et.internal.getWidth(e)/4:et.internal.getHeight(e)/4;s=Number((.9*s).toFixed(5));var a=Number((2*s).toFixed(5)),i=Number((a*et.internal.Bezier_C).toFixed(5)),o=Number((s*et.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+$i(et.internal.getWidth(e)/2)+" "+$i(et.internal.getHeight(e)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),r.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),r.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),r.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+$i(et.internal.getWidth(e)/2)+" "+$i(et.internal.getHeight(e)/2)+" cm"),r.push(s+" 0 m"),r.push(s+" "+o+" "+o+" "+s+" 0 "+s+" c"),r.push("-"+o+" "+s+" -"+s+" "+o+" -"+s+" 0 c"),r.push("-"+s+" -"+o+" -"+o+" -"+s+" 0 -"+s+" c"),r.push(o+" -"+s+" "+s+" -"+o+" "+s+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=Ta(e);t.scope=e.scope;var r=[],s=et.internal.getWidth(e)<=et.internal.getHeight(e)?et.internal.getWidth(e)/4:et.internal.getHeight(e)/4;s=Number((.9*s).toFixed(5));var a=Number((2*s).toFixed(5)),i=Number((a*et.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+$i(et.internal.getWidth(e)/2)+" "+$i(et.internal.getHeight(e)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),r.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),r.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),r.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:et.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=et.RadioButton.Cross.YesNormal,t.D[e]=et.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=Ta(e);t.scope=e.scope;var r=[],s=et.internal.calculateCross(e);return r.push("q"),r.push("1 1 "+bt(et.internal.getWidth(e)-2)+" "+bt(et.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(bt(s.x1.x)+" "+bt(s.x1.y)+" m"),r.push(bt(s.x2.x)+" "+bt(s.x2.y)+" l"),r.push(bt(s.x4.x)+" "+bt(s.x4.y)+" m"),r.push(bt(s.x3.x)+" "+bt(s.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=Ta(e);t.scope=e.scope;var r=et.internal.calculateCross(e),s=[];return s.push("0.749023 g"),s.push("0 0 "+bt(et.internal.getWidth(e))+" "+bt(et.internal.getHeight(e))+" re"),s.push("f"),s.push("q"),s.push("1 1 "+bt(et.internal.getWidth(e)-2)+" "+bt(et.internal.getHeight(e)-2)+" re"),s.push("W"),s.push("n"),s.push(bt(r.x1.x)+" "+bt(r.x1.y)+" m"),s.push(bt(r.x2.x)+" "+bt(r.x2.y)+" l"),s.push(bt(r.x4.x)+" "+bt(r.x4.y)+" m"),s.push(bt(r.x3.x)+" "+bt(r.x3.y)+" l"),s.push("s"),s.push("Q"),t.stream=s.join(`
`),t},OffPushDown:function(e){var t=Ta(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+bt(et.internal.getWidth(e))+" "+bt(et.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+r}};et.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=et.internal.getWidth(e),r=et.internal.getHeight(e),s=Math.min(t,r);return{x1:{x:(t-s)/2,y:(r-s)/2+s},x2:{x:(t-s)/2+s,y:(r-s)/2},x3:{x:(t-s)/2,y:(r-s)/2},x4:{x:(t-s)/2+s,y:(r-s)/2+s}}}},et.internal.getWidth=function(e){var t=0;return Mt(e)==="object"&&(t=ov(e.Rect[2])),t},et.internal.getHeight=function(e){var t=0;return Mt(e)==="object"&&(t=ov(e.Rect[3])),t};var j6=vr.addField=function(e){if(N6(this,e),!(e instanceof Na))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};vr.AcroFormChoiceField=Fl,vr.AcroFormListBox=Ul,vr.AcroFormComboBox=Ql,vr.AcroFormEditBox=o0,vr.AcroFormButton=as,vr.AcroFormPushButton=A0,vr.AcroFormRadioButton=kl,vr.AcroFormCheckBox=l0,vr.AcroFormTextField=sA,vr.AcroFormPasswordField=c0,vr.AcroFormAppearance=et,vr.AcroForm={ChoiceField:Fl,ListBox:Ul,ComboBox:Ql,EditBox:o0,Button:as,PushButton:A0,RadioButton:kl,CheckBox:l0,TextField:sA,PasswordField:c0,Appearance:et},lt.AcroForm={ChoiceField:Fl,ListBox:Ul,ComboBox:Ql,EditBox:o0,Button:as,PushButton:A0,RadioButton:kl,CheckBox:l0,TextField:sA,PasswordField:c0,Appearance:et};lt.AcroForm;function FB(e){return e.reduce(function(t,r,s){return t[r]=s,t},{})}(function(e){e.__addimage__={};var t="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},s=e.__addimage__.getImageFileTypeByImageData=function(k,L){var O,_,K,Q,I,U=t;if((L=L||t)==="RGBA"||k.data!==void 0&&k.data instanceof Uint8ClampedArray&&"height"in k&&"width"in k)return"RGBA";if(S(k))for(I in r)for(K=r[I],O=0;O<K.length;O+=1){for(Q=!0,_=0;_<K[O].length;_+=1)if(K[O][_]!==void 0&&K[O][_]!==k[_]){Q=!1;break}if(Q===!0){U=I;break}}else for(I in r)for(K=r[I],O=0;O<K.length;O+=1){for(Q=!0,_=0;_<K[O].length;_+=1)if(K[O][_]!==void 0&&K[O][_]!==k.charCodeAt(_)){Q=!1;break}if(Q===!0){U=I;break}}return U===t&&L!==t&&(U=L),U},a=function k(L){for(var O=this.internal.write,_=this.internal.putStream,K=(0,this.internal.getFilters)();K.indexOf("FlateEncode")!==-1;)K.splice(K.indexOf("FlateEncode"),1);L.objectId=this.internal.newObject();var Q=[];if(Q.push({key:"Type",value:"/XObject"}),Q.push({key:"Subtype",value:"/Image"}),Q.push({key:"Width",value:L.width}),Q.push({key:"Height",value:L.height}),L.colorSpace===N.INDEXED?Q.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(L.palette.length/3-1)+" "+("sMask"in L&&L.sMask!==void 0?L.objectId+2:L.objectId+1)+" 0 R]"}):(Q.push({key:"ColorSpace",value:"/"+L.colorSpace}),L.colorSpace===N.DEVICE_CMYK&&Q.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),Q.push({key:"BitsPerComponent",value:L.bitsPerComponent}),"decodeParameters"in L&&L.decodeParameters!==void 0&&Q.push({key:"DecodeParms",value:"<<"+L.decodeParameters+">>"}),"transparency"in L&&Array.isArray(L.transparency)){for(var I="",U=0,V=L.transparency.length;U<V;U++)I+=L.transparency[U]+" "+L.transparency[U]+" ";Q.push({key:"Mask",value:"["+I+"]"})}L.sMask!==void 0&&Q.push({key:"SMask",value:L.objectId+1+" 0 R"});var Z=L.filter!==void 0?["/"+L.filter]:void 0;if(_({data:L.data,additionalKeyValues:Q,alreadyAppliedFilters:Z,objectId:L.objectId}),O("endobj"),"sMask"in L&&L.sMask!==void 0){var me="/Predictor "+L.predictor+" /Colors 1 /BitsPerComponent "+L.bitsPerComponent+" /Columns "+L.width,F={width:L.width,height:L.height,colorSpace:"DeviceGray",bitsPerComponent:L.bitsPerComponent,decodeParameters:me,data:L.sMask};"filter"in L&&(F.filter=L.filter),k.call(this,F)}if(L.colorSpace===N.INDEXED){var G=this.internal.newObject();_({data:R(new Uint8Array(L.palette)),objectId:G}),O("endobj")}},i=function(){var k=this.internal.collections.addImage_images;for(var L in k)a.call(this,k[L])},o=function(){var k,L=this.internal.collections.addImage_images,O=this.internal.write;for(var _ in L)O("/I"+(k=L[_]).index,k.objectId,"0","R")},A=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",i),this.internal.events.subscribe("putXobjectDict",o))},l=function(){var k=this.internal.collections.addImage_images;return A.call(this),k},c=function(){return Object.keys(this.internal.collections.addImage_images).length},d=function(k){return typeof e["process"+k.toUpperCase()]=="function"},f=function(k){return Mt(k)==="object"&&k.nodeType===1},m=function(k,L){if(k.nodeName==="IMG"&&k.hasAttribute("src")){var O=""+k.getAttribute("src");if(O.indexOf("data:image/")===0)return yu(unescape(O).split("base64,").pop());var _=e.loadFile(O,!0);if(_!==void 0)return _}if(k.nodeName==="CANVAS"){if(k.width===0||k.height===0)throw new Error("Given canvas must have data. Canvas width: "+k.width+", height: "+k.height);var K;switch(L){case"PNG":K="image/png";break;case"WEBP":K="image/webp";break;case"JPEG":case"JPG":default:K="image/jpeg"}return yu(k.toDataURL(K,1).split("base64,").pop())}},h=function(k){var L=this.internal.collections.addImage_images;if(L){for(var O in L)if(k===L[O].alias)return L[O]}},v=function(k,L,O){return k||L||(k=-96,L=-96),k<0&&(k=-1*O.width*72/k/this.internal.scaleFactor),L<0&&(L=-1*O.height*72/L/this.internal.scaleFactor),k===0&&(k=L*O.width/O.height),L===0&&(L=k*O.height/O.width),[k,L]},b=function(k,L,O,_,K,Q){var I=v.call(this,O,_,K),U=this.internal.getCoordinateString,V=this.internal.getVerticalCoordinateString,Z=l.call(this);if(O=I[0],_=I[1],Z[K.index]=K,Q){Q*=Math.PI/180;var me=Math.cos(Q),F=Math.sin(Q),G=function(ee){return ee.toFixed(4)},q=[G(me),G(F),G(-1*F),G(me),0,0,"cm"]}this.internal.write("q"),Q?(this.internal.write([1,"0","0",1,U(k),V(L+_),"cm"].join(" ")),this.internal.write(q.join(" ")),this.internal.write([U(O),"0","0",U(_),"0","0","cm"].join(" "))):this.internal.write([U(O),"0","0",U(_),U(k),V(L+_),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+K.index+" Do"),this.internal.write("Q")},N=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var w=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},x=e.__addimage__.sHashCode=function(k){var L,O,_=0;if(typeof k=="string")for(O=k.length,L=0;L<O;L++)_=(_<<5)-_+k.charCodeAt(L),_|=0;else if(S(k))for(O=k.byteLength/2,L=0;L<O;L++)_=(_<<5)-_+k[L],_|=0;return _},B=e.__addimage__.validateStringAsBase64=function(k){(k=k||"").toString().trim();var L=!0;return k.length===0&&(L=!1),k.length%4!=0&&(L=!1),/^[A-Za-z0-9+/]+$/.test(k.substr(0,k.length-2))===!1&&(L=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(k.substr(-2))===!1&&(L=!1),L},C=e.__addimage__.extractImageFromDataUrl=function(k){var L=(k=k||"").split("base64,"),O=null;if(L.length===2){var _=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(L[0]);Array.isArray(_)&&(O={mimeType:_[1],charset:_[2],data:L[1]})}return O},E=e.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};e.__addimage__.isArrayBuffer=function(k){return E()&&k instanceof ArrayBuffer};var S=e.__addimage__.isArrayBufferView=function(k){return E()&&typeof Uint32Array<"u"&&(k instanceof Int8Array||k instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&k instanceof Uint8ClampedArray||k instanceof Int16Array||k instanceof Uint16Array||k instanceof Int32Array||k instanceof Uint32Array||k instanceof Float32Array||k instanceof Float64Array)},D=e.__addimage__.binaryStringToUint8Array=function(k){for(var L=k.length,O=new Uint8Array(L),_=0;_<L;_++)O[_]=k.charCodeAt(_);return O},R=e.__addimage__.arrayBufferToBinaryString=function(k){for(var L="",O=S(k)?k:new Uint8Array(k),_=0;_<O.length;_+=8192)L+=String.fromCharCode.apply(null,O.subarray(_,_+8192));return L};e.addImage=function(){var k,L,O,_,K,Q,I,U,V;if(typeof arguments[1]=="number"?(L=t,O=arguments[1],_=arguments[2],K=arguments[3],Q=arguments[4],I=arguments[5],U=arguments[6],V=arguments[7]):(L=arguments[1],O=arguments[2],_=arguments[3],K=arguments[4],Q=arguments[5],I=arguments[6],U=arguments[7],V=arguments[8]),Mt(k=arguments[0])==="object"&&!f(k)&&"imageData"in k){var Z=k;k=Z.imageData,L=Z.format||L||t,O=Z.x||O||0,_=Z.y||_||0,K=Z.w||Z.width||K,Q=Z.h||Z.height||Q,I=Z.alias||I,U=Z.compression||U,V=Z.rotation||Z.angle||V}var me=this.internal.getFilters();if(U===void 0&&me.indexOf("FlateEncode")!==-1&&(U="SLOW"),isNaN(O)||isNaN(_))throw new Error("Invalid coordinates passed to jsPDF.addImage");A.call(this);var F=W.call(this,k,L,I,U);return b.call(this,O,_,K,Q,F,V),this};var W=function(k,L,O,_){var K,Q,I;if(typeof k=="string"&&s(k)===t){k=unescape(k);var U=ne(k,!1);(U!==""||(U=e.loadFile(k,!0))!==void 0)&&(k=U)}if(f(k)&&(k=m(k,L)),L=s(k,L),!d(L))throw new Error("addImage does not support files of type '"+L+"', please ensure that a plugin for '"+L+"' support is added.");if(((I=O)==null||I.length===0)&&(O=function(V){return typeof V=="string"||S(V)?x(V):S(V.data)?x(V.data):null}(k)),(K=h.call(this,O))||(E()&&(k instanceof Uint8Array||L==="RGBA"||(Q=k,k=D(k))),K=this["process"+L.toUpperCase()](k,c.call(this),O,function(V){return V&&typeof V=="string"&&(V=V.toUpperCase()),V in e.image_compression?V:w.NONE}(_),Q)),!K)throw new Error("An unknown error occurred whilst processing the image.");return K},ne=e.__addimage__.convertBase64ToBinaryString=function(k,L){var O;L=typeof L!="boolean"||L;var _,K="";if(typeof k=="string"){_=(O=C(k))!==null?O.data:k;try{K=yu(_)}catch(Q){if(L)throw B(_)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+Q.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return K};e.getImageProperties=function(k){var L,O,_="";if(f(k)&&(k=m(k)),typeof k=="string"&&s(k)===t&&((_=ne(k,!1))===""&&(_=e.loadFile(k)||""),k=_),O=s(k),!d(O))throw new Error("addImage does not support files of type '"+O+"', please ensure that a plugin for '"+O+"' support is added.");if(!E()||k instanceof Uint8Array||(k=D(k)),!(L=this["process"+O.toUpperCase()](k)))throw new Error("An unknown error occurred whilst processing the image");return L.fileType=O,L}})(lt.API),function(e){var t=function(r){if(r!==void 0&&r!="")return!0};lt.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(r){for(var s,a,i,o=this.internal.getCoordinateString,A=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(r.objId),c=r.pageContext.annotations,d=!1,f=0;f<c.length&&!d;f++)switch((s=c[f]).type){case"link":(t(s.options.url)||t(s.options.pageNumber))&&(d=!0);break;case"reference":case"text":case"freetext":d=!0}if(d!=0){this.internal.write("/Annots [");for(var m=0;m<c.length;m++){s=c[m];var h=this.internal.pdfEscape,v=this.internal.getEncryptor(r.objId);switch(s.type){case"reference":this.internal.write(" "+s.object.objId+" 0 R ");break;case"text":var b=this.internal.newAdditionalObject(),N=this.internal.newAdditionalObject(),w=this.internal.getEncryptor(b.objId),x=s.title||"Note";i="<</Type /Annot /Subtype /Text "+(a="/Rect ["+o(s.bounds.x)+" "+A(s.bounds.y+s.bounds.h)+" "+o(s.bounds.x+s.bounds.w)+" "+A(s.bounds.y)+"] ")+"/Contents ("+h(w(s.contents))+")",i+=" /Popup "+N.objId+" 0 R",i+=" /P "+l.objId+" 0 R",i+=" /T ("+h(w(x))+") >>",b.content=i;var B=b.objId+" 0 R";i="<</Type /Annot /Subtype /Popup "+(a="/Rect ["+o(s.bounds.x+30)+" "+A(s.bounds.y+s.bounds.h)+" "+o(s.bounds.x+s.bounds.w+30)+" "+A(s.bounds.y)+"] ")+" /Parent "+B,s.open&&(i+=" /Open true"),i+=" >>",N.content=i,this.internal.write(b.objId,"0 R",N.objId,"0 R");break;case"freetext":a="/Rect ["+o(s.bounds.x)+" "+A(s.bounds.y)+" "+o(s.bounds.x+s.bounds.w)+" "+A(s.bounds.y+s.bounds.h)+"] ";var C=s.color||"#000000";i="<</Type /Annot /Subtype /FreeText "+a+"/Contents ("+h(v(s.contents))+")",i+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+C+")",i+=" /Border [0 0 0]",i+=" >>",this.internal.write(i);break;case"link":if(s.options.name){var E=this.annotations._nameMap[s.options.name];s.options.pageNumber=E.page,s.options.top=E.y}else s.options.top||(s.options.top=0);if(a="/Rect ["+s.finalBounds.x+" "+s.finalBounds.y+" "+s.finalBounds.w+" "+s.finalBounds.h+"] ",i="",s.options.url)i="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /A <</S /URI /URI ("+h(v(s.options.url))+") >>";else if(s.options.pageNumber)switch(i="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(s.options.pageNumber).objId+" 0 R",s.options.magFactor=s.options.magFactor||"XYZ",s.options.magFactor){case"Fit":i+=" /Fit]";break;case"FitH":i+=" /FitH "+s.options.top+"]";break;case"FitV":s.options.left=s.options.left||0,i+=" /FitV "+s.options.left+"]";break;case"XYZ":default:var S=A(s.options.top);s.options.left=s.options.left||0,s.options.zoom===void 0&&(s.options.zoom=0),i+=" /XYZ "+s.options.left+" "+S+" "+s.options.zoom+"]"}i!=""&&(i+=" >>",this.internal.write(i))}}this.internal.write("]")}}]),e.createAnnotation=function(r){var s=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":s.pageContext.annotations.push(r)}},e.link=function(r,s,a,i,o){var A=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString;A.pageContext.annotations.push({finalBounds:{x:l(r),y:c(s),w:l(r+a),h:c(s+i)},options:o,type:"link"})},e.textWithLink=function(r,s,a,i){var o,A,l=this.getTextWidth(r),c=this.internal.getLineHeight()/this.internal.scaleFactor;if(i.maxWidth!==void 0){A=i.maxWidth;var d=this.splitTextToSize(r,A).length;o=Math.ceil(c*d)}else A=l,o=c;return this.text(r,s,a,i),a+=.2*c,i.align==="center"&&(s-=l/2),i.align==="right"&&(s-=l),this.link(s,a-c,A,o,i),l},e.getTextWidth=function(r){var s=this.internal.getFontSize();return this.getStringUnitWidth(r)*s/this.internal.scaleFactor}}(lt.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},s={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},a=[1570,1571,1573,1575];e.__arabicParser__={};var i=e.__arabicParser__.isInArabicSubstitutionA=function(b){return t[b.charCodeAt(0)]!==void 0},o=e.__arabicParser__.isArabicLetter=function(b){return typeof b=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(b)},A=e.__arabicParser__.isArabicEndLetter=function(b){return o(b)&&i(b)&&t[b.charCodeAt(0)].length<=2},l=e.__arabicParser__.isArabicAlfLetter=function(b){return o(b)&&a.indexOf(b.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(b){return o(b)&&i(b)&&t[b.charCodeAt(0)].length>=1};var c=e.__arabicParser__.arabicLetterHasFinalForm=function(b){return o(b)&&i(b)&&t[b.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(b){return o(b)&&i(b)&&t[b.charCodeAt(0)].length>=3};var d=e.__arabicParser__.arabicLetterHasMedialForm=function(b){return o(b)&&i(b)&&t[b.charCodeAt(0)].length==4},f=e.__arabicParser__.resolveLigatures=function(b){var N=0,w=r,x="",B=0;for(N=0;N<b.length;N+=1)w[b.charCodeAt(N)]!==void 0?(B++,typeof(w=w[b.charCodeAt(N)])=="number"&&(x+=String.fromCharCode(w),w=r,B=0),N===b.length-1&&(w=r,x+=b.charAt(N-(B-1)),N-=B-1,B=0)):(w=r,x+=b.charAt(N-B),N-=B,B=0);return x};e.__arabicParser__.isArabicDiacritic=function(b){return b!==void 0&&s[b.charCodeAt(0)]!==void 0};var m=e.__arabicParser__.getCorrectForm=function(b,N,w){return o(b)?i(b)===!1?-1:!c(b)||!o(N)&&!o(w)||!o(w)&&A(N)||A(b)&&!o(N)||A(b)&&l(N)||A(b)&&A(N)?0:d(b)&&o(N)&&!A(N)&&o(w)&&c(w)?3:A(b)||!o(w)?1:2:-1},h=function(b){var N=0,w=0,x=0,B="",C="",E="",S=(b=b||"").split("\\s+"),D=[];for(N=0;N<S.length;N+=1){for(D.push(""),w=0;w<S[N].length;w+=1)B=S[N][w],C=S[N][w-1],E=S[N][w+1],o(B)?(x=m(B,C,E),D[N]+=x!==-1?String.fromCharCode(t[B.charCodeAt(0)][x]):B):D[N]+=B;D[N]=f(D[N])}return D.join(" ")},v=e.__arabicParser__.processArabic=e.processArabic=function(){var b,N=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,w=[];if(Array.isArray(N)){var x=0;for(w=[],x=0;x<N.length;x+=1)Array.isArray(N[x])?w.push([h(N[x][0]),N[x][1],N[x][2]]):w.push([h(N[x])]);b=w}else b=h(N);return typeof arguments[0]=="string"?b:(arguments[0].text=b,arguments[0])};e.events.push(["preProcessText",v])}(lt.API),lt.API.autoPrint=function(e){var t;switch((e=e||{}).variant=e.variant||"non-conform",e.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})}return this},function(e){var t=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(A){r=A}});var s=150;Object.defineProperty(this,"width",{get:function(){return s},set:function(A){s=isNaN(A)||Number.isInteger(A)===!1||A<0?150:A,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=s+1)}});var a=300;Object.defineProperty(this,"height",{get:function(){return a},set:function(A){a=isNaN(A)||Number.isInteger(A)===!1||A<0?300:A,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=a+1)}});var i=[];Object.defineProperty(this,"childNodes",{get:function(){return i},set:function(A){i=A}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(A){o=A}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(r,s){var a;if((r=r||"2d")!=="2d")return null;for(a in s)this.pdf.context2d.hasOwnProperty(a)&&(this.pdf.context2d[a]=s[a]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(lt.API),function(e){var t={left:0,top:0,bottom:0,right:0},r=!1,s=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),a.call(this))},a=function(){this.internal.__cell__.lastCell=new i,this.internal.__cell__.pages=1},i=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(b){l=b}});var c=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return c},set:function(b){c=b}});var d=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return d},set:function(b){d=b}});var f=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return f},set:function(b){f=b}});var m=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return m},set:function(b){m=b}});var h=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return h},set:function(b){h=b}});var v=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return v},set:function(b){v=b}}),this};i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},i.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(l){return s.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},e.getTextDimensions=function(l,c){s.call(this);var d=(c=c||{}).fontSize||this.getFontSize(),f=c.font||this.getFont(),m=c.scaleFactor||this.internal.scaleFactor,h=0,v=0,b=0,N=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var w=c.maxWidth;w>0?typeof l=="string"?l=this.splitTextToSize(l,w):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(B,C){return B.concat(N.splitTextToSize(C,w))},[])):l=Array.isArray(l)?l:[l];for(var x=0;x<l.length;x++)h<(b=this.getStringUnitWidth(l[x],{font:f})*d)&&(h=b);return h!==0&&(v=l.length),{w:h/=m,h:Math.max((v*d*this.getLineHeightFactor()-d*(this.getLineHeightFactor()-1))/m,0)}},e.cellAddPage=function(){s.call(this),this.addPage();var l=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new i(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=e.cell=function(){var l;l=arguments[0]instanceof i?arguments[0]:new i(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),s.call(this);var c=this.internal.__cell__.lastCell,d=this.internal.__cell__.padding,f=this.internal.__cell__.margins||t,m=this.internal.__cell__.tableHeaderRow,h=this.internal.__cell__.printHeaders;return c.lineNumber!==void 0&&(c.lineNumber===l.lineNumber?(l.x=(c.x||0)+(c.width||0),l.y=c.y||0):c.y+c.height+l.height+f.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=f.top,h&&m&&(this.printHeaderRow(l.lineNumber,!0),l.y+=m[0].height)):l.y=c.y+c.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,r===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-d,l.y+d,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+d,{align:"center",baseline:"top",maxWidth:l.width-d-d}):this.text(l.text,l.x+d,l.y+d,{align:"left",baseline:"top",maxWidth:l.width-d-d})),this.internal.__cell__.lastCell=l,this};e.table=function(l,c,d,f,m){if(s.call(this),!d)throw new Error("No data for PDF table.");var h,v,b,N,w=[],x=[],B=[],C={},E={},S=[],D=[],R=(m=m||{}).autoSize||!1,W=m.printHeaders!==!1,ne=m.css&&m.css["font-size"]!==void 0?16*m.css["font-size"]:m.fontSize||12,k=m.margins||Object.assign({width:this.getPageWidth()},t),L=typeof m.padding=="number"?m.padding:3,O=m.headerBackgroundColor||"#c8c8c8",_=m.headerTextColor||"#000";if(a.call(this),this.internal.__cell__.printHeaders=W,this.internal.__cell__.margins=k,this.internal.__cell__.table_font_size=ne,this.internal.__cell__.padding=L,this.internal.__cell__.headerBackgroundColor=O,this.internal.__cell__.headerTextColor=_,this.setFontSize(ne),f==null)x=w=Object.keys(d[0]),B=w.map(function(){return"left"});else if(Array.isArray(f)&&Mt(f[0])==="object")for(w=f.map(function(Z){return Z.name}),x=f.map(function(Z){return Z.prompt||Z.name||""}),B=f.map(function(Z){return Z.align||"left"}),h=0;h<f.length;h+=1)E[f[h].name]=f[h].width*(19.049976/25.4);else Array.isArray(f)&&typeof f[0]=="string"&&(x=w=f,B=w.map(function(){return"left"}));if(R||Array.isArray(f)&&typeof f[0]=="string")for(h=0;h<w.length;h+=1){for(C[N=w[h]]=d.map(function(Z){return Z[N]}),this.setFont(void 0,"bold"),S.push(this.getTextDimensions(x[h],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),v=C[N],this.setFont(void 0,"normal"),b=0;b<v.length;b+=1)S.push(this.getTextDimensions(v[b],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);E[N]=Math.max.apply(null,S)+L+L,S=[]}if(W){var K={};for(h=0;h<w.length;h+=1)K[w[h]]={},K[w[h]].text=x[h],K[w[h]].align=B[h];var Q=A.call(this,K,E);D=w.map(function(Z){return new i(l,c,E[Z],Q,K[Z].text,void 0,K[Z].align)}),this.setTableHeaderRow(D),this.printHeaderRow(1,!1)}var I=f.reduce(function(Z,me){return Z[me.name]=me.align,Z},{});for(h=0;h<d.length;h+=1){"rowStart"in m&&m.rowStart instanceof Function&&m.rowStart({row:h,data:d[h]},this);var U=A.call(this,d[h],E);for(b=0;b<w.length;b+=1){var V=d[h][w[b]];"cellStart"in m&&m.cellStart instanceof Function&&m.cellStart({row:h,col:b,data:V},this),o.call(this,new i(l,c,E[w[b]],U,V,h+2,I[w[b]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=c,this};var A=function(l,c){var d=this.internal.__cell__.padding,f=this.internal.__cell__.table_font_size,m=this.internal.scaleFactor;return Object.keys(l).map(function(h){var v=l[h];return this.splitTextToSize(v.hasOwnProperty("text")?v.text:v,c[h]-d-d)},this).map(function(h){return this.getLineHeightFactor()*h.length*f/m+d+d},this).reduce(function(h,v){return Math.max(h,v)},0)};e.setTableHeaderRow=function(l){s.call(this),this.internal.__cell__.tableHeaderRow=l},e.printHeaderRow=function(l,c){if(s.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var d;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var f=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new i(f[0],f[1],f[2],f[3],void 0,-1)}this.setFont(void 0,"bold");for(var m=[],h=0;h<this.internal.__cell__.tableHeaderRow.length;h+=1){d=this.internal.__cell__.tableHeaderRow[h].clone(),c&&(d.y=this.internal.__cell__.margins.top||0,m.push(d)),d.lineNumber=l;var v=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,d),this.setTextColor(v)}m.length>0&&this.setTableHeaderRow(m),this.setFont(void 0,"normal"),r=!1}}(lt.API);var UB={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},QB=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],zg=FB(QB),kB=[100,200,300,400,500,600,700,800,900],C6=FB(kB);function qg(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),r=function(i){return UB[i=i||"normal"]?i:"normal"}(e.style),s=function(i){if(!i)return 400;if(typeof i=="number")return i>=100&&i<=900&&i%100==0?i:400;if(/^\d00$/.test(i))return parseInt(i);switch(i){case"bold":return 700;case"normal":default:return 400}}(e.weight),a=function(i){return typeof zg[i=i||"normal"]=="number"?i:"normal"}(e.stretch);return{family:t,style:r,weight:s,stretch:a,src:e.src||[],ref:e.ref||{name:t,style:[a,r,s].join(" ")}}}function Av(e,t,r,s){var a;for(a=r;a>=0&&a<t.length;a+=s)if(e[t[a]])return e[t[a]];for(a=r;a>=0&&a<t.length;a-=s)if(e[t[a]])return e[t[a]]}var _6={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},lv={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function cv(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function S6(e,t,r){for(var s=(r=r||{}).defaultFontFamily||"times",a=Object.assign({},_6,r.genericFontFamilies||{}),i=null,o=null,A=0;A<t.length;++A)if(a[(i=qg(t[A])).family]&&(i.family=a[i.family]),e.hasOwnProperty(i.family)){o=e[i.family];break}if(!(o=o||e[s]))throw new Error("Could not find a font-family for the rule '"+cv(i)+"' and default family '"+s+"'.");if(o=function(l,c){if(c[l])return c[l];var d=zg[l],f=d<=zg.normal?-1:1,m=Av(c,QB,d,f);if(!m)throw new Error("Could not find a matching font-stretch value for "+l);return m}(i.stretch,o),o=function(l,c){if(c[l])return c[l];for(var d=UB[l],f=0;f<d.length;++f)if(c[d[f]])return c[d[f]];throw new Error("Could not find a matching font-style for "+l)}(i.style,o),!(o=function(l,c){if(c[l])return c[l];if(l===400&&c[500])return c[500];if(l===500&&c[400])return c[400];var d=C6[l],f=Av(c,kB,d,l<400?-1:1);if(!f)throw new Error("Could not find a matching font-weight for value "+l);return f}(i.weight,o)))throw new Error("Failed to resolve a font for the rule '"+cv(i)+"'.");return o}function uv(e){return e.trimLeft()}function E6(e,t){for(var r=0;r<e.length;){if(e.charAt(r)===t)return[e.substring(0,r),e.substring(r+1)];r+=1}return null}function F6(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var Lh,dv,hv,cm=["times"];(function(e){var t,r,s,a,i,o,A,l,c,d=function(F){return F=F||{},this.isStrokeTransparent=F.isStrokeTransparent||!1,this.strokeOpacity=F.strokeOpacity||1,this.strokeStyle=F.strokeStyle||"#000000",this.fillStyle=F.fillStyle||"#000000",this.isFillTransparent=F.isFillTransparent||!1,this.fillOpacity=F.fillOpacity||1,this.font=F.font||"10px sans-serif",this.textBaseline=F.textBaseline||"alphabetic",this.textAlign=F.textAlign||"left",this.lineWidth=F.lineWidth||1,this.lineJoin=F.lineJoin||"miter",this.lineCap=F.lineCap||"butt",this.path=F.path||[],this.transform=F.transform!==void 0?F.transform.clone():new l,this.globalCompositeOperation=F.globalCompositeOperation||"normal",this.globalAlpha=F.globalAlpha||1,this.clip_path=F.clip_path||[],this.currentPoint=F.currentPoint||new o,this.miterLimit=F.miterLimit||10,this.lastPoint=F.lastPoint||new o,this.lineDashOffset=F.lineDashOffset||0,this.lineDash=F.lineDash||[],this.margin=F.margin||[0,0,0,0],this.prevPageLastElemOffset=F.prevPageLastElemOffset||0,this.ignoreClearRect=typeof F.ignoreClearRect!="boolean"||F.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new f(this),t=this.internal.f2,r=this.internal.getCoordinateString,s=this.internal.getVerticalCoordinateString,a=this.internal.getHorizontalCoordinate,i=this.internal.getVerticalCoordinate,o=this.internal.Point,A=this.internal.Rectangle,l=this.internal.Matrix,c=new d}]);var f=function(F){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var G=F;Object.defineProperty(this,"pdf",{get:function(){return G}});var q=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return q},set:function(ve){q=!!ve}});var ee=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return ee},set:function(ve){ee=!!ve}});var se=0;Object.defineProperty(this,"posX",{get:function(){return se},set:function(ve){isNaN(ve)||(se=ve)}});var Ae=0;Object.defineProperty(this,"posY",{get:function(){return Ae},set:function(ve){isNaN(ve)||(Ae=ve)}}),Object.defineProperty(this,"margin",{get:function(){return c.margin},set:function(ve){var Y;typeof ve=="number"?Y=[ve,ve,ve,ve]:((Y=new Array(4))[0]=ve[0],Y[1]=ve.length>=2?ve[1]:Y[0],Y[2]=ve.length>=3?ve[2]:Y[0],Y[3]=ve.length>=4?ve[3]:Y[1]),c.margin=Y}});var we=!1;Object.defineProperty(this,"autoPaging",{get:function(){return we},set:function(ve){we=ve}});var ye=0;Object.defineProperty(this,"lastBreak",{get:function(){return ye},set:function(ve){ye=ve}});var Ie=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Ie},set:function(ve){Ie=ve}}),Object.defineProperty(this,"ctx",{get:function(){return c},set:function(ve){ve instanceof d&&(c=ve)}}),Object.defineProperty(this,"path",{get:function(){return c.path},set:function(ve){c.path=ve}});var Ue=[];Object.defineProperty(this,"ctxStack",{get:function(){return Ue},set:function(ve){Ue=ve}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(ve){var Y;Y=m(ve),this.ctx.fillStyle=Y.style,this.ctx.isFillTransparent=Y.a===0,this.ctx.fillOpacity=Y.a,this.pdf.setFillColor(Y.r,Y.g,Y.b,{a:Y.a}),this.pdf.setTextColor(Y.r,Y.g,Y.b,{a:Y.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(ve){var Y=m(ve);this.ctx.strokeStyle=Y.style,this.ctx.isStrokeTransparent=Y.a===0,this.ctx.strokeOpacity=Y.a,Y.a===0?this.pdf.setDrawColor(255,255,255):(Y.a,this.pdf.setDrawColor(Y.r,Y.g,Y.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(ve){["butt","round","square"].indexOf(ve)!==-1&&(this.ctx.lineCap=ve,this.pdf.setLineCap(ve))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(ve){isNaN(ve)||(this.ctx.lineWidth=ve,this.pdf.setLineWidth(ve))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(ve){["bevel","round","miter"].indexOf(ve)!==-1&&(this.ctx.lineJoin=ve,this.pdf.setLineJoin(ve))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(ve){isNaN(ve)||(this.ctx.miterLimit=ve,this.pdf.setMiterLimit(ve))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(ve){this.ctx.textBaseline=ve}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(ve){["right","end","center","left","start"].indexOf(ve)!==-1&&(this.ctx.textAlign=ve)}});var Pe=null;function ae(ve,Y){if(Pe===null){var at=function(ze){var Ee=[];return Object.keys(ze).forEach(function(Te){ze[Te].forEach(function(de){var Oe=null;switch(de){case"bold":Oe={family:Te,weight:"bold"};break;case"italic":Oe={family:Te,style:"italic"};break;case"bolditalic":Oe={family:Te,weight:"bold",style:"italic"};break;case"":case"normal":Oe={family:Te}}Oe!==null&&(Oe.ref={name:Te,style:de},Ee.push(Oe))})}),Ee}(ve.getFontList());Pe=function(ze){for(var Ee={},Te=0;Te<ze.length;++Te){var de=qg(ze[Te]),Oe=de.family,rt=de.stretch,tt=de.style,ut=de.weight;Ee[Oe]=Ee[Oe]||{},Ee[Oe][rt]=Ee[Oe][rt]||{},Ee[Oe][rt][tt]=Ee[Oe][rt][tt]||{},Ee[Oe][rt][tt][ut]=de}return Ee}(at.concat(Y))}return Pe}var De=null;Object.defineProperty(this,"fontFaces",{get:function(){return De},set:function(ve){Pe=null,De=ve}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(ve){var Y;if(this.ctx.font=ve,(Y=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(ve))!==null){var at=Y[1],ze=(Y[2],Y[3]),Ee=Y[4],Te=(Y[5],Y[6]),de=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Ee)[2];Ee=Math.floor(de==="px"?parseFloat(Ee)*this.pdf.internal.scaleFactor:de==="em"?parseFloat(Ee)*this.pdf.getFontSize():parseFloat(Ee)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Ee);var Oe=function(dt){var Bt,$e,ur=[],Ft=dt.trim();if(Ft==="")return cm;if(Ft in lv)return[lv[Ft]];for(;Ft!=="";){switch($e=null,Bt=(Ft=uv(Ft)).charAt(0)){case'"':case"'":$e=E6(Ft.substring(1),Bt);break;default:$e=F6(Ft)}if($e===null||(ur.push($e[0]),(Ft=uv($e[1]))!==""&&Ft.charAt(0)!==","))return cm;Ft=Ft.replace(/^,/,"")}return ur}(Te);if(this.fontFaces){var rt=S6(ae(this.pdf,this.fontFaces),Oe.map(function(dt){return{family:dt,stretch:"normal",weight:ze,style:at}}));this.pdf.setFont(rt.ref.name,rt.ref.style)}else{var tt="";(ze==="bold"||parseInt(ze,10)>=700||at==="bold")&&(tt="bold"),at==="italic"&&(tt+="italic"),tt.length===0&&(tt="normal");for(var ut="",yt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Et=0;Et<Oe.length;Et++){if(this.pdf.internal.getFont(Oe[Et],tt,{noFallback:!0,disableWarning:!0})!==void 0){ut=Oe[Et];break}if(tt==="bolditalic"&&this.pdf.internal.getFont(Oe[Et],"bold",{noFallback:!0,disableWarning:!0})!==void 0)ut=Oe[Et],tt="bold";else if(this.pdf.internal.getFont(Oe[Et],"normal",{noFallback:!0,disableWarning:!0})!==void 0){ut=Oe[Et],tt="normal";break}}if(ut===""){for(var Ot=0;Ot<Oe.length;Ot++)if(yt[Oe[Ot]]){ut=yt[Oe[Ot]];break}}ut=ut===""?"Times":ut,this.pdf.setFont(ut,tt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(ve){this.ctx.globalCompositeOperation=ve}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(ve){this.ctx.globalAlpha=ve}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(ve){this.ctx.lineDashOffset=ve,me.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(ve){this.ctx.lineDash=ve,me.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(ve){this.ctx.ignoreClearRect=!!ve}})};f.prototype.setLineDash=function(F){this.lineDash=F},f.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},f.prototype.fill=function(){C.call(this,"fill",!1)},f.prototype.stroke=function(){C.call(this,"stroke",!1)},f.prototype.beginPath=function(){this.path=[{type:"begin"}]},f.prototype.moveTo=function(F,G){if(isNaN(F)||isNaN(G))throw Xt.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var q=this.ctx.transform.applyToPoint(new o(F,G));this.path.push({type:"mt",x:q.x,y:q.y}),this.ctx.lastPoint=new o(F,G)},f.prototype.closePath=function(){var F=new o(0,0),G=0;for(G=this.path.length-1;G!==-1;G--)if(this.path[G].type==="begin"&&Mt(this.path[G+1])==="object"&&typeof this.path[G+1].x=="number"){F=new o(this.path[G+1].x,this.path[G+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(F.x,F.y)},f.prototype.lineTo=function(F,G){if(isNaN(F)||isNaN(G))throw Xt.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var q=this.ctx.transform.applyToPoint(new o(F,G));this.path.push({type:"lt",x:q.x,y:q.y}),this.ctx.lastPoint=new o(q.x,q.y)},f.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),C.call(this,null,!0)},f.prototype.quadraticCurveTo=function(F,G,q,ee){if(isNaN(q)||isNaN(ee)||isNaN(F)||isNaN(G))throw Xt.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var se=this.ctx.transform.applyToPoint(new o(q,ee)),Ae=this.ctx.transform.applyToPoint(new o(F,G));this.path.push({type:"qct",x1:Ae.x,y1:Ae.y,x:se.x,y:se.y}),this.ctx.lastPoint=new o(se.x,se.y)},f.prototype.bezierCurveTo=function(F,G,q,ee,se,Ae){if(isNaN(se)||isNaN(Ae)||isNaN(F)||isNaN(G)||isNaN(q)||isNaN(ee))throw Xt.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var we=this.ctx.transform.applyToPoint(new o(se,Ae)),ye=this.ctx.transform.applyToPoint(new o(F,G)),Ie=this.ctx.transform.applyToPoint(new o(q,ee));this.path.push({type:"bct",x1:ye.x,y1:ye.y,x2:Ie.x,y2:Ie.y,x:we.x,y:we.y}),this.ctx.lastPoint=new o(we.x,we.y)},f.prototype.arc=function(F,G,q,ee,se,Ae){if(isNaN(F)||isNaN(G)||isNaN(q)||isNaN(ee)||isNaN(se))throw Xt.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(Ae=!!Ae,!this.ctx.transform.isIdentity){var we=this.ctx.transform.applyToPoint(new o(F,G));F=we.x,G=we.y;var ye=this.ctx.transform.applyToPoint(new o(0,q)),Ie=this.ctx.transform.applyToPoint(new o(0,0));q=Math.sqrt(Math.pow(ye.x-Ie.x,2)+Math.pow(ye.y-Ie.y,2))}Math.abs(se-ee)>=2*Math.PI&&(ee=0,se=2*Math.PI),this.path.push({type:"arc",x:F,y:G,radius:q,startAngle:ee,endAngle:se,counterclockwise:Ae})},f.prototype.arcTo=function(F,G,q,ee,se){throw new Error("arcTo not implemented.")},f.prototype.rect=function(F,G,q,ee){if(isNaN(F)||isNaN(G)||isNaN(q)||isNaN(ee))throw Xt.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(F,G),this.lineTo(F+q,G),this.lineTo(F+q,G+ee),this.lineTo(F,G+ee),this.lineTo(F,G),this.lineTo(F+q,G),this.lineTo(F,G)},f.prototype.fillRect=function(F,G,q,ee){if(isNaN(F)||isNaN(G)||isNaN(q)||isNaN(ee))throw Xt.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!h.call(this)){var se={};this.lineCap!=="butt"&&(se.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(se.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(F,G,q,ee),this.fill(),se.hasOwnProperty("lineCap")&&(this.lineCap=se.lineCap),se.hasOwnProperty("lineJoin")&&(this.lineJoin=se.lineJoin)}},f.prototype.strokeRect=function(F,G,q,ee){if(isNaN(F)||isNaN(G)||isNaN(q)||isNaN(ee))throw Xt.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");v.call(this)||(this.beginPath(),this.rect(F,G,q,ee),this.stroke())},f.prototype.clearRect=function(F,G,q,ee){if(isNaN(F)||isNaN(G)||isNaN(q)||isNaN(ee))throw Xt.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(F,G,q,ee))},f.prototype.save=function(F){F=typeof F!="boolean"||F;for(var G=this.pdf.internal.getCurrentPageInfo().pageNumber,q=0;q<this.pdf.internal.getNumberOfPages();q++)this.pdf.setPage(q+1),this.pdf.internal.out("q");if(this.pdf.setPage(G),F){this.ctx.fontSize=this.pdf.internal.getFontSize();var ee=new d(this.ctx);this.ctxStack.push(this.ctx),this.ctx=ee}},f.prototype.restore=function(F){F=typeof F!="boolean"||F;for(var G=this.pdf.internal.getCurrentPageInfo().pageNumber,q=0;q<this.pdf.internal.getNumberOfPages();q++)this.pdf.setPage(q+1),this.pdf.internal.out("Q");this.pdf.setPage(G),F&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},f.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var m=function(F){var G,q,ee,se;if(F.isCanvasGradient===!0&&(F=F.getColor()),!F)return{r:0,g:0,b:0,a:0,style:F};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(F))G=0,q=0,ee=0,se=0;else{var Ae=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(F);if(Ae!==null)G=parseInt(Ae[1]),q=parseInt(Ae[2]),ee=parseInt(Ae[3]),se=1;else if((Ae=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(F))!==null)G=parseInt(Ae[1]),q=parseInt(Ae[2]),ee=parseInt(Ae[3]),se=parseFloat(Ae[4]);else{if(se=1,typeof F=="string"&&F.charAt(0)!=="#"){var we=new NB(F);F=we.ok?we.toHex():"#000000"}F.length===4?(G=F.substring(1,2),G+=G,q=F.substring(2,3),q+=q,ee=F.substring(3,4),ee+=ee):(G=F.substring(1,3),q=F.substring(3,5),ee=F.substring(5,7)),G=parseInt(G,16),q=parseInt(q,16),ee=parseInt(ee,16)}}return{r:G,g:q,b:ee,a:se,style:F}},h=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},v=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};f.prototype.fillText=function(F,G,q,ee){if(isNaN(G)||isNaN(q)||typeof F!="string")throw Xt.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(ee=isNaN(ee)?void 0:ee,!h.call(this)){var se=U(this.ctx.transform.rotation),Ae=this.ctx.transform.scaleX;L.call(this,{text:F,x:G,y:q,scale:Ae,angle:se,align:this.textAlign,maxWidth:ee})}},f.prototype.strokeText=function(F,G,q,ee){if(isNaN(G)||isNaN(q)||typeof F!="string")throw Xt.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!v.call(this)){ee=isNaN(ee)?void 0:ee;var se=U(this.ctx.transform.rotation),Ae=this.ctx.transform.scaleX;L.call(this,{text:F,x:G,y:q,scale:Ae,renderingMode:"stroke",angle:se,align:this.textAlign,maxWidth:ee})}},f.prototype.measureText=function(F){if(typeof F!="string")throw Xt.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var G=this.pdf,q=this.pdf.internal.scaleFactor,ee=G.internal.getFontSize(),se=G.getStringUnitWidth(F)*ee/G.internal.scaleFactor,Ae=function(we){var ye=(we=we||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return ye}}),this};return new Ae({width:se*=Math.round(96*q/72*1e4)/1e4})},f.prototype.scale=function(F,G){if(isNaN(F)||isNaN(G))throw Xt.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var q=new l(F,0,0,G,0,0);this.ctx.transform=this.ctx.transform.multiply(q)},f.prototype.rotate=function(F){if(isNaN(F))throw Xt.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var G=new l(Math.cos(F),Math.sin(F),-Math.sin(F),Math.cos(F),0,0);this.ctx.transform=this.ctx.transform.multiply(G)},f.prototype.translate=function(F,G){if(isNaN(F)||isNaN(G))throw Xt.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var q=new l(1,0,0,1,F,G);this.ctx.transform=this.ctx.transform.multiply(q)},f.prototype.transform=function(F,G,q,ee,se,Ae){if(isNaN(F)||isNaN(G)||isNaN(q)||isNaN(ee)||isNaN(se)||isNaN(Ae))throw Xt.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var we=new l(F,G,q,ee,se,Ae);this.ctx.transform=this.ctx.transform.multiply(we)},f.prototype.setTransform=function(F,G,q,ee,se,Ae){F=isNaN(F)?1:F,G=isNaN(G)?0:G,q=isNaN(q)?0:q,ee=isNaN(ee)?1:ee,se=isNaN(se)?0:se,Ae=isNaN(Ae)?0:Ae,this.ctx.transform=new l(F,G,q,ee,se,Ae)};var b=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};f.prototype.drawImage=function(F,G,q,ee,se,Ae,we,ye,Ie){var Ue=this.pdf.getImageProperties(F),Pe=1,ae=1,De=1,ve=1;ee!==void 0&&ye!==void 0&&(De=ye/ee,ve=Ie/se,Pe=Ue.width/ee*ye/ee,ae=Ue.height/se*Ie/se),Ae===void 0&&(Ae=G,we=q,G=0,q=0),ee!==void 0&&ye===void 0&&(ye=ee,Ie=se),ee===void 0&&ye===void 0&&(ye=Ue.width,Ie=Ue.height);for(var Y,at=this.ctx.transform.decompose(),ze=U(at.rotate.shx),Ee=new l,Te=(Ee=(Ee=(Ee=Ee.multiply(at.translate)).multiply(at.skew)).multiply(at.scale)).applyToRectangle(new A(Ae-G*De,we-q*ve,ee*Pe,se*ae)),de=N.call(this,Te),Oe=[],rt=0;rt<de.length;rt+=1)Oe.indexOf(de[rt])===-1&&Oe.push(de[rt]);if(B(Oe),this.autoPaging)for(var tt=Oe[0],ut=Oe[Oe.length-1],yt=tt;yt<ut+1;yt++){this.pdf.setPage(yt);var Et=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ot=yt===1?this.posY+this.margin[0]:this.margin[0],dt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Bt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],$e=yt===1?0:dt+(yt-2)*Bt;if(this.ctx.clip_path.length!==0){var ur=this.path;Y=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=x(Y,this.posX+this.margin[3],-$e+Ot+this.ctx.prevPageLastElemOffset),E.call(this,"fill",!0),this.path=ur}var Ft=JSON.parse(JSON.stringify(Te));Ft=x([Ft],this.posX+this.margin[3],-$e+Ot+this.ctx.prevPageLastElemOffset)[0];var os=(yt>tt||yt<ut)&&b.call(this);os&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Et,Bt,null).clip().discardPath()),this.pdf.addImage(F,"JPEG",Ft.x,Ft.y,Ft.w,Ft.h,null,null,ze),os&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(F,"JPEG",Te.x,Te.y,Te.w,Te.h,null,null,ze)};var N=function(F,G,q){var ee=[];G=G||this.pdf.internal.pageSize.width,q=q||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var se=this.posY+this.ctx.prevPageLastElemOffset;switch(F.type){default:case"mt":case"lt":ee.push(Math.floor((F.y+se)/q)+1);break;case"arc":ee.push(Math.floor((F.y+se-F.radius)/q)+1),ee.push(Math.floor((F.y+se+F.radius)/q)+1);break;case"qct":var Ae=V(this.ctx.lastPoint.x,this.ctx.lastPoint.y,F.x1,F.y1,F.x,F.y);ee.push(Math.floor((Ae.y+se)/q)+1),ee.push(Math.floor((Ae.y+Ae.h+se)/q)+1);break;case"bct":var we=Z(this.ctx.lastPoint.x,this.ctx.lastPoint.y,F.x1,F.y1,F.x2,F.y2,F.x,F.y);ee.push(Math.floor((we.y+se)/q)+1),ee.push(Math.floor((we.y+we.h+se)/q)+1);break;case"rect":ee.push(Math.floor((F.y+se)/q)+1),ee.push(Math.floor((F.y+F.h+se)/q)+1)}for(var ye=0;ye<ee.length;ye+=1)for(;this.pdf.internal.getNumberOfPages()<ee[ye];)w.call(this);return ee},w=function(){var F=this.fillStyle,G=this.strokeStyle,q=this.font,ee=this.lineCap,se=this.lineWidth,Ae=this.lineJoin;this.pdf.addPage(),this.fillStyle=F,this.strokeStyle=G,this.font=q,this.lineCap=ee,this.lineWidth=se,this.lineJoin=Ae},x=function(F,G,q){for(var ee=0;ee<F.length;ee++)switch(F[ee].type){case"bct":F[ee].x2+=G,F[ee].y2+=q;case"qct":F[ee].x1+=G,F[ee].y1+=q;case"mt":case"lt":case"arc":default:F[ee].x+=G,F[ee].y+=q}return F},B=function(F){return F.sort(function(G,q){return G-q})},C=function(F,G){for(var q,ee,se=this.fillStyle,Ae=this.strokeStyle,we=this.lineCap,ye=this.lineWidth,Ie=Math.abs(ye*this.ctx.transform.scaleX),Ue=this.lineJoin,Pe=JSON.parse(JSON.stringify(this.path)),ae=JSON.parse(JSON.stringify(this.path)),De=[],ve=0;ve<ae.length;ve++)if(ae[ve].x!==void 0)for(var Y=N.call(this,ae[ve]),at=0;at<Y.length;at+=1)De.indexOf(Y[at])===-1&&De.push(Y[at]);for(var ze=0;ze<De.length;ze++)for(;this.pdf.internal.getNumberOfPages()<De[ze];)w.call(this);if(B(De),this.autoPaging)for(var Ee=De[0],Te=De[De.length-1],de=Ee;de<Te+1;de++){this.pdf.setPage(de),this.fillStyle=se,this.strokeStyle=Ae,this.lineCap=we,this.lineWidth=Ie,this.lineJoin=Ue;var Oe=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],rt=de===1?this.posY+this.margin[0]:this.margin[0],tt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ut=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],yt=de===1?0:tt+(de-2)*ut;if(this.ctx.clip_path.length!==0){var Et=this.path;q=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=x(q,this.posX+this.margin[3],-yt+rt+this.ctx.prevPageLastElemOffset),E.call(this,F,!0),this.path=Et}if(ee=JSON.parse(JSON.stringify(Pe)),this.path=x(ee,this.posX+this.margin[3],-yt+rt+this.ctx.prevPageLastElemOffset),G===!1||de===0){var Ot=(de>Ee||de<Te)&&b.call(this);Ot&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Oe,ut,null).clip().discardPath()),E.call(this,F,G),Ot&&this.pdf.restoreGraphicsState()}this.lineWidth=ye}else this.lineWidth=Ie,E.call(this,F,G),this.lineWidth=ye;this.path=Pe},E=function(F,G){if((F!=="stroke"||G||!v.call(this))&&(F==="stroke"||G||!h.call(this))){for(var q,ee,se=[],Ae=this.path,we=0;we<Ae.length;we++){var ye=Ae[we];switch(ye.type){case"begin":se.push({begin:!0});break;case"close":se.push({close:!0});break;case"mt":se.push({start:ye,deltas:[],abs:[]});break;case"lt":var Ie=se.length;if(Ae[we-1]&&!isNaN(Ae[we-1].x)&&(q=[ye.x-Ae[we-1].x,ye.y-Ae[we-1].y],Ie>0)){for(;Ie>=0;Ie--)if(se[Ie-1].close!==!0&&se[Ie-1].begin!==!0){se[Ie-1].deltas.push(q),se[Ie-1].abs.push(ye);break}}break;case"bct":q=[ye.x1-Ae[we-1].x,ye.y1-Ae[we-1].y,ye.x2-Ae[we-1].x,ye.y2-Ae[we-1].y,ye.x-Ae[we-1].x,ye.y-Ae[we-1].y],se[se.length-1].deltas.push(q);break;case"qct":var Ue=Ae[we-1].x+2/3*(ye.x1-Ae[we-1].x),Pe=Ae[we-1].y+2/3*(ye.y1-Ae[we-1].y),ae=ye.x+2/3*(ye.x1-ye.x),De=ye.y+2/3*(ye.y1-ye.y),ve=ye.x,Y=ye.y;q=[Ue-Ae[we-1].x,Pe-Ae[we-1].y,ae-Ae[we-1].x,De-Ae[we-1].y,ve-Ae[we-1].x,Y-Ae[we-1].y],se[se.length-1].deltas.push(q);break;case"arc":se.push({deltas:[],abs:[],arc:!0}),Array.isArray(se[se.length-1].abs)&&se[se.length-1].abs.push(ye)}}ee=G?null:F==="stroke"?"stroke":"fill";for(var at=!1,ze=0;ze<se.length;ze++)if(se[ze].arc)for(var Ee=se[ze].abs,Te=0;Te<Ee.length;Te++){var de=Ee[Te];de.type==="arc"?R.call(this,de.x,de.y,de.radius,de.startAngle,de.endAngle,de.counterclockwise,void 0,G,!at):O.call(this,de.x,de.y),at=!0}else if(se[ze].close===!0)this.pdf.internal.out("h"),at=!1;else if(se[ze].begin!==!0){var Oe=se[ze].start.x,rt=se[ze].start.y;_.call(this,se[ze].deltas,Oe,rt),at=!0}ee&&W.call(this,ee),G&&ne.call(this)}},S=function(F){var G=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,q=G*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return F-q;case"top":return F+G-q;case"hanging":return F+G-2*q;case"middle":return F+G/2-q;case"ideographic":return F;case"alphabetic":default:return F}},D=function(F){return F+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};f.prototype.createLinearGradient=function(){var F=function(){};return F.colorStops=[],F.addColorStop=function(G,q){this.colorStops.push([G,q])},F.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},F.isCanvasGradient=!0,F},f.prototype.createPattern=function(){return this.createLinearGradient()},f.prototype.createRadialGradient=function(){return this.createLinearGradient()};var R=function(F,G,q,ee,se,Ae,we,ye,Ie){for(var Ue=Q.call(this,q,ee,se,Ae),Pe=0;Pe<Ue.length;Pe++){var ae=Ue[Pe];Pe===0&&(Ie?k.call(this,ae.x1+F,ae.y1+G):O.call(this,ae.x1+F,ae.y1+G)),K.call(this,F,G,ae.x2,ae.y2,ae.x3,ae.y3,ae.x4,ae.y4)}ye?ne.call(this):W.call(this,we)},W=function(F){switch(F){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},ne=function(){this.pdf.clip(),this.pdf.discardPath()},k=function(F,G){this.pdf.internal.out(r(F)+" "+s(G)+" m")},L=function(F){var G;switch(F.align){case"right":case"end":G="right";break;case"center":G="center";break;case"left":case"start":default:G="left"}var q=this.pdf.getTextDimensions(F.text),ee=S.call(this,F.y),se=D.call(this,ee)-q.h,Ae=this.ctx.transform.applyToPoint(new o(F.x,ee)),we=this.ctx.transform.decompose(),ye=new l;ye=(ye=(ye=ye.multiply(we.translate)).multiply(we.skew)).multiply(we.scale);for(var Ie,Ue,Pe,ae=this.ctx.transform.applyToRectangle(new A(F.x,ee,q.w,q.h)),De=ye.applyToRectangle(new A(F.x,se,q.w,q.h)),ve=N.call(this,De),Y=[],at=0;at<ve.length;at+=1)Y.indexOf(ve[at])===-1&&Y.push(ve[at]);if(B(Y),this.autoPaging)for(var ze=Y[0],Ee=Y[Y.length-1],Te=ze;Te<Ee+1;Te++){this.pdf.setPage(Te);var de=Te===1?this.posY+this.margin[0]:this.margin[0],Oe=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],rt=this.pdf.internal.pageSize.height-this.margin[2],tt=rt-this.margin[0],ut=this.pdf.internal.pageSize.width-this.margin[1],yt=ut-this.margin[3],Et=Te===1?0:Oe+(Te-2)*tt;if(this.ctx.clip_path.length!==0){var Ot=this.path;Ie=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=x(Ie,this.posX+this.margin[3],-1*Et+de),E.call(this,"fill",!0),this.path=Ot}var dt=x([JSON.parse(JSON.stringify(De))],this.posX+this.margin[3],-Et+de+this.ctx.prevPageLastElemOffset)[0];F.scale>=.01&&(Ue=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ue*F.scale),Pe=this.lineWidth,this.lineWidth=Pe*F.scale);var Bt=this.autoPaging!=="text";if(Bt||dt.y+dt.h<=rt){if(Bt||dt.y>=de&&dt.x<=ut){var $e=Bt?F.text:this.pdf.splitTextToSize(F.text,F.maxWidth||ut-dt.x)[0],ur=x([JSON.parse(JSON.stringify(ae))],this.posX+this.margin[3],-Et+de+this.ctx.prevPageLastElemOffset)[0],Ft=Bt&&(Te>ze||Te<Ee)&&b.call(this);Ft&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],yt,tt,null).clip().discardPath()),this.pdf.text($e,ur.x,ur.y,{angle:F.angle,align:G,renderingMode:F.renderingMode}),Ft&&this.pdf.restoreGraphicsState()}}else dt.y<rt&&(this.ctx.prevPageLastElemOffset+=rt-dt.y);F.scale>=.01&&(this.pdf.setFontSize(Ue),this.lineWidth=Pe)}else F.scale>=.01&&(Ue=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ue*F.scale),Pe=this.lineWidth,this.lineWidth=Pe*F.scale),this.pdf.text(F.text,Ae.x+this.posX,Ae.y+this.posY,{angle:F.angle,align:G,renderingMode:F.renderingMode,maxWidth:F.maxWidth}),F.scale>=.01&&(this.pdf.setFontSize(Ue),this.lineWidth=Pe)},O=function(F,G,q,ee){q=q||0,ee=ee||0,this.pdf.internal.out(r(F+q)+" "+s(G+ee)+" l")},_=function(F,G,q){return this.pdf.lines(F,G,q,null,null)},K=function(F,G,q,ee,se,Ae,we,ye){this.pdf.internal.out([t(a(q+F)),t(i(ee+G)),t(a(se+F)),t(i(Ae+G)),t(a(we+F)),t(i(ye+G)),"c"].join(" "))},Q=function(F,G,q,ee){for(var se=2*Math.PI,Ae=Math.PI/2;G>q;)G-=se;var we=Math.abs(q-G);we<se&&ee&&(we=se-we);for(var ye=[],Ie=ee?-1:1,Ue=G;we>1e-5;){var Pe=Ue+Ie*Math.min(we,Ae);ye.push(I.call(this,F,Ue,Pe)),we-=Math.abs(Pe-Ue),Ue=Pe}return ye},I=function(F,G,q){var ee=(q-G)/2,se=F*Math.cos(ee),Ae=F*Math.sin(ee),we=se,ye=-Ae,Ie=we*we+ye*ye,Ue=Ie+we*se+ye*Ae,Pe=4/3*(Math.sqrt(2*Ie*Ue)-Ue)/(we*Ae-ye*se),ae=we-Pe*ye,De=ye+Pe*we,ve=ae,Y=-De,at=ee+G,ze=Math.cos(at),Ee=Math.sin(at);return{x1:F*Math.cos(G),y1:F*Math.sin(G),x2:ae*ze-De*Ee,y2:ae*Ee+De*ze,x3:ve*ze-Y*Ee,y3:ve*Ee+Y*ze,x4:F*Math.cos(q),y4:F*Math.sin(q)}},U=function(F){return 180*F/Math.PI},V=function(F,G,q,ee,se,Ae){var we=F+.5*(q-F),ye=G+.5*(ee-G),Ie=se+.5*(q-se),Ue=Ae+.5*(ee-Ae),Pe=Math.min(F,se,we,Ie),ae=Math.max(F,se,we,Ie),De=Math.min(G,Ae,ye,Ue),ve=Math.max(G,Ae,ye,Ue);return new A(Pe,De,ae-Pe,ve-De)},Z=function(F,G,q,ee,se,Ae,we,ye){var Ie,Ue,Pe,ae,De,ve,Y,at,ze,Ee,Te,de,Oe,rt,tt=q-F,ut=ee-G,yt=se-q,Et=Ae-ee,Ot=we-se,dt=ye-Ae;for(Ue=0;Ue<41;Ue++)ze=(Y=(Pe=F+(Ie=Ue/40)*tt)+Ie*((De=q+Ie*yt)-Pe))+Ie*(De+Ie*(se+Ie*Ot-De)-Y),Ee=(at=(ae=G+Ie*ut)+Ie*((ve=ee+Ie*Et)-ae))+Ie*(ve+Ie*(Ae+Ie*dt-ve)-at),Ue==0?(Te=ze,de=Ee,Oe=ze,rt=Ee):(Te=Math.min(Te,ze),de=Math.min(de,Ee),Oe=Math.max(Oe,ze),rt=Math.max(rt,Ee));return new A(Math.round(Te),Math.round(de),Math.round(Oe-Te),Math.round(rt-de))},me=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var F,G,q=(F=this.ctx.lineDash,G=this.ctx.lineDashOffset,JSON.stringify({lineDash:F,lineDashOffset:G}));this.prevLineDash!==q&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=q)}}})(lt.API),function(e){var t=function(i){var o,A,l,c,d,f,m,h,v,b;for(A=[],l=0,c=(i+=o="\0\0\0\0".slice(i.length%4||4)).length;c>l;l+=4)(d=(i.charCodeAt(l)<<24)+(i.charCodeAt(l+1)<<16)+(i.charCodeAt(l+2)<<8)+i.charCodeAt(l+3))!==0?(f=(d=((d=((d=((d=(d-(b=d%85))/85)-(v=d%85))/85)-(h=d%85))/85)-(m=d%85))/85)%85,A.push(f+33,m+33,h+33,v+33,b+33)):A.push(122);return function(N,w){for(var x=w;x>0;x--)N.pop()}(A,o.length),String.fromCharCode.apply(String,A)+"~>"},r=function(i){var o,A,l,c,d,f=String,m="length",h=255,v="charCodeAt",b="slice",N="replace";for(i[b](-2),i=i[b](0,-2)[N](/\s/g,"")[N]("z","!!!!!"),l=[],c=0,d=(i+=o="uuuuu"[b](i[m]%5||5))[m];d>c;c+=5)A=52200625*(i[v](c)-33)+614125*(i[v](c+1)-33)+7225*(i[v](c+2)-33)+85*(i[v](c+3)-33)+(i[v](c+4)-33),l.push(h&A>>24,h&A>>16,h&A>>8,h&A);return function(w,x){for(var B=x;B>0;B--)w.pop()}(l,o[m]),f.fromCharCode.apply(f,l)},s=function(i){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((i=i.replace(/\s/g,"")).indexOf(">")!==-1&&(i=i.substr(0,i.indexOf(">"))),i.length%2&&(i+="0"),o.test(i)===!1)return"";for(var A="",l=0;l<i.length;l+=2)A+=String.fromCharCode("0x"+(i[l]+i[l+1]));return A},a=function(i){for(var o=new Uint8Array(i.length),A=i.length;A--;)o[A]=i.charCodeAt(A);return i=(o=Hg(o)).reduce(function(l,c){return l+String.fromCharCode(c)},"")};e.processDataByFilters=function(i,o){var A=0,l=i||"",c=[];for(typeof(o=o||[])=="string"&&(o=[o]),A=0;A<o.length;A+=1)switch(o[A]){case"ASCII85Decode":case"/ASCII85Decode":l=r(l),c.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":l=t(l),c.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":l=s(l),c.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":l=l.split("").map(function(d){return("0"+d.charCodeAt().toString(16)).slice(-2)}).join("")+">",c.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":l=a(l),c.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[A]+'" is not implemented')}return{data:l,reverseChain:c.reverse().join(" ")}}}(lt.API),function(e){e.loadFile=function(t,r,s){return function(a,i,o){i=i!==!1,o=typeof o=="function"?o:function(){};var A=void 0;try{A=function(l,c,d){var f=new XMLHttpRequest,m=0,h=function(v){var b=v.length,N=[],w=String.fromCharCode;for(m=0;m<b;m+=1)N.push(w(255&v.charCodeAt(m)));return N.join("")};if(f.open("GET",l,!c),f.overrideMimeType("text/plain; charset=x-user-defined"),c===!1&&(f.onload=function(){f.status===200?d(h(this.responseText)):d(void 0)}),f.send(null),c&&f.status===200)return h(f.responseText)}(a,i,o)}catch{}return A}(t,r,s)},e.loadImageFile=e.loadFile}(lt.API),function(e){function t(){return(pt.html2canvas?Promise.resolve(pt.html2canvas):Tg(()=>Promise.resolve().then(()=>GF),void 0)).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function r(){return(pt.DOMPurify?Promise.resolve(pt.DOMPurify):Tg(()=>import("./purify.es-C_uT9hQ1.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var s=function(o){var A=Mt(o);return A==="undefined"?"undefined":A==="string"||o instanceof String?"string":A==="number"||o instanceof Number?"number":A==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":A==="object"?"object":"unknown"},a=function(o,A){var l=document.createElement(o);for(var c in A.className&&(l.className=A.className),A.innerHTML&&A.dompurify&&(l.innerHTML=A.dompurify.sanitize(A.innerHTML)),A.style)l.style[c]=A.style[c];return l},i=function o(A){var l=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),c=o.convert(Promise.resolve(),l);return c=(c=c.setProgress(1,o,1,[o])).set(A)};(i.prototype=Object.create(Promise.prototype)).constructor=i,i.convert=function(o,A){return o.__proto__=A||i.prototype,o},i.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},i.prototype.from=function(o,A){return this.then(function(){switch(A=A||function(l){switch(s(l)){case"string":return"string";case"element":return l.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(o)){case"string":return this.then(r).then(function(l){return this.set({src:a("div",{innerHTML:o,dompurify:l})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},i.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},i.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},A=function l(c,d){for(var f=c.nodeType===3?document.createTextNode(c.nodeValue):c.cloneNode(!1),m=c.firstChild;m;m=m.nextSibling)d!==!0&&m.nodeType===1&&m.nodeName==="SCRIPT"||f.appendChild(l(m,d));return c.nodeType===1&&(c.nodeName==="CANVAS"?(f.width=c.width,f.height=c.height,f.getContext("2d").drawImage(c,0,0)):c.nodeName!=="TEXTAREA"&&c.nodeName!=="SELECT"||(f.value=c.value),f.addEventListener("load",function(){f.scrollTop=c.scrollTop,f.scrollLeft=c.scrollLeft},!0)),f}(this.prop.src,this.opt.html2canvas.javascriptEnabled);A.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=a("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=a("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(A),this.prop.container.firstChild.appendChild(a("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},i.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(t).then(function(A){var l=Object.assign({},this.opt.html2canvas);return delete l.onrendered,A(this.prop.container,l)}).then(function(A){(this.opt.html2canvas.onrendered||function(){})(A),this.prop.canvas=A,document.body.removeChild(this.prop.overlay)})},i.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(t).then(function(A){var l=this.opt.jsPDF,c=this.opt.fontFaces,d=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,f=Object.assign({async:!0,allowTaint:!0,scale:d,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete f.onrendered,l.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,l.context2d.posX=this.opt.x,l.context2d.posY=this.opt.y,l.context2d.margin=this.opt.margin,l.context2d.fontFaces=c,c)for(var m=0;m<c.length;++m){var h=c[m],v=h.src.find(function(b){return b.format==="truetype"});v&&l.addFont(v.url,h.ref.name,h.ref.style)}return f.windowHeight=f.windowHeight||0,f.windowHeight=f.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):f.windowHeight,l.context2d.save(!0),A(this.prop.container,f)}).then(function(A){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(A),this.prop.canvas=A,document.body.removeChild(this.prop.overlay)})},i.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},i.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},i.prototype.output=function(o,A,l){return(l=l||"pdf").toLowerCase()==="img"||l.toLowerCase()==="image"?this.outputImg(o,A):this.outputPdf(o,A)},i.prototype.outputPdf=function(o,A){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,A)})},i.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},i.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},i.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},i.prototype.set=function(o){if(s(o)!=="object")return this;var A=Object.keys(o||{}).map(function(l){if(l in i.template.prop)return function(){this.prop[l]=o[l]};switch(l){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[l]=o[l]}}},this);return this.then(function(){return this.thenList(A)})},i.prototype.get=function(o,A){return this.then(function(){var l=o in i.template.prop?this.prop[o]:this.opt[o];return A?A(l):l})},i.prototype.setMargin=function(o){return this.then(function(){switch(s(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},i.prototype.setPageSize=function(o){function A(l,c){return Math.floor(l*c/72*96)}return this.then(function(){(o=o||lt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:A(o.inner.width,o.k),height:A(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},i.prototype.setProgress=function(o,A,l,c){return o!=null&&(this.progress.val=o),A!=null&&(this.progress.state=A),l!=null&&(this.progress.n=l),c!=null&&(this.progress.stack=c),this.progress.ratio=this.progress.val/this.progress.state,this},i.prototype.updateProgress=function(o,A,l,c){return this.setProgress(o?this.progress.val+o:null,A||null,l?this.progress.n+l:null,c?this.progress.stack.concat(c):null)},i.prototype.then=function(o,A){var l=this;return this.thenCore(o,A,function(c,d){return l.updateProgress(null,null,1,[c]),Promise.prototype.then.call(this,function(f){return l.updateProgress(null,c),f}).then(c,d).then(function(f){return l.updateProgress(1),f})})},i.prototype.thenCore=function(o,A,l){l=l||Promise.prototype.then,o&&(o=o.bind(this)),A&&(A=A.bind(this));var c=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:i.convert(Object.assign({},this),Promise.prototype),d=l.call(c,o,A);return i.convert(d,this.__proto__)},i.prototype.thenExternal=function(o,A){return Promise.prototype.then.call(this,o,A)},i.prototype.thenList=function(o){var A=this;return o.forEach(function(l){A=A.thenCore(l)}),A},i.prototype.catch=function(o){o&&(o=o.bind(this));var A=Promise.prototype.catch.call(this,o);return i.convert(A,this)},i.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},i.prototype.error=function(o){return this.then(function(){throw new Error(o)})},i.prototype.using=i.prototype.set,i.prototype.saveAs=i.prototype.save,i.prototype.export=i.prototype.output,i.prototype.run=i.prototype.then,lt.getPageSize=function(o,A,l){if(Mt(o)==="object"){var c=o;o=c.orientation,A=c.unit||A,l=c.format||l}A=A||"mm",l=l||"a4",o=(""+(o||"P")).toLowerCase();var d,f=(""+l).toLowerCase(),m={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(A){case"pt":d=1;break;case"mm":d=72/25.4;break;case"cm":d=72/2.54;break;case"in":d=72;break;case"px":d=.75;break;case"pc":case"em":d=12;break;case"ex":d=6;break;default:throw"Invalid unit: "+A}var h,v=0,b=0;if(m.hasOwnProperty(f))v=m[f][1]/d,b=m[f][0]/d;else try{v=l[1],b=l[0]}catch{throw new Error("Invalid format: "+l)}if(o==="p"||o==="portrait")o="p",b>v&&(h=b,b=v,v=h);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",v>b&&(h=b,b=v,v=h)}return{width:b,height:v,unit:A,k:d,orientation:o}},e.html=function(o,A){(A=A||{}).callback=A.callback||function(){},A.html2canvas=A.html2canvas||{},A.html2canvas.canvas=A.html2canvas.canvas||this.canvas,A.jsPDF=A.jsPDF||this,A.fontFaces=A.fontFaces?A.fontFaces.map(qg):null;var l=new i(A);return A.worker?l:l.from(o).doCallback()}}(lt.API),lt.API.addJS=function(e){return hv=e,this.internal.events.subscribe("postPutResources",function(){Lh=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Lh+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),dv=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+hv+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Lh!==void 0&&dv!==void 0&&this.internal.out("/Names <</JavaScript "+Lh+" 0 R>>")}),this},function(e){var t;e.events.push(["postPutResources",function(){var r=this,s=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var a=r.outline.render().split(/\r\n/),i=0;i<a.length;i++){var o=a[i],A=s.exec(o);if(A!=null){var l=A[1];r.internal.newObjectDeferredBegin(l,!1)}r.internal.write(o)}if(this.outline.createNamedDestinations){var c=this.internal.pages.length,d=[];for(i=0;i<c;i++){var f=r.internal.newObject();d.push(f);var m=r.internal.getPageInfo(i+1);r.internal.write("<< /D["+m.objId+" 0 R /XYZ null null null]>> endobj")}var h=r.internal.newObject();for(r.internal.write("<< /Names [ "),i=0;i<d.length;i++)r.internal.write("(page_"+(i+1)+")"+d[i]+" 0 R");r.internal.write(" ] >>","endobj"),t=r.internal.newObject(),r.internal.write("<< /Dests "+h+" 0 R"),r.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(s,a,i){var o={title:a,options:i,children:[]};return s==null&&(s=this.root),s.children.push(o),o},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(s){s.id=r.internal.newObjectDeferred();for(var a=0;a<s.children.length;a++)this.genIds_r(s.children[a])},r.outline.renderRoot=function(s){this.objStart(s),this.line("/Type /Outlines"),s.children.length>0&&(this.line("/First "+this.makeRef(s.children[0])),this.line("/Last "+this.makeRef(s.children[s.children.length-1]))),this.line("/Count "+this.count_r({count:0},s)),this.objEnd()},r.outline.renderItems=function(s){for(var a=this.ctx.pdf.internal.getVerticalCoordinateString,i=0;i<s.children.length;i++){var o=s.children[i];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(s)),i>0&&this.line("/Prev "+this.makeRef(s.children[i-1])),i<s.children.length-1&&this.line("/Next "+this.makeRef(s.children[i+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var A=this.count=this.count_r({count:0},o);if(A>0&&this.line("/Count "+A),o.options&&o.options.pageNumber){var l=r.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+a(0)+" 0]")}this.objEnd()}for(var c=0;c<s.children.length;c++)this.renderItems(s.children[c])},r.outline.line=function(s){this.ctx.val+=s+`\r
`},r.outline.makeRef=function(s){return s.id+" 0 R"},r.outline.makeString=function(s){return"("+r.internal.pdfEscape(s)+")"},r.outline.objStart=function(s){this.ctx.val+=`\r
`+s.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(s,a){for(var i=0;i<a.children.length;i++)s.count++,this.count_r(s,a.children[i]);return s.count}}])}(lt.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(r,s,a,i,o,A){var l,c=this.decode.DCT_DECODE,d=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=o||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,(l=function(f){for(var m,h=256*f.charCodeAt(4)+f.charCodeAt(5),v=f.length,b={width:0,height:0,numcomponents:1},N=4;N<v;N+=2){if(N+=h,t.indexOf(f.charCodeAt(N+1))!==-1){m=256*f.charCodeAt(N+5)+f.charCodeAt(N+6),b={width:256*f.charCodeAt(N+7)+f.charCodeAt(N+8),height:m,numcomponents:f.charCodeAt(N+9)};break}h=256*f.charCodeAt(N+2)+f.charCodeAt(N+3)}return b}(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r)).numcomponents){case 1:A=this.color_spaces.DEVICE_GRAY;break;case 4:A=this.color_spaces.DEVICE_CMYK;break;case 3:A=this.color_spaces.DEVICE_RGB}d={data:r,width:l.width,height:l.height,colorSpace:A,bitsPerComponent:8,filter:c,index:s,alias:a}}return d}}(lt.API);var qA,Th,fv,pv,mv,U6=function(){var e,t,r;function s(i){var o,A,l,c,d,f,m,h,v,b,N,w,x,B;for(this.data=i,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},f=null;;){switch(o=this.readUInt32(),v=(function(){var C,E;for(E=[],C=0;C<4;++C)E.push(String.fromCharCode(this.data[this.pos++]));return E}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(o);break;case"fcTL":f&&this.animation.frames.push(f),this.pos+=4,f={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},d=this.readUInt16(),c=this.readUInt16()||100,f.delay=1e3*d/c,f.disposeOp=this.data[this.pos++],f.blendOp=this.data[this.pos++],f.data=[];break;case"IDAT":case"fdAT":for(v==="fdAT"&&(this.pos+=4,o-=4),i=(f!=null?f.data:void 0)||this.imgData,w=0;0<=o?w<o:w>o;0<=o?++w:--w)i.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(l=this.palette.length/3,this.transparency.indexed=this.read(o),this.transparency.indexed.length>l)throw new Error("More transparent colors than palette size");if((b=l-this.transparency.indexed.length)>0)for(x=0;0<=b?x<b:x>b;0<=b?++x:--x)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(o)[0];break;case 2:this.transparency.rgb=this.read(o)}break;case"tEXt":m=(N=this.read(o)).indexOf(0),h=String.fromCharCode.apply(String,N.slice(0,m)),this.text[h]=String.fromCharCode.apply(String,N.slice(m+1));break;case"IEND":return f&&this.animation.frames.push(f),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(B=this.colorType)===4||B===6,A=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*A,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=o}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}s.prototype.read=function(i){var o,A;for(A=[],o=0;0<=i?o<i:o>i;0<=i?++o:--o)A.push(this.data[this.pos++]);return A},s.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},s.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},s.prototype.decodePixels=function(i){var o=this.pixelBitlength/8,A=new Uint8Array(this.width*this.height*o),l=0,c=this;if(i==null&&(i=this.imgData),i.length===0)return new Uint8Array(0);function d(f,m,h,v){var b,N,w,x,B,C,E,S,D,R,W,ne,k,L,O,_,K,Q,I,U,V,Z=Math.ceil((c.width-f)/h),me=Math.ceil((c.height-m)/v),F=c.width==Z&&c.height==me;for(L=o*Z,ne=F?A:new Uint8Array(L*me),C=i.length,k=0,N=0;k<me&&l<C;){switch(i[l++]){case 0:for(x=K=0;K<L;x=K+=1)ne[N++]=i[l++];break;case 1:for(x=Q=0;Q<L;x=Q+=1)b=i[l++],B=x<o?0:ne[N-o],ne[N++]=(b+B)%256;break;case 2:for(x=I=0;I<L;x=I+=1)b=i[l++],w=(x-x%o)/o,O=k&&ne[(k-1)*L+w*o+x%o],ne[N++]=(O+b)%256;break;case 3:for(x=U=0;U<L;x=U+=1)b=i[l++],w=(x-x%o)/o,B=x<o?0:ne[N-o],O=k&&ne[(k-1)*L+w*o+x%o],ne[N++]=(b+Math.floor((B+O)/2))%256;break;case 4:for(x=V=0;V<L;x=V+=1)b=i[l++],w=(x-x%o)/o,B=x<o?0:ne[N-o],k===0?O=_=0:(O=ne[(k-1)*L+w*o+x%o],_=w&&ne[(k-1)*L+(w-1)*o+x%o]),E=B+O-_,S=Math.abs(E-B),R=Math.abs(E-O),W=Math.abs(E-_),D=S<=R&&S<=W?B:R<=W?O:_,ne[N++]=(b+D)%256;break;default:throw new Error("Invalid filter algorithm: "+i[l-1])}if(!F){var G=((m+k*v)*c.width+f)*o,q=k*L;for(x=0;x<Z;x+=1){for(var ee=0;ee<o;ee+=1)A[G++]=ne[q++];G+=(h-1)*o}}k++}}return i=l6(i),c.interlaceMethod==1?(d(0,0,8,8),d(4,0,8,8),d(0,4,4,8),d(2,0,4,4),d(0,2,2,4),d(1,0,2,2),d(0,1,1,2)):d(0,0,1,1),A},s.prototype.decodePalette=function(){var i,o,A,l,c,d,f,m,h;for(A=this.palette,d=this.transparency.indexed||[],c=new Uint8Array((d.length||0)+A.length),l=0,i=0,o=f=0,m=A.length;f<m;o=f+=3)c[l++]=A[o],c[l++]=A[o+1],c[l++]=A[o+2],c[l++]=(h=d[i++])!=null?h:255;return c},s.prototype.copyToImageData=function(i,o){var A,l,c,d,f,m,h,v,b,N,w;if(l=this.colors,b=null,A=this.hasAlphaChannel,this.palette.length&&(b=(w=this._decodedPalette)!=null?w:this._decodedPalette=this.decodePalette(),l=4,A=!0),v=(c=i.data||i).length,f=b||o,d=m=0,l===1)for(;d<v;)h=b?4*o[d/4]:m,N=f[h++],c[d++]=N,c[d++]=N,c[d++]=N,c[d++]=A?f[h++]:255,m=h;else for(;d<v;)h=b?4*o[d/4]:m,c[d++]=f[h++],c[d++]=f[h++],c[d++]=f[h++],c[d++]=A?f[h++]:255,m=h},s.prototype.decode=function(){var i;return i=new Uint8Array(this.width*this.height*4),this.copyToImageData(i,this.decodePixels()),i};var a=function(){if(Object.prototype.toString.call(pt)==="[object Window]"){try{t=pt.document.createElement("canvas"),r=t.getContext("2d")}catch{return!1}return!0}return!1};return a(),e=function(i){var o;if(a()===!0)return r.width=i.width,r.height=i.height,r.clearRect(0,0,i.width,i.height),r.putImageData(i,0,0),(o=new Image).src=t.toDataURL(),o;throw new Error("This method requires a Browser with Canvas-capability.")},s.prototype.decodeFrames=function(i){var o,A,l,c,d,f,m,h;if(this.animation){for(h=[],A=d=0,f=(m=this.animation.frames).length;d<f;A=++d)o=m[A],l=i.createImageData(o.width,o.height),c=this.decodePixels(new Uint8Array(o.data)),this.copyToImageData(l,c),o.imageData=l,h.push(o.image=e(l));return h}},s.prototype.renderFrame=function(i,o){var A,l,c;return A=(l=this.animation.frames)[o],c=l[o-1],o===0&&i.clearRect(0,0,this.width,this.height),(c!=null?c.disposeOp:void 0)===1?i.clearRect(c.xOffset,c.yOffset,c.width,c.height):(c!=null?c.disposeOp:void 0)===2&&i.putImageData(c.imageData,c.xOffset,c.yOffset),A.blendOp===0&&i.clearRect(A.xOffset,A.yOffset,A.width,A.height),i.drawImage(A.image,A.xOffset,A.yOffset)},s.prototype.animate=function(i){var o,A,l,c,d,f,m=this;return A=0,f=this.animation,c=f.numFrames,l=f.frames,d=f.numPlays,(o=function(){var h,v;if(h=A++%c,v=l[h],m.renderFrame(i,h),c>1&&A/c<d)return m.animation._timeout=setTimeout(o,v.delay)})()},s.prototype.stopAnimation=function(){var i;return clearTimeout((i=this.animation)!=null?i._timeout:void 0)},s.prototype.render=function(i){var o,A;return i._png&&i._png.stopAnimation(),i._png=this,i.width=this.width,i.height=this.height,o=i.getContext("2d"),this.animation?(this.decodeFrames(o),this.animate(o)):(A=o.createImageData(this.width,this.height),this.copyToImageData(A,this.decodePixels()),o.putImageData(A,0,0))},s}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function Q6(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=e[t++]|e[t++]<<8,s=e[t++]|e[t++]<<8,a=e[t++],i=a>>7,o=1<<(7&a)+1;e[t++],e[t++];var A=null,l=null;i&&(A=t,l=o,t+=3*o);var c=!0,d=[],f=0,m=null,h=0,v=null;for(this.width=r,this.height=s;c&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,v=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((k=e[t++])>=0))throw Error("Invalid block size");if(k===0)break;t+=k}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var b=e[t++];f=e[t++]|e[t++]<<8,m=e[t++],!(1&b)&&(m=null),h=b>>2&7,t++;break;case 254:for(;;){if(!((k=e[t++])>=0))throw Error("Invalid block size");if(k===0)break;t+=k}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var N=e[t++]|e[t++]<<8,w=e[t++]|e[t++]<<8,x=e[t++]|e[t++]<<8,B=e[t++]|e[t++]<<8,C=e[t++],E=C>>6&1,S=1<<(7&C)+1,D=A,R=l,W=!1;C>>7&&(W=!0,D=t,R=S,t+=3*S);var ne=t;for(t++;;){var k;if(!((k=e[t++])>=0))throw Error("Invalid block size");if(k===0)break;t+=k}d.push({x:N,y:w,width:x,height:B,has_local_palette:W,palette_offset:D,palette_size:R,data_offset:ne,data_length:t-ne,transparent_index:m,interlaced:!!E,delay:f,disposal:h});break;case 59:c=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return d.length},this.loopCount=function(){return v},this.frameInfo=function(L){if(L<0||L>=d.length)throw new Error("Frame index out of range.");return d[L]},this.decodeAndBlitFrameBGRA=function(L,O){var _=this.frameInfo(L),K=_.width*_.height,Q=new Uint8Array(K);gv(e,_.data_offset,Q,K);var I=_.palette_offset,U=_.transparent_index;U===null&&(U=256);var V=_.width,Z=r-V,me=V,F=4*(_.y*r+_.x),G=4*((_.y+_.height)*r+_.x),q=F,ee=4*Z;_.interlaced===!0&&(ee+=4*r*7);for(var se=8,Ae=0,we=Q.length;Ae<we;++Ae){var ye=Q[Ae];if(me===0&&(me=V,(q+=ee)>=G&&(ee=4*Z+4*r*(se-1),q=F+(V+Z)*(se<<1),se>>=1)),ye===U)q+=4;else{var Ie=e[I+3*ye],Ue=e[I+3*ye+1],Pe=e[I+3*ye+2];O[q++]=Pe,O[q++]=Ue,O[q++]=Ie,O[q++]=255}--me}},this.decodeAndBlitFrameRGBA=function(L,O){var _=this.frameInfo(L),K=_.width*_.height,Q=new Uint8Array(K);gv(e,_.data_offset,Q,K);var I=_.palette_offset,U=_.transparent_index;U===null&&(U=256);var V=_.width,Z=r-V,me=V,F=4*(_.y*r+_.x),G=4*((_.y+_.height)*r+_.x),q=F,ee=4*Z;_.interlaced===!0&&(ee+=4*r*7);for(var se=8,Ae=0,we=Q.length;Ae<we;++Ae){var ye=Q[Ae];if(me===0&&(me=V,(q+=ee)>=G&&(ee=4*Z+4*r*(se-1),q=F+(V+Z)*(se<<1),se>>=1)),ye===U)q+=4;else{var Ie=e[I+3*ye],Ue=e[I+3*ye+1],Pe=e[I+3*ye+2];O[q++]=Ie,O[q++]=Ue,O[q++]=Pe,O[q++]=255}--me}}}function gv(e,t,r,s){for(var a=e[t++],i=1<<a,o=i+1,A=o+1,l=a+1,c=(1<<l)-1,d=0,f=0,m=0,h=e[t++],v=new Int32Array(4096),b=null;;){for(;d<16&&h!==0;)f|=e[t++]<<d,d+=8,h===1?h=e[t++]:--h;if(d<l)break;var N=f&c;if(f>>=l,d-=l,N!==i){if(N===o)break;for(var w=N<A?N:b,x=0,B=w;B>i;)B=v[B]>>8,++x;var C=B;if(m+x+(w!==N?1:0)>s)return void Xt.log("Warning, gif stream longer than expected.");r[m++]=C;var E=m+=x;for(w!==N&&(r[m++]=C),B=w;x--;)B=v[B],r[--E]=255&B,B>>=8;b!==null&&A<4096&&(v[A++]=b<<8|C,A>=c+1&&l<12&&(++l,c=c<<1|1)),b=N}else A=o+1,c=(1<<(l=a+1))-1,b=null}return m!==s&&Xt.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function um(e){var t,r,s,a,i,o=Math.floor,A=new Array(64),l=new Array(64),c=new Array(64),d=new Array(64),f=new Array(65535),m=new Array(65535),h=new Array(64),v=new Array(64),b=[],N=0,w=7,x=new Array(64),B=new Array(64),C=new Array(64),E=new Array(256),S=new Array(2048),D=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],R=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],W=[0,1,2,3,4,5,6,7,8,9,10,11],ne=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],k=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],L=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],O=[0,1,2,3,4,5,6,7,8,9,10,11],_=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],K=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function Q(F,G){for(var q=0,ee=0,se=new Array,Ae=1;Ae<=16;Ae++){for(var we=1;we<=F[Ae];we++)se[G[ee]]=[],se[G[ee]][0]=q,se[G[ee]][1]=Ae,ee++,q++;q*=2}return se}function I(F){for(var G=F[0],q=F[1]-1;q>=0;)G&1<<q&&(N|=1<<w),q--,--w<0&&(N==255?(U(255),U(0)):U(N),w=7,N=0)}function U(F){b.push(F)}function V(F){U(F>>8&255),U(255&F)}function Z(F,G,q,ee,se){for(var Ae,we=se[0],ye=se[240],Ie=function(Ee,Te){var de,Oe,rt,tt,ut,yt,Et,Ot,dt,Bt,$e=0;for(dt=0;dt<8;++dt){de=Ee[$e],Oe=Ee[$e+1],rt=Ee[$e+2],tt=Ee[$e+3],ut=Ee[$e+4],yt=Ee[$e+5],Et=Ee[$e+6];var ur=de+(Ot=Ee[$e+7]),Ft=de-Ot,os=Oe+Et,Lt=Oe-Et,Yt=rt+yt,Qn=rt-yt,Ct=tt+ut,Zs=tt-ut,Vt=ur+Ct,Yr=ur-Ct,ta=os+Yt,or=os-Yt;Ee[$e]=Vt+ta,Ee[$e+4]=Vt-ta;var mt=.707106781*(or+Yr);Ee[$e+2]=Yr+mt,Ee[$e+6]=Yr-mt;var Tt=.382683433*((Vt=Zs+Qn)-(or=Lt+Ft)),hn=.5411961*Vt+Tt,Ar=1.306562965*or+Tt,kn=.707106781*(ta=Qn+Lt),Ts=Ft+kn,ot=Ft-kn;Ee[$e+5]=ot+hn,Ee[$e+3]=ot-hn,Ee[$e+1]=Ts+Ar,Ee[$e+7]=Ts-Ar,$e+=8}for($e=0,dt=0;dt<8;++dt){de=Ee[$e],Oe=Ee[$e+8],rt=Ee[$e+16],tt=Ee[$e+24],ut=Ee[$e+32],yt=Ee[$e+40],Et=Ee[$e+48];var fn=de+(Ot=Ee[$e+56]),pn=de-Ot,As=Oe+Et,_r=Oe-Et,zt=rt+yt,Ps=rt-yt,bi=tt+ut,ra=tt-ut,mn=fn+bi,gn=fn-bi,Rs=As+zt,en=As-zt;Ee[$e]=mn+Rs,Ee[$e+32]=mn-Rs;var Os=.707106781*(en+gn);Ee[$e+16]=gn+Os,Ee[$e+48]=gn-Os;var In=.382683433*((mn=ra+Ps)-(en=_r+pn)),wi=.5411961*mn+In,vi=1.306562965*en+In,yi=.707106781*(Rs=Ps+_r),sa=pn+yi,Bi=pn-yi;Ee[$e+40]=Bi+wi,Ee[$e+24]=Bi-wi,Ee[$e+8]=sa+vi,Ee[$e+56]=sa-vi,$e++}for(dt=0;dt<64;++dt)Bt=Ee[dt]*Te[dt],h[dt]=Bt>0?Bt+.5|0:Bt-.5|0;return h}(F,G),Ue=0;Ue<64;++Ue)v[D[Ue]]=Ie[Ue];var Pe=v[0]-q;q=v[0],Pe==0?I(ee[0]):(I(ee[m[Ae=32767+Pe]]),I(f[Ae]));for(var ae=63;ae>0&&v[ae]==0;)ae--;if(ae==0)return I(we),q;for(var De,ve=1;ve<=ae;){for(var Y=ve;v[ve]==0&&ve<=ae;)++ve;var at=ve-Y;if(at>=16){De=at>>4;for(var ze=1;ze<=De;++ze)I(ye);at&=15}Ae=32767+v[ve],I(se[(at<<4)+m[Ae]]),I(f[Ae]),ve++}return ae!=63&&I(we),q}function me(F){F=Math.min(Math.max(F,1),100),i!=F&&(function(G){for(var q=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],ee=0;ee<64;ee++){var se=o((q[ee]*G+50)/100);se=Math.min(Math.max(se,1),255),A[D[ee]]=se}for(var Ae=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],we=0;we<64;we++){var ye=o((Ae[we]*G+50)/100);ye=Math.min(Math.max(ye,1),255),l[D[we]]=ye}for(var Ie=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Ue=0,Pe=0;Pe<8;Pe++)for(var ae=0;ae<8;ae++)c[Ue]=1/(A[D[Ue]]*Ie[Pe]*Ie[ae]*8),d[Ue]=1/(l[D[Ue]]*Ie[Pe]*Ie[ae]*8),Ue++}(F<50?Math.floor(5e3/F):Math.floor(200-2*F)),i=F)}this.encode=function(F,G){G&&me(G),b=new Array,N=0,w=7,V(65496),V(65504),V(16),U(74),U(70),U(73),U(70),U(0),U(1),U(1),U(0),V(1),V(1),U(0),U(0),function(){V(65499),V(132),U(0);for(var Oe=0;Oe<64;Oe++)U(A[Oe]);U(1);for(var rt=0;rt<64;rt++)U(l[rt])}(),function(Oe,rt){V(65472),V(17),U(8),V(rt),V(Oe),U(3),U(1),U(17),U(0),U(2),U(17),U(1),U(3),U(17),U(1)}(F.width,F.height),function(){V(65476),V(418),U(0);for(var Oe=0;Oe<16;Oe++)U(R[Oe+1]);for(var rt=0;rt<=11;rt++)U(W[rt]);U(16);for(var tt=0;tt<16;tt++)U(ne[tt+1]);for(var ut=0;ut<=161;ut++)U(k[ut]);U(1);for(var yt=0;yt<16;yt++)U(L[yt+1]);for(var Et=0;Et<=11;Et++)U(O[Et]);U(17);for(var Ot=0;Ot<16;Ot++)U(_[Ot+1]);for(var dt=0;dt<=161;dt++)U(K[dt])}(),V(65498),V(12),U(3),U(1),U(0),U(2),U(17),U(3),U(17),U(0),U(63),U(0);var q=0,ee=0,se=0;N=0,w=7,this.encode.displayName="_encode_";for(var Ae,we,ye,Ie,Ue,Pe,ae,De,ve,Y=F.data,at=F.width,ze=F.height,Ee=4*at,Te=0;Te<ze;){for(Ae=0;Ae<Ee;){for(Ue=Ee*Te+Ae,ae=-1,De=0,ve=0;ve<64;ve++)Pe=Ue+(De=ve>>3)*Ee+(ae=4*(7&ve)),Te+De>=ze&&(Pe-=Ee*(Te+1+De-ze)),Ae+ae>=Ee&&(Pe-=Ae+ae-Ee+4),we=Y[Pe++],ye=Y[Pe++],Ie=Y[Pe++],x[ve]=(S[we]+S[ye+256>>0]+S[Ie+512>>0]>>16)-128,B[ve]=(S[we+768>>0]+S[ye+1024>>0]+S[Ie+1280>>0]>>16)-128,C[ve]=(S[we+1280>>0]+S[ye+1536>>0]+S[Ie+1792>>0]>>16)-128;q=Z(x,c,q,t,s),ee=Z(B,d,ee,r,a),se=Z(C,d,se,r,a),Ae+=32}Te+=8}if(w>=0){var de=[];de[1]=w+1,de[0]=(1<<w+1)-1,I(de)}return V(65497),new Uint8Array(b)},e=e||50,function(){for(var F=String.fromCharCode,G=0;G<256;G++)E[G]=F(G)}(),t=Q(R,W),r=Q(L,O),s=Q(ne,k),a=Q(_,K),function(){for(var F=1,G=2,q=1;q<=15;q++){for(var ee=F;ee<G;ee++)m[32767+ee]=q,f[32767+ee]=[],f[32767+ee][1]=q,f[32767+ee][0]=ee;for(var se=-(G-1);se<=-F;se++)m[32767+se]=q,f[32767+se]=[],f[32767+se][1]=q,f[32767+se][0]=G-1+se;F<<=1,G<<=1}}(),function(){for(var F=0;F<256;F++)S[F]=19595*F,S[F+256>>0]=38470*F,S[F+512>>0]=7471*F+32768,S[F+768>>0]=-11059*F,S[F+1024>>0]=-21709*F,S[F+1280>>0]=32768*F+8421375,S[F+1536>>0]=-27439*F,S[F+1792>>0]=-5329*F}(),me(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function ua(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function xv(e){function t(R){if(!R)throw Error("assert :P")}function r(R,W,ne){for(var k=0;4>k;k++)if(R[W+k]!=ne.charCodeAt(k))return!0;return!1}function s(R,W,ne,k,L){for(var O=0;O<L;O++)R[W+O]=ne[k+O]}function a(R,W,ne,k){for(var L=0;L<k;L++)R[W+L]=ne}function i(R){return new Int32Array(R)}function o(R,W){for(var ne=[],k=0;k<R;k++)ne.push(new W);return ne}function A(R,W){var ne=[];return function k(L,O,_){for(var K=_[O],Q=0;Q<K&&(L.push(_.length>O+1?[]:new W),!(_.length<O+1));Q++)k(L[Q],O+1,_)}(ne,0,R),ne}var l=function(){var R=this;function W(u,p){for(var y=1<<p-1>>>0;u&y;)y>>>=1;return y?(u&y-1)+y:u}function ne(u,p,y,j,T){t(!(j%y));do u[p+(j-=y)]=T;while(0<j)}function k(u,p,y,j,T){if(t(2328>=T),512>=T)var H=i(512);else if((H=i(T))==null)return 0;return function($,M,z,J,le,xe){var be,pe,Se=M,Be=1<<z,ce=i(16),he=i(16);for(t(le!=0),t(J!=null),t($!=null),t(0<z),pe=0;pe<le;++pe){if(15<J[pe])return 0;++ce[J[pe]]}if(ce[0]==le)return 0;for(he[1]=0,be=1;15>be;++be){if(ce[be]>1<<be)return 0;he[be+1]=he[be]+ce[be]}for(pe=0;pe<le;++pe)be=J[pe],0<J[pe]&&(xe[he[be]++]=pe);if(he[15]==1)return(J=new L).g=0,J.value=xe[0],ne($,Se,1,Be,J),Be;var Ce,Fe=-1,_e=Be-1,Je=0,He=1,At=1,Ve=1<<z;for(pe=0,be=1,le=2;be<=z;++be,le<<=1){if(He+=At<<=1,0>(At-=ce[be]))return 0;for(;0<ce[be];--ce[be])(J=new L).g=be,J.value=xe[pe++],ne($,Se+Je,le,Ve,J),Je=W(Je,be)}for(be=z+1,le=2;15>=be;++be,le<<=1){if(He+=At<<=1,0>(At-=ce[be]))return 0;for(;0<ce[be];--ce[be]){if(J=new L,(Je&_e)!=Fe){for(Se+=Ve,Ce=1<<(Fe=be)-z;15>Fe&&!(0>=(Ce-=ce[Fe]));)++Fe,Ce<<=1;Be+=Ve=1<<(Ce=Fe-z),$[M+(Fe=Je&_e)].g=Ce+z,$[M+Fe].value=Se-M-Fe}J.g=be-z,J.value=xe[pe++],ne($,Se+(Je>>z),le,Ve,J),Je=W(Je,be)}}return He!=2*he[15]-1?0:Be}(u,p,y,j,T,H)}function L(){this.value=this.g=0}function O(){this.value=this.g=0}function _(){this.G=o(5,L),this.H=i(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(us,O)}function K(u,p,y,j){t(u!=null),t(p!=null),t(2147483648>j),u.Ca=254,u.I=0,u.b=-8,u.Ka=0,u.oa=p,u.pa=y,u.Jd=p,u.Yc=y+j,u.Zc=4<=j?y+j-4+1:y,Ae(u)}function Q(u,p){for(var y=0;0<p--;)y|=ye(u,128)<<p;return y}function I(u,p){var y=Q(u,p);return we(u)?-y:y}function U(u,p,y,j){var T,H=0;for(t(u!=null),t(p!=null),t(4294967288>j),u.Sb=j,u.Ra=0,u.u=0,u.h=0,4<j&&(j=4),T=0;T<j;++T)H+=p[y+T]<<8*T;u.Ra=H,u.bb=j,u.oa=p,u.pa=y}function V(u){for(;8<=u.u&&u.bb<u.Sb;)u.Ra>>>=8,u.Ra+=u.oa[u.pa+u.bb]<<EA-8>>>0,++u.bb,u.u-=8;q(u)&&(u.h=1,u.u=0)}function Z(u,p){if(t(0<=p),!u.h&&p<=SA){var y=G(u)&_A[p];return u.u+=p,V(u),y}return u.h=1,u.u=0}function me(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function F(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function G(u){return u.Ra>>>(u.u&EA-1)>>>0}function q(u){return t(u.bb<=u.Sb),u.h||u.bb==u.Sb&&u.u>EA}function ee(u,p){u.u=p,u.h=q(u)}function se(u){u.u>=vc&&(t(u.u>=vc),V(u))}function Ae(u){t(u!=null&&u.oa!=null),u.pa<u.Zc?(u.I=(u.oa[u.pa++]|u.I<<8)>>>0,u.b+=8):(t(u!=null&&u.oa!=null),u.pa<u.Yc?(u.b+=8,u.I=u.oa[u.pa++]|u.I<<8):u.Ka?u.b=0:(u.I<<=8,u.b+=8,u.Ka=1))}function we(u){return Q(u,1)}function ye(u,p){var y=u.Ca;0>u.b&&Ae(u);var j=u.b,T=y*p>>>8,H=(u.I>>>j>T)+0;for(H?(y-=T,u.I-=T+1<<j>>>0):y=T+1,j=y,T=0;256<=j;)T+=8,j>>=8;return j=7^T+tn[j],u.b-=j,u.Ca=(y<<j)-1,H}function Ie(u,p,y){u[p+0]=y>>24&255,u[p+1]=y>>16&255,u[p+2]=y>>8&255,u[p+3]=y>>0&255}function Ue(u,p){return u[p+0]<<0|u[p+1]<<8}function Pe(u,p){return Ue(u,p)|u[p+2]<<16}function ae(u,p){return Ue(u,p)|Ue(u,p+2)<<16}function De(u,p){var y=1<<p;return t(u!=null),t(0<p),u.X=i(y),u.X==null?0:(u.Mb=32-p,u.Xa=p,1)}function ve(u,p){t(u!=null),t(p!=null),t(u.Xa==p.Xa),s(p.X,0,u.X,0,1<<p.Xa)}function Y(){this.X=[],this.Xa=this.Mb=0}function at(u,p,y,j){t(y!=null),t(j!=null);var T=y[0],H=j[0];return T==0&&(T=(u*H+p/2)/p),H==0&&(H=(p*T+u/2)/u),0>=T||0>=H?0:(y[0]=T,j[0]=H,1)}function ze(u,p){return u+(1<<p)-1>>>p}function Ee(u,p){return((4278255360&u)+(4278255360&p)>>>0&4278255360)+((16711935&u)+(16711935&p)>>>0&16711935)>>>0}function Te(u,p){R[p]=function(y,j,T,H,$,M,z){var J;for(J=0;J<$;++J){var le=R[u](M[z+J-1],T,H+J);M[z+J]=Ee(y[j+J],le)}}}function de(){this.ud=this.hd=this.jd=0}function Oe(u,p){return((4278124286&(u^p))>>>1)+(u&p)>>>0}function rt(u){return 0<=u&&256>u?u:0>u?0:255<u?255:void 0}function tt(u,p){return rt(u+(u-p+.5>>1))}function ut(u,p,y){return Math.abs(p-y)-Math.abs(u-y)}function yt(u,p,y,j,T,H,$){for(j=H[$-1],y=0;y<T;++y)H[$+y]=j=Ee(u[p+y],j)}function Et(u,p,y,j,T){var H;for(H=0;H<y;++H){var $=u[p+H],M=$>>8&255,z=16711935&(z=(z=16711935&$)+((M<<16)+M));j[T+H]=(4278255360&$)+z>>>0}}function Ot(u,p){p.jd=u>>0&255,p.hd=u>>8&255,p.ud=u>>16&255}function dt(u,p,y,j,T,H){var $;for($=0;$<j;++$){var M=p[y+$],z=M>>>8,J=M,le=255&(le=(le=M>>>16)+((u.jd<<24>>24)*(z<<24>>24)>>>5));J=255&(J=(J=J+((u.hd<<24>>24)*(z<<24>>24)>>>5))+((u.ud<<24>>24)*(le<<24>>24)>>>5)),T[H+$]=(4278255360&M)+(le<<16)+J}}function Bt(u,p,y,j,T){R[p]=function(H,$,M,z,J,le,xe,be,pe){for(z=xe;z<be;++z)for(xe=0;xe<pe;++xe)J[le++]=T(M[j(H[$++])])},R[u]=function(H,$,M,z,J,le,xe){var be=8>>H.b,pe=H.Ea,Se=H.K[0],Be=H.w;if(8>be)for(H=(1<<H.b)-1,Be=(1<<be)-1;$<M;++$){var ce,he=0;for(ce=0;ce<pe;++ce)ce&H||(he=j(z[J++])),le[xe++]=T(Se[he&Be]),he>>=be}else R["VP8LMapColor"+y](z,J,Se,Be,le,xe,$,M,pe)}}function $e(u,p,y,j,T){for(y=p+y;p<y;){var H=u[p++];j[T++]=H>>16&255,j[T++]=H>>8&255,j[T++]=H>>0&255}}function ur(u,p,y,j,T){for(y=p+y;p<y;){var H=u[p++];j[T++]=H>>16&255,j[T++]=H>>8&255,j[T++]=H>>0&255,j[T++]=H>>24&255}}function Ft(u,p,y,j,T){for(y=p+y;p<y;){var H=($=u[p++])>>16&240|$>>12&15,$=$>>0&240|$>>28&15;j[T++]=H,j[T++]=$}}function os(u,p,y,j,T){for(y=p+y;p<y;){var H=($=u[p++])>>16&248|$>>13&7,$=$>>5&224|$>>3&31;j[T++]=H,j[T++]=$}}function Lt(u,p,y,j,T){for(y=p+y;p<y;){var H=u[p++];j[T++]=H>>0&255,j[T++]=H>>8&255,j[T++]=H>>16&255}}function Yt(u,p,y,j,T,H){if(H==0)for(y=p+y;p<y;)Ie(j,((H=u[p++])[0]>>24|H[1]>>8&65280|H[2]<<8&16711680|H[3]<<24)>>>0),T+=32;else s(j,T,u,p,y)}function Qn(u,p){R[p][0]=R[u+"0"],R[p][1]=R[u+"1"],R[p][2]=R[u+"2"],R[p][3]=R[u+"3"],R[p][4]=R[u+"4"],R[p][5]=R[u+"5"],R[p][6]=R[u+"6"],R[p][7]=R[u+"7"],R[p][8]=R[u+"8"],R[p][9]=R[u+"9"],R[p][10]=R[u+"10"],R[p][11]=R[u+"11"],R[p][12]=R[u+"12"],R[p][13]=R[u+"13"],R[p][14]=R[u+"0"],R[p][15]=R[u+"0"]}function Ct(u){return u==Wf||u==Jf||u==kd||u==Xf}function Zs(){this.eb=[],this.size=this.A=this.fb=0}function Vt(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Yr(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Zs,this.f.kb=new Vt,this.sd=null}function ta(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function or(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function mt(u){return alert("todo:WebPSamplerProcessPlane"),u.T}function Tt(u,p){var y=u.T,j=p.ba.f.RGBA,T=j.eb,H=j.fb+u.ka*j.A,$=Dn[p.ba.S],M=u.y,z=u.O,J=u.f,le=u.N,xe=u.ea,be=u.W,pe=p.cc,Se=p.dc,Be=p.Mc,ce=p.Nc,he=u.ka,Ce=u.ka+u.T,Fe=u.U,_e=Fe+1>>1;for(he==0?$(M,z,null,null,J,le,xe,be,J,le,xe,be,T,H,null,null,Fe):($(p.ec,p.fc,M,z,pe,Se,Be,ce,J,le,xe,be,T,H-j.A,T,H,Fe),++y);he+2<Ce;he+=2)pe=J,Se=le,Be=xe,ce=be,le+=u.Rc,be+=u.Rc,H+=2*j.A,$(M,(z+=2*u.fa)-u.fa,M,z,pe,Se,Be,ce,J,le,xe,be,T,H-j.A,T,H,Fe);return z+=u.fa,u.j+Ce<u.o?(s(p.ec,p.fc,M,z,Fe),s(p.cc,p.dc,J,le,_e),s(p.Mc,p.Nc,xe,be,_e),y--):1&Ce||$(M,z,null,null,J,le,xe,be,J,le,xe,be,T,H+j.A,null,null,Fe),y}function hn(u,p,y){var j=u.F,T=[u.J];if(j!=null){var H=u.U,$=p.ba.S,M=$==Qd||$==kd;p=p.ba.f.RGBA;var z=[0],J=u.ka;z[0]=u.T,u.Kb&&(J==0?--z[0]:(--J,T[0]-=u.width),u.j+u.ka+u.T==u.o&&(z[0]=u.o-u.j-J));var le=p.eb;J=p.fb+J*p.A,u=er(j,T[0],u.width,H,z,le,J+(M?0:3),p.A),t(y==z),u&&Ct($)&&Rn(le,J,M,H,z,p.A)}return 0}function Ar(u){var p=u.ma,y=p.ba.S,j=11>y,T=y==Fd||y==Ud||y==Qd||y==Gf||y==12||Ct(y);if(p.memory=null,p.Ib=null,p.Jb=null,p.Nd=null,!bc(p.Oa,u,T?11:12))return 0;if(T&&Ct(y)&&ke(),u.da)alert("todo:use_scaling");else{if(j){if(p.Ib=mt,u.Kb){if(y=u.U+1>>1,p.memory=i(u.U+2*y),p.memory==null)return 0;p.ec=p.memory,p.fc=0,p.cc=p.ec,p.dc=p.fc+u.U,p.Mc=p.cc,p.Nc=p.dc+y,p.Ib=Tt,ke()}}else alert("todo:EmitYUV");T&&(p.Jb=hn,j&&ge())}if(j&&!_b){for(u=0;256>u;++u)kN[u]=89858*(u-128)+Ld>>Id,TN[u]=-22014*(u-128)+Ld,LN[u]=-45773*(u-128),IN[u]=113618*(u-128)+Ld>>Id;for(u=Sc;u<ep;++u)p=76283*(u-16)+Ld>>Id,PN[u-Sc]=xn(p,255),RN[u-Sc]=xn(p+8>>4,15);_b=1}return 1}function kn(u){var p=u.ma,y=u.U,j=u.T;return t(!(1&u.ka)),0>=y||0>=j?0:(y=p.Ib(u,p),p.Jb!=null&&p.Jb(u,p,y),p.Dc+=y,1)}function Ts(u){u.ma.memory=null}function ot(u,p,y,j){return Z(u,8)!=47?0:(p[0]=Z(u,14)+1,y[0]=Z(u,14)+1,j[0]=Z(u,1),Z(u,3)!=0?0:!u.h)}function fn(u,p){if(4>u)return u+1;var y=u-2>>1;return(2+(1&u)<<y)+Z(p,y)+1}function pn(u,p){return 120<p?p-120:1<=(y=((y=bN[p-1])>>4)*u+(8-(15&y)))?y:1;var y}function As(u,p,y){var j=G(y),T=u[p+=255&j].g-8;return 0<T&&(ee(y,y.u+8),j=G(y),p+=u[p].value,p+=j&(1<<T)-1),ee(y,y.u+u[p].g),u[p].value}function _r(u,p,y){return y.g+=u.g,y.value+=u.value<<p>>>0,t(8>=y.g),u.g}function zt(u,p,y){var j=u.xc;return t((p=j==0?0:u.vc[u.md*(y>>j)+(p>>j)])<u.Wb),u.Ya[p]}function Ps(u,p,y,j){var T=u.ab,H=u.c*p,$=u.C;p=$+p;var M=y,z=j;for(j=u.Ta,y=u.Ua;0<T--;){var J=u.gc[T],le=$,xe=p,be=M,pe=z,Se=(z=j,M=y,J.Ea);switch(t(le<xe),t(xe<=J.nc),J.hc){case 2:Bd(be,pe,(xe-le)*Se,z,M);break;case 0:var Be=le,ce=xe,he=z,Ce=M,Fe=(Ve=J).Ea;Be==0&&(zf(be,pe,null,null,1,he,Ce),yt(be,pe+1,0,0,Fe-1,he,Ce+1),pe+=Fe,Ce+=Fe,++Be);for(var _e=1<<Ve.b,Je=_e-1,He=ze(Fe,Ve.b),At=Ve.K,Ve=Ve.w+(Be>>Ve.b)*He;Be<ce;){var Rt=At,Ht=Ve,kt=1;for(yc(be,pe,he,Ce-Fe,1,he,Ce);kt<Fe;){var _t=(kt&~Je)+_e;_t>Fe&&(_t=Fe),(0,Ei[Rt[Ht++]>>8&15])(be,pe+ +kt,he,Ce+kt-Fe,_t-kt,he,Ce+kt),kt=_t}pe+=Fe,Ce+=Fe,++Be&Je||(Ve+=He)}xe!=J.nc&&s(z,M-Se,z,M+(xe-le-1)*Se,Se);break;case 1:for(Se=be,ce=pe,Fe=(be=J.Ea)-(Ce=be&~(he=(pe=1<<J.b)-1)),Be=ze(be,J.b),_e=J.K,J=J.w+(le>>J.b)*Be;le<xe;){for(Je=_e,He=J,At=new de,Ve=ce+Ce,Rt=ce+be;ce<Ve;)Ot(Je[He++],At),Fo(At,Se,ce,pe,z,M),ce+=pe,M+=pe;ce<Rt&&(Ot(Je[He++],At),Fo(At,Se,ce,Fe,z,M),ce+=Fe,M+=Fe),++le&he||(J+=Be)}break;case 3:if(be==z&&pe==M&&0<J.b){for(ce=z,be=Se=M+(xe-le)*Se-(Ce=(xe-le)*ze(J.Ea,J.b)),pe=z,he=M,Be=[],Ce=(Fe=Ce)-1;0<=Ce;--Ce)Be[Ce]=pe[he+Ce];for(Ce=Fe-1;0<=Ce;--Ce)ce[be+Ce]=Be[Ce];Ln(J,le,xe,z,Se,z,M)}else Ln(J,le,xe,be,pe,z,M)}M=j,z=y}z!=y&&s(j,y,M,z,H)}function bi(u,p){var y=u.V,j=u.Ba+u.c*u.C,T=p-u.C;if(t(p<=u.l.o),t(16>=T),0<T){var H=u.l,$=u.Ta,M=u.Ua,z=H.width;if(Ps(u,T,y,j),T=M=[M],t((y=u.C)<(j=p)),t(H.v<H.va),j>H.o&&(j=H.o),y<H.j){var J=H.j-y;y=H.j,T[0]+=J*z}if(y>=j?y=0:(T[0]+=4*H.v,H.ka=y-H.j,H.U=H.va-H.v,H.T=j-y,y=1),y){if(M=M[0],11>(y=u.ca).S){var le=y.f.RGBA,xe=(j=y.S,T=H.U,H=H.T,J=le.eb,le.A),be=H;for(le=le.fb+u.Ma*le.A;0<be--;){var pe=$,Se=M,Be=T,ce=J,he=le;switch(j){case Ed:rn(pe,Se,Be,ce,he);break;case Fd:Ds(pe,Se,Be,ce,he);break;case Wf:Ds(pe,Se,Be,ce,he),Rn(ce,he,0,Be,1,0);break;case xb:Wa(pe,Se,Be,ce,he);break;case Ud:Yt(pe,Se,Be,ce,he,1);break;case Jf:Yt(pe,Se,Be,ce,he,1),Rn(ce,he,0,Be,1,0);break;case Qd:Yt(pe,Se,Be,ce,he,0);break;case kd:Yt(pe,Se,Be,ce,he,0),Rn(ce,he,1,Be,1,0);break;case Gf:Fi(pe,Se,Be,ce,he);break;case Xf:Fi(pe,Se,Be,ce,he),Zt(ce,he,Be,1,0);break;case bb:Ga(pe,Se,Be,ce,he);break;default:t(0)}M+=z,le+=xe}u.Ma+=H}else alert("todo:EmitRescaledRowsYUVA");t(u.Ma<=y.height)}}u.C=p,t(u.C<=u.i)}function ra(u){var p;if(0<u.ua)return 0;for(p=0;p<u.Wb;++p){var y=u.Ya[p].G,j=u.Ya[p].H;if(0<y[1][j[1]+0].g||0<y[2][j[2]+0].g||0<y[3][j[3]+0].g)return 0}return 1}function mn(u,p,y,j,T,H){if(u.Z!=0){var $=u.qd,M=u.rd;for(t(Ii[u.Z]!=null);p<y;++p)Ii[u.Z]($,M,j,T,j,T,H),$=j,M=T,T+=H;u.qd=$,u.rd=M}}function gn(u,p){var y=u.l.ma,j=y.Z==0||y.Z==1?u.l.j:u.C;if(j=u.C<j?j:u.C,t(p<=u.l.o),p>j){var T=u.l.width,H=y.ca,$=y.tb+T*j,M=u.V,z=u.Ba+u.c*j,J=u.gc;t(u.ab==1),t(J[0].hc==3),Nd(J[0],j,p,M,z,H,$),mn(y,j,p,H,$,T)}u.C=u.Ma=p}function Rs(u,p,y,j,T,H,$){var M=u.$/j,z=u.$%j,J=u.m,le=u.s,xe=y+u.$,be=xe;T=y+j*T;var pe=y+j*H,Se=280+le.ua,Be=u.Pb?M:16777216,ce=0<le.ua?le.Wa:null,he=le.wc,Ce=xe<pe?zt(le,z,M):null;t(u.C<H),t(pe<=T);var Fe=!1;e:for(;;){for(;Fe||xe<pe;){var _e=0;if(M>=Be){var Je=xe-y;t((Be=u).Pb),Be.wd=Be.m,Be.xd=Je,0<Be.s.ua&&ve(Be.s.Wa,Be.s.vb),Be=M+vN}if(z&he||(Ce=zt(le,z,M)),t(Ce!=null),Ce.Qb&&(p[xe]=Ce.qb,Fe=!0),!Fe)if(se(J),Ce.jc){_e=J,Je=p;var He=xe,At=Ce.pd[G(_e)&us-1];t(Ce.jc),256>At.g?(ee(_e,_e.u+At.g),Je[He]=At.value,_e=0):(ee(_e,_e.u+At.g-256),t(256<=At.value),_e=At.value),_e==0&&(Fe=!0)}else _e=As(Ce.G[0],Ce.H[0],J);if(J.h)break;if(Fe||256>_e){if(!Fe)if(Ce.nd)p[xe]=(Ce.qb|_e<<8)>>>0;else{if(se(J),Fe=As(Ce.G[1],Ce.H[1],J),se(J),Je=As(Ce.G[2],Ce.H[2],J),He=As(Ce.G[3],Ce.H[3],J),J.h)break;p[xe]=(He<<24|Fe<<16|_e<<8|Je)>>>0}if(Fe=!1,++xe,++z>=j&&(z=0,++M,$!=null&&M<=H&&!(M%16)&&$(u,M),ce!=null))for(;be<xe;)_e=p[be++],ce.X[(506832829*_e&4294967295)>>>ce.Mb]=_e}else if(280>_e){if(_e=fn(_e-256,J),Je=As(Ce.G[4],Ce.H[4],J),se(J),Je=pn(j,Je=fn(Je,J)),J.h)break;if(xe-y<Je||T-xe<_e)break e;for(He=0;He<_e;++He)p[xe+He]=p[xe+He-Je];for(xe+=_e,z+=_e;z>=j;)z-=j,++M,$!=null&&M<=H&&!(M%16)&&$(u,M);if(t(xe<=T),z&he&&(Ce=zt(le,z,M)),ce!=null)for(;be<xe;)_e=p[be++],ce.X[(506832829*_e&4294967295)>>>ce.Mb]=_e}else{if(!(_e<Se))break e;for(Fe=_e-280,t(ce!=null);be<xe;)_e=p[be++],ce.X[(506832829*_e&4294967295)>>>ce.Mb]=_e;_e=xe,t(!(Fe>>>(Je=ce).Xa)),p[_e]=Je.X[Fe],Fe=!0}Fe||t(J.h==q(J))}if(u.Pb&&J.h&&xe<T)t(u.m.h),u.a=5,u.m=u.wd,u.$=u.xd,0<u.s.ua&&ve(u.s.vb,u.s.Wa);else{if(J.h)break e;$!=null&&$(u,M>H?H:M),u.a=0,u.$=xe-y}return 1}return u.a=3,0}function en(u){t(u!=null),u.vc=null,u.yc=null,u.Ya=null;var p=u.Wa;p!=null&&(p.X=null),u.vb=null,t(u!=null)}function Os(){var u=new Vf;return u==null?null:(u.a=0,u.xb=yb,Qn("Predictor","VP8LPredictors"),Qn("Predictor","VP8LPredictors_C"),Qn("PredictorAdd","VP8LPredictorsAdd"),Qn("PredictorAdd","VP8LPredictorsAdd_C"),Bd=Et,Fo=dt,rn=$e,Ds=ur,Fi=Ft,Ga=os,Wa=Lt,R.VP8LMapColor32b=FA,R.VP8LMapColor8b=jd,u)}function In(u,p,y,j,T){var H=1,$=[u],M=[p],z=j.m,J=j.s,le=null,xe=0;e:for(;;){if(y)for(;H&&Z(z,1);){var be=$,pe=M,Se=j,Be=1,ce=Se.m,he=Se.gc[Se.ab],Ce=Z(ce,2);if(Se.Oc&1<<Ce)H=0;else{switch(Se.Oc|=1<<Ce,he.hc=Ce,he.Ea=be[0],he.nc=pe[0],he.K=[null],++Se.ab,t(4>=Se.ab),Ce){case 0:case 1:he.b=Z(ce,3)+2,Be=In(ze(he.Ea,he.b),ze(he.nc,he.b),0,Se,he.K),he.K=he.K[0];break;case 3:var Fe,_e=Z(ce,8)+1,Je=16<_e?0:4<_e?1:2<_e?2:3;if(be[0]=ze(he.Ea,Je),he.b=Je,Fe=Be=In(_e,1,0,Se,he.K)){var He,At=_e,Ve=he,Rt=1<<(8>>Ve.b),Ht=i(Rt);if(Ht==null)Fe=0;else{var kt=Ve.K[0],_t=Ve.w;for(Ht[0]=Ve.K[0][0],He=1;He<1*At;++He)Ht[He]=Ee(kt[_t+He],Ht[He-1]);for(;He<4*Rt;++He)Ht[He]=0;Ve.K[0]=null,Ve.K[0]=Ht,Fe=1}}Be=Fe;break;case 2:break;default:t(0)}H=Be}}if($=$[0],M=M[0],H&&Z(z,1)&&!(H=1<=(xe=Z(z,4))&&11>=xe)){j.a=3;break e}var Jt;if(Jt=H)t:{var qt,vt,Rr,sn=j,Or=$,nn=M,$t=xe,wn=y,vn=sn.m,ts=sn.s,ds=[null],$s=1,Hn=0,ka=wN[$t];r:for(;;){if(wn&&Z(vn,1)){var rs=Z(vn,3)+2,Za=ze(Or,rs),Lo=ze(nn,rs),LA=Za*Lo;if(!In(Za,Lo,0,sn,ds))break r;for(ds=ds[0],ts.xc=rs,qt=0;qt<LA;++qt){var Li=ds[qt]>>8&65535;ds[qt]=Li,Li>=$s&&($s=Li+1)}}if(vn.h)break r;for(vt=0;5>vt;++vt){var br=wb[vt];!vt&&0<$t&&(br+=1<<$t),Hn<br&&(Hn=br)}var tp=o($s*ka,L),Fb=$s,Ub=o(Fb,_);if(Ub==null)var Pd=null;else t(65536>=Fb),Pd=Ub;var Ec=i(Hn);if(Pd==null||Ec==null||tp==null){sn.a=1;break r}var Rd=tp;for(qt=Rr=0;qt<$s;++qt){var Aa=Pd[qt],TA=Aa.G,PA=Aa.H,Qb=0,Od=1,kb=0;for(vt=0;5>vt;++vt){br=wb[vt],TA[vt]=Rd,PA[vt]=Rr,!vt&&0<$t&&(br+=1<<$t);n:{var Dd,rp=br,Hd=sn,Fc=Ec,HN=Rd,$N=Rr,sp=0,Ti=Hd.m,MN=Z(Ti,1);if(a(Fc,0,0,rp),MN){var KN=Z(Ti,1)+1,VN=Z(Ti,1),Ib=Z(Ti,VN==0?1:8);Fc[Ib]=1,KN==2&&(Fc[Ib=Z(Ti,8)]=1);var $d=1}else{var Lb=i(19),Tb=Z(Ti,4)+4;if(19<Tb){Hd.a=3;var Md=0;break n}for(Dd=0;Dd<Tb;++Dd)Lb[xN[Dd]]=Z(Ti,3);var np=void 0,Uc=void 0,Pb=Hd,zN=Lb,Kd=rp,Rb=Fc,ap=0,Pi=Pb.m,Ob=8,Db=o(128,L);s:for(;k(Db,0,7,zN,19);){if(Z(Pi,1)){var qN=2+2*Z(Pi,3);if((np=2+Z(Pi,qN))>Kd)break s}else np=Kd;for(Uc=0;Uc<Kd&&np--;){se(Pi);var Hb=Db[0+(127&G(Pi))];ee(Pi,Pi.u+Hb.g);var RA=Hb.value;if(16>RA)Rb[Uc++]=RA,RA!=0&&(Ob=RA);else{var GN=RA==16,$b=RA-16,WN=mN[$b],Mb=Z(Pi,pN[$b])+WN;if(Uc+Mb>Kd)break s;for(var JN=GN?Ob:0;0<Mb--;)Rb[Uc++]=JN}}ap=1;break s}ap||(Pb.a=3),$d=ap}($d=$d&&!Ti.h)&&(sp=k(HN,$N,8,Fc,rp)),$d&&sp!=0?Md=sp:(Hd.a=3,Md=0)}if(Md==0)break r;if(Od&&gN[vt]==1&&(Od=Rd[Rr].g==0),Qb+=Rd[Rr].g,Rr+=Md,3>=vt){var Qc,ip=Ec[0];for(Qc=1;Qc<br;++Qc)Ec[Qc]>ip&&(ip=Ec[Qc]);kb+=ip}}if(Aa.nd=Od,Aa.Qb=0,Od&&(Aa.qb=(TA[3][PA[3]+0].value<<24|TA[1][PA[1]+0].value<<16|TA[2][PA[2]+0].value)>>>0,Qb==0&&256>TA[0][PA[0]+0].value&&(Aa.Qb=1,Aa.qb+=TA[0][PA[0]+0].value<<8)),Aa.jc=!Aa.Qb&&6>kb,Aa.jc){var Vd,ei=Aa;for(Vd=0;Vd<us;++Vd){var Ri=Vd,Oi=ei.pd[Ri],zd=ei.G[0][ei.H[0]+Ri];256<=zd.value?(Oi.g=zd.g+256,Oi.value=zd.value):(Oi.g=0,Oi.value=0,Ri>>=_r(zd,8,Oi),Ri>>=_r(ei.G[1][ei.H[1]+Ri],16,Oi),Ri>>=_r(ei.G[2][ei.H[2]+Ri],0,Oi),_r(ei.G[3][ei.H[3]+Ri],24,Oi))}}}ts.vc=ds,ts.Wb=$s,ts.Ya=Pd,ts.yc=tp,Jt=1;break t}Jt=0}if(!(H=Jt)){j.a=3;break e}if(0<xe){if(J.ua=1<<xe,!De(J.Wa,xe)){j.a=1,H=0;break e}}else J.ua=0;var op=j,Kb=$,XN=M,Ap=op.s,lp=Ap.xc;if(op.c=Kb,op.i=XN,Ap.md=ze(Kb,lp),Ap.wc=lp==0?-1:(1<<lp)-1,y){j.xb=SN;break e}if((le=i($*M))==null){j.a=1,H=0;break e}H=(H=Rs(j,le,0,$,M,M,null))&&!z.h;break e}return H?(T!=null?T[0]=le:(t(le==null),t(y)),j.$=0,y||en(J)):en(J),H}function wi(u,p){var y=u.c*u.i,j=y+p+16*p;return t(u.c<=p),u.V=i(j),u.V==null?(u.Ta=null,u.Ua=0,u.a=1,0):(u.Ta=u.V,u.Ua=u.Ba+y+p,1)}function vi(u,p){var y=u.C,j=p-y,T=u.V,H=u.Ba+u.c*y;for(t(p<=u.l.o);0<j;){var $=16<j?16:j,M=u.l.ma,z=u.l.width,J=z*$,le=M.ca,xe=M.tb+z*y,be=u.Ta,pe=u.Ua;Ps(u,$,T,H),Er(be,pe,le,xe,J),mn(M,y,y+$,le,xe,z),j-=$,T+=$*u.c,y+=$}t(y==p),u.C=u.Ma=p}function yi(){this.ub=this.yd=this.td=this.Rb=0}function sa(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Bi(){this.Fb=this.Bb=this.Cb=0,this.Zb=i(4),this.Lb=i(4)}function gA(){this.Yb=function(){var u=[];return function p(y,j,T){for(var H=T[j],$=0;$<H&&(y.push(T.length>j+1?[]:0),!(T.length<j+1));$++)p(y[$],j+1,T)}(u,0,[3,11]),u}()}function tc(){this.jb=i(3),this.Wc=A([4,8],gA),this.Xc=A([4,17],gA)}function rc(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new i(4),this.od=new i(4)}function za(){this.ld=this.La=this.dd=this.tc=0}function xA(){this.Na=this.la=0}function sc(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Bo(){this.ad=i(384),this.Za=0,this.Ob=i(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function nc(){this.uc=this.M=this.Nb=0,this.wa=Array(new za),this.Y=0,this.ya=Array(new Bo),this.aa=0,this.l=new No}function bA(){this.y=i(16),this.f=i(8),this.ea=i(8)}function dd(){this.cb=this.a=0,this.sc="",this.m=new me,this.Od=new yi,this.Kc=new sa,this.ed=new rc,this.Qa=new Bi,this.Ic=this.$c=this.Aa=0,this.D=new nc,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,me),this.ia=0,this.pb=o(4,sc),this.Pa=new tc,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new bA),this.Hd=0,this.rb=Array(new xA),this.sb=0,this.wa=Array(new za),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Bo),this.L=this.aa=0,this.gd=A([4,2],za),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function No(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function ac(){var u=new dd;return u!=null&&(u.a=0,u.sc="OK",u.cb=0,u.Xb=0,_c||(_c=Qe)),u}function ie(u,p,y){return u.a==0&&(u.a=p,u.sc=y,u.cb=0),0}function fe(u,p,y){return 3<=y&&u[p+0]==157&&u[p+1]==1&&u[p+2]==42}function ue(u,p){if(u==null)return 0;if(u.a=0,u.sc="OK",p==null)return ie(u,2,"null VP8Io passed to VP8GetHeaders()");var y=p.data,j=p.w,T=p.ha;if(4>T)return ie(u,7,"Truncated header.");var H=y[j+0]|y[j+1]<<8|y[j+2]<<16,$=u.Od;if($.Rb=!(1&H),$.td=H>>1&7,$.yd=H>>4&1,$.ub=H>>5,3<$.td)return ie(u,3,"Incorrect keyframe parameters.");if(!$.yd)return ie(u,4,"Frame not displayable.");j+=3,T-=3;var M=u.Kc;if($.Rb){if(7>T)return ie(u,7,"cannot parse picture header");if(!fe(y,j,T))return ie(u,3,"Bad code word");M.c=16383&(y[j+4]<<8|y[j+3]),M.Td=y[j+4]>>6,M.i=16383&(y[j+6]<<8|y[j+5]),M.Ud=y[j+6]>>6,j+=7,T-=7,u.za=M.c+15>>4,u.Ub=M.i+15>>4,p.width=M.c,p.height=M.i,p.Da=0,p.j=0,p.v=0,p.va=p.width,p.o=p.height,p.da=0,p.ib=p.width,p.hb=p.height,p.U=p.width,p.T=p.height,a((H=u.Pa).jb,0,255,H.jb.length),t((H=u.Qa)!=null),H.Cb=0,H.Bb=0,H.Fb=1,a(H.Zb,0,0,H.Zb.length),a(H.Lb,0,0,H.Lb)}if($.ub>T)return ie(u,7,"bad partition length");K(H=u.m,y,j,$.ub),j+=$.ub,T-=$.ub,$.Rb&&(M.Ld=we(H),M.Kd=we(H)),M=u.Qa;var z,J=u.Pa;if(t(H!=null),t(M!=null),M.Cb=we(H),M.Cb){if(M.Bb=we(H),we(H)){for(M.Fb=we(H),z=0;4>z;++z)M.Zb[z]=we(H)?I(H,7):0;for(z=0;4>z;++z)M.Lb[z]=we(H)?I(H,6):0}if(M.Bb)for(z=0;3>z;++z)J.jb[z]=we(H)?Q(H,8):255}else M.Bb=0;if(H.Ka)return ie(u,3,"cannot parse segment header");if((M=u.ed).zd=we(H),M.Tb=Q(H,6),M.wb=Q(H,3),M.Pc=we(H),M.Pc&&we(H)){for(J=0;4>J;++J)we(H)&&(M.vd[J]=I(H,6));for(J=0;4>J;++J)we(H)&&(M.od[J]=I(H,6))}if(u.L=M.Tb==0?0:M.zd?1:2,H.Ka)return ie(u,3,"cannot parse filter header");var le=T;if(T=z=j,j=z+le,M=le,u.Xb=(1<<Q(u.m,2))-1,le<3*(J=u.Xb))y=7;else{for(z+=3*J,M-=3*J,le=0;le<J;++le){var xe=y[T+0]|y[T+1]<<8|y[T+2]<<16;xe>M&&(xe=M),K(u.Jc[+le],y,z,xe),z+=xe,M-=xe,T+=3}K(u.Jc[+J],y,z,M),y=z<j?0:5}if(y!=0)return ie(u,y,"cannot parse partitions");for(y=Q(z=u.m,7),T=we(z)?I(z,4):0,j=we(z)?I(z,4):0,M=we(z)?I(z,4):0,J=we(z)?I(z,4):0,z=we(z)?I(z,4):0,le=u.Qa,xe=0;4>xe;++xe){if(le.Cb){var be=le.Zb[xe];le.Fb||(be+=y)}else{if(0<xe){u.pb[xe]=u.pb[0];continue}be=y}var pe=u.pb[xe];pe.Sc[0]=Yf[xn(be+T,127)],pe.Sc[1]=Zf[xn(be+0,127)],pe.Eb[0]=2*Yf[xn(be+j,127)],pe.Eb[1]=101581*Zf[xn(be+M,127)]>>16,8>pe.Eb[1]&&(pe.Eb[1]=8),pe.Qc[0]=Yf[xn(be+J,117)],pe.Qc[1]=Zf[xn(be+z,127)],pe.lc=be+z}if(!$.Rb)return ie(u,4,"Not a key frame.");for(we(H),$=u.Pa,y=0;4>y;++y){for(T=0;8>T;++T)for(j=0;3>j;++j)for(M=0;11>M;++M)J=ye(H,CN[y][T][j][M])?Q(H,8):NN[y][T][j][M],$.Wc[y][T].Yb[j][M]=J;for(T=0;17>T;++T)$.Xc[y][T]=$.Wc[y][_N[T]]}return u.kc=we(H),u.kc&&(u.Bd=Q(H,8)),u.cb=1}function Qe(u,p,y,j,T,H,$){var M=p[T].Yb[y];for(y=0;16>T;++T){if(!ye(u,M[y+0]))return T;for(;!ye(u,M[y+1]);)if(M=p[++T].Yb[0],y=0,T==16)return 16;var z=p[T+1].Yb;if(ye(u,M[y+2])){var J=u,le=0;if(ye(J,(be=M)[(xe=y)+3]))if(ye(J,be[xe+6])){for(M=0,xe=2*(le=ye(J,be[xe+8]))+(be=ye(J,be[xe+9+le])),le=0,be=yN[xe];be[M];++M)le+=le+ye(J,be[M]);le+=3+(8<<xe)}else ye(J,be[xe+7])?(le=7+2*ye(J,165),le+=ye(J,145)):le=5+ye(J,159);else le=ye(J,be[xe+4])?3+ye(J,be[xe+5]):2;M=z[2]}else le=1,M=z[1];z=$+BN[T],0>(J=u).b&&Ae(J);var xe,be=J.b,pe=(xe=J.Ca>>1)-(J.I>>be)>>31;--J.b,J.Ca+=pe,J.Ca|=1,J.I-=(xe+1&pe)<<be,H[z]=((le^pe)-pe)*j[(0<T)+0]}return 16}function Ye(u){var p=u.rb[u.sb-1];p.la=0,p.Na=0,a(u.zc,0,0,u.zc.length),u.ja=0}function re(u,p){if(u==null)return 0;if(p==null)return ie(u,2,"NULL VP8Io parameter in VP8Decode().");if(!u.cb&&!ue(u,p))return 0;if(t(u.cb),p.ac==null||p.ac(p)){p.ob&&(u.L=0);var y=Td[u.L];if(u.L==2?(u.yb=0,u.zb=0):(u.yb=p.v-y>>4,u.zb=p.j-y>>4,0>u.yb&&(u.yb=0),0>u.zb&&(u.zb=0)),u.Va=p.o+15+y>>4,u.Hb=p.va+15+y>>4,u.Hb>u.za&&(u.Hb=u.za),u.Va>u.Ub&&(u.Va=u.Ub),0<u.L){var j=u.ed;for(y=0;4>y;++y){var T;if(u.Qa.Cb){var H=u.Qa.Lb[y];u.Qa.Fb||(H+=j.Tb)}else H=j.Tb;for(T=0;1>=T;++T){var $=u.gd[y][T],M=H;if(j.Pc&&(M+=j.vd[0],T&&(M+=j.od[0])),0<(M=0>M?0:63<M?63:M)){var z=M;0<j.wb&&(z=4<j.wb?z>>2:z>>1)>9-j.wb&&(z=9-j.wb),1>z&&(z=1),$.dd=z,$.tc=2*M+z,$.ld=40<=M?2:15<=M?1:0}else $.tc=0;$.La=T}}}y=0}else ie(u,6,"Frame setup failed"),y=u.a;if(y=y==0){if(y){u.$c=0,0<u.Aa||(u.Ic=DN);e:{y=u.Ic,j=4*(z=u.za);var J=32*z,le=z+1,xe=0<u.L?z*(0<u.Aa?2:1):0,be=(u.Aa==2?2:1)*z;if(($=j+832+(T=3*(16*y+Td[u.L])/2*J)+(H=u.Fa!=null&&0<u.Fa.length?u.Kc.c*u.Kc.i:0))!=$)y=0;else{if($>u.Vb){if(u.Vb=0,u.Ec=i($),u.Fc=0,u.Ec==null){y=ie(u,1,"no memory during frame initialization.");break e}u.Vb=$}$=u.Ec,M=u.Fc,u.Ac=$,u.Bc=M,M+=j,u.Gd=o(J,bA),u.Hd=0,u.rb=o(le+1,xA),u.sb=1,u.wa=xe?o(xe,za):null,u.Y=0,u.D.Nb=0,u.D.wa=u.wa,u.D.Y=u.Y,0<u.Aa&&(u.D.Y+=z),t(!0),u.oc=$,u.pc=M,M+=832,u.ya=o(be,Bo),u.aa=0,u.D.ya=u.ya,u.D.aa=u.aa,u.Aa==2&&(u.D.aa+=z),u.R=16*z,u.B=8*z,z=(J=Td[u.L])*u.R,J=J/2*u.B,u.sa=$,u.ta=M+z,u.qa=u.sa,u.ra=u.ta+16*y*u.R+J,u.Ha=u.qa,u.Ia=u.ra+8*y*u.B+J,u.$c=0,M+=T,u.mb=H?$:null,u.nb=H?M:null,t(M+H<=u.Fc+u.Vb),Ye(u),a(u.Ac,u.Bc,0,j),y=1}}if(y){if(p.ka=0,p.y=u.sa,p.O=u.ta,p.f=u.qa,p.N=u.ra,p.ea=u.Ha,p.Vd=u.Ia,p.fa=u.R,p.Rc=u.B,p.F=null,p.J=0,!_d){for(y=-255;255>=y;++y)zr[255+y]=0>y?-y:y;for(y=-1020;1020>=y;++y)Xa[1020+y]=-128>y?-128:127<y?127:y;for(y=-112;112>=y;++y)Cc[112+y]=-16>y?-16:15<y?15:y;for(y=-255;510>=y;++y)IA[255+y]=0>y?0:255<y?255:y;_d=1}UA=cs,Ja=gr,Bc=ls,Hs=Tr,Tn=Zr,Sr=Qt,QA=cc,Cd=So,Nc=Kf,Uo=uc,Qo=Mf,Ui=yA,ko=dc,kA=wd,Io=bd,Qi=Ua,jc=qa,Pn=$f,oa[0]=Fa,oa[1]=Sa,oa[2]=Tf,oa[3]=Pf,oa[4]=fd,oa[5]=wA,oa[6]=pd,oa[7]=oc,oa[8]=Of,oa[9]=Rf,ki[0]=ji,ki[1]=jo,ki[2]=na,ki[3]=Ea,ki[4]=vs,ki[5]=Lf,ki[6]=hd,Ya[0]=Ci,Ya[1]=ic,Ya[2]=Df,Ya[3]=Ac,Ya[4]=_o,Ya[5]=Hf,Ya[6]=lc,y=1}else y=0}y&&(y=function(pe,Se){for(pe.M=0;pe.M<pe.Va;++pe.M){var Be,ce=pe.Jc[pe.M&pe.Xb],he=pe.m,Ce=pe;for(Be=0;Be<Ce.za;++Be){var Fe=he,_e=Ce,Je=_e.Ac,He=_e.Bc+4*Be,At=_e.zc,Ve=_e.ya[_e.aa+Be];if(_e.Qa.Bb?Ve.$b=ye(Fe,_e.Pa.jb[0])?2+ye(Fe,_e.Pa.jb[2]):ye(Fe,_e.Pa.jb[1]):Ve.$b=0,_e.kc&&(Ve.Ad=ye(Fe,_e.Bd)),Ve.Za=!ye(Fe,145)+0,Ve.Za){var Rt=Ve.Ob,Ht=0;for(_e=0;4>_e;++_e){var kt,_t=At[0+_e];for(kt=0;4>kt;++kt){_t=jN[Je[He+kt]][_t];for(var Jt=vb[ye(Fe,_t[0])];0<Jt;)Jt=vb[2*Jt+ye(Fe,_t[Jt])];_t=-Jt,Je[He+kt]=_t}s(Rt,Ht,Je,He,4),Ht+=4,At[0+_e]=_t}}else _t=ye(Fe,156)?ye(Fe,128)?1:3:ye(Fe,163)?2:0,Ve.Ob[0]=_t,a(Je,He,_t,4),a(At,0,_t,4);Ve.Dd=ye(Fe,142)?ye(Fe,114)?ye(Fe,183)?1:3:2:0}if(Ce.m.Ka)return ie(pe,7,"Premature end-of-partition0 encountered.");for(;pe.ja<pe.za;++pe.ja){if(Ce=ce,Fe=(he=pe).rb[he.sb-1],Je=he.rb[he.sb+he.ja],Be=he.ya[he.aa+he.ja],He=he.kc?Be.Ad:0)Fe.la=Je.la=0,Be.Za||(Fe.Na=Je.Na=0),Be.Hc=0,Be.Gc=0,Be.ia=0;else{var qt,vt;if(Fe=Je,Je=Ce,He=he.Pa.Xc,At=he.ya[he.aa+he.ja],Ve=he.pb[At.$b],_e=At.ad,Rt=0,Ht=he.rb[he.sb-1],_t=kt=0,a(_e,Rt,0,384),At.Za)var Rr=0,sn=He[3];else{Jt=i(16);var Or=Fe.Na+Ht.Na;if(Or=_c(Je,He[1],Or,Ve.Eb,0,Jt,0),Fe.Na=Ht.Na=(0<Or)+0,1<Or)UA(Jt,0,_e,Rt);else{var nn=Jt[0]+3>>3;for(Jt=0;256>Jt;Jt+=16)_e[Rt+Jt]=nn}Rr=1,sn=He[0]}var $t=15&Fe.la,wn=15&Ht.la;for(Jt=0;4>Jt;++Jt){var vn=1&wn;for(nn=vt=0;4>nn;++nn)$t=$t>>1|(vn=(Or=_c(Je,sn,Or=vn+(1&$t),Ve.Sc,Rr,_e,Rt))>Rr)<<7,vt=vt<<2|(3<Or?3:1<Or?2:_e[Rt+0]!=0),Rt+=16;$t>>=4,wn=wn>>1|vn<<7,kt=(kt<<8|vt)>>>0}for(sn=$t,Rr=wn>>4,qt=0;4>qt;qt+=2){for(vt=0,$t=Fe.la>>4+qt,wn=Ht.la>>4+qt,Jt=0;2>Jt;++Jt){for(vn=1&wn,nn=0;2>nn;++nn)Or=vn+(1&$t),$t=$t>>1|(vn=0<(Or=_c(Je,He[2],Or,Ve.Qc,0,_e,Rt)))<<3,vt=vt<<2|(3<Or?3:1<Or?2:_e[Rt+0]!=0),Rt+=16;$t>>=2,wn=wn>>1|vn<<5}_t|=vt<<4*qt,sn|=$t<<4<<qt,Rr|=(240&wn)<<qt}Fe.la=sn,Ht.la=Rr,At.Hc=kt,At.Gc=_t,At.ia=43690&_t?0:Ve.ia,He=!(kt|_t)}if(0<he.L&&(he.wa[he.Y+he.ja]=he.gd[Be.$b][Be.Za],he.wa[he.Y+he.ja].La|=!He),Ce.Ka)return ie(pe,7,"Premature end-of-file encountered.")}if(Ye(pe),he=Se,Ce=1,Be=(ce=pe).D,Fe=0<ce.L&&ce.M>=ce.zb&&ce.M<=ce.Va,ce.Aa==0)e:{if(Be.M=ce.M,Be.uc=Fe,xc(ce,Be),Ce=1,Be=(vt=ce.D).Nb,Fe=(_t=Td[ce.L])*ce.R,Je=_t/2*ce.B,Jt=16*Be*ce.R,nn=8*Be*ce.B,He=ce.sa,At=ce.ta-Fe+Jt,Ve=ce.qa,_e=ce.ra-Je+nn,Rt=ce.Ha,Ht=ce.Ia-Je+nn,wn=($t=vt.M)==0,kt=$t>=ce.Va-1,ce.Aa==2&&xc(ce,vt),vt.uc)for(vn=(Or=ce).D.M,t(Or.D.uc),vt=Or.yb;vt<Or.Hb;++vt){Rr=vt,sn=vn;var ts=(ds=(br=Or).D).Nb;qt=br.R;var ds=ds.wa[ds.Y+Rr],$s=br.sa,Hn=br.ta+16*ts*qt+16*Rr,ka=ds.dd,rs=ds.tc;if(rs!=0)if(t(3<=rs),br.L==1)0<Rr&&Qi($s,Hn,qt,rs+4),ds.La&&Pn($s,Hn,qt,rs),0<sn&&Io($s,Hn,qt,rs+4),ds.La&&jc($s,Hn,qt,rs);else{var Za=br.B,Lo=br.qa,LA=br.ra+8*ts*Za+8*Rr,Li=br.Ha,br=br.Ia+8*ts*Za+8*Rr;ts=ds.ld,0<Rr&&(Cd($s,Hn,qt,rs+4,ka,ts),Uo(Lo,LA,Li,br,Za,rs+4,ka,ts)),ds.La&&(Ui($s,Hn,qt,rs,ka,ts),kA(Lo,LA,Li,br,Za,rs,ka,ts)),0<sn&&(QA($s,Hn,qt,rs+4,ka,ts),Nc(Lo,LA,Li,br,Za,rs+4,ka,ts)),ds.La&&(Qo($s,Hn,qt,rs,ka,ts),ko(Lo,LA,Li,br,Za,rs,ka,ts))}}if(ce.ia&&alert("todo:DitherRow"),he.put!=null){if(vt=16*$t,$t=16*($t+1),wn?(he.y=ce.sa,he.O=ce.ta+Jt,he.f=ce.qa,he.N=ce.ra+nn,he.ea=ce.Ha,he.W=ce.Ia+nn):(vt-=_t,he.y=He,he.O=At,he.f=Ve,he.N=_e,he.ea=Rt,he.W=Ht),kt||($t-=_t),$t>he.o&&($t=he.o),he.F=null,he.J=null,ce.Fa!=null&&0<ce.Fa.length&&vt<$t&&(he.J=mc(ce,he,vt,$t-vt),he.F=ce.mb,he.F==null&&he.F.length==0)){Ce=ie(ce,3,"Could not decode alpha data.");break e}vt<he.j&&(_t=he.j-vt,vt=he.j,t(!(1&_t)),he.O+=ce.R*_t,he.N+=ce.B*(_t>>1),he.W+=ce.B*(_t>>1),he.F!=null&&(he.J+=he.width*_t)),vt<$t&&(he.O+=he.v,he.N+=he.v>>1,he.W+=he.v>>1,he.F!=null&&(he.J+=he.v),he.ka=vt-he.j,he.U=he.va-he.v,he.T=$t-vt,Ce=he.put(he))}Be+1!=ce.Ic||kt||(s(ce.sa,ce.ta-Fe,He,At+16*ce.R,Fe),s(ce.qa,ce.ra-Je,Ve,_e+8*ce.B,Je),s(ce.Ha,ce.Ia-Je,Rt,Ht+8*ce.B,Je))}if(!Ce)return ie(pe,6,"Output aborted.")}return 1}(u,p)),p.bc!=null&&p.bc(p),y&=1}return y?(u.cb=0,y):0}function Ke(u,p,y,j,T){T=u[p+y+32*j]+(T>>3),u[p+y+32*j]=-256&T?0>T?0:255:T}function Re(u,p,y,j,T,H){Ke(u,p,0,y,j+T),Ke(u,p,1,y,j+H),Ke(u,p,2,y,j-H),Ke(u,p,3,y,j-T)}function Me(u){return(20091*u>>16)+u}function it(u,p,y,j){var T,H=0,$=i(16);for(T=0;4>T;++T){var M=u[p+0]+u[p+8],z=u[p+0]-u[p+8],J=(35468*u[p+4]>>16)-Me(u[p+12]),le=Me(u[p+4])+(35468*u[p+12]>>16);$[H+0]=M+le,$[H+1]=z+J,$[H+2]=z-J,$[H+3]=M-le,H+=4,p++}for(T=H=0;4>T;++T)M=(u=$[H+0]+4)+$[H+8],z=u-$[H+8],J=(35468*$[H+4]>>16)-Me($[H+12]),Ke(y,j,0,0,M+(le=Me($[H+4])+(35468*$[H+12]>>16))),Ke(y,j,1,0,z+J),Ke(y,j,2,0,z-J),Ke(y,j,3,0,M-le),H++,j+=32}function Qt(u,p,y,j){var T=u[p+0]+4,H=35468*u[p+4]>>16,$=Me(u[p+4]),M=35468*u[p+1]>>16;Re(y,j,0,T+$,u=Me(u[p+1]),M),Re(y,j,1,T+H,u,M),Re(y,j,2,T-H,u,M),Re(y,j,3,T-$,u,M)}function gr(u,p,y,j,T){it(u,p,y,j),T&&it(u,p+16,y,j+4)}function ls(u,p,y,j){Ja(u,p+0,y,j,1),Ja(u,p+32,y,j+128,1)}function Tr(u,p,y,j){var T;for(u=u[p+0]+4,T=0;4>T;++T)for(p=0;4>p;++p)Ke(y,j,p,T,u)}function Zr(u,p,y,j){u[p+0]&&Hs(u,p+0,y,j),u[p+16]&&Hs(u,p+16,y,j+4),u[p+32]&&Hs(u,p+32,y,j+128),u[p+48]&&Hs(u,p+48,y,j+128+4)}function cs(u,p,y,j){var T,H=i(16);for(T=0;4>T;++T){var $=u[p+0+T]+u[p+12+T],M=u[p+4+T]+u[p+8+T],z=u[p+4+T]-u[p+8+T],J=u[p+0+T]-u[p+12+T];H[0+T]=$+M,H[8+T]=$-M,H[4+T]=J+z,H[12+T]=J-z}for(T=0;4>T;++T)$=(u=H[0+4*T]+3)+H[3+4*T],M=H[1+4*T]+H[2+4*T],z=H[1+4*T]-H[2+4*T],J=u-H[3+4*T],y[j+0]=$+M>>3,y[j+16]=J+z>>3,y[j+32]=$-M>>3,y[j+48]=J-z>>3,j+=64}function Vr(u,p,y){var j,T=p-32,H=bn,$=255-u[T-1];for(j=0;j<y;++j){var M,z=H,J=$+u[p-1];for(M=0;M<y;++M)u[p+M]=z[J+u[T+M]];p+=32}}function Sa(u,p){Vr(u,p,4)}function ic(u,p){Vr(u,p,8)}function jo(u,p){Vr(u,p,16)}function na(u,p){var y;for(y=0;16>y;++y)s(u,p+32*y,u,p-32,16)}function Ea(u,p){var y;for(y=16;0<y;--y)a(u,p,u[p-1],16),p+=32}function Ni(u,p,y){var j;for(j=0;16>j;++j)a(p,y+32*j,u,16)}function ji(u,p){var y,j=16;for(y=0;16>y;++y)j+=u[p-1+32*y]+u[p+y-32];Ni(j>>5,u,p)}function vs(u,p){var y,j=8;for(y=0;16>y;++y)j+=u[p-1+32*y];Ni(j>>4,u,p)}function Lf(u,p){var y,j=8;for(y=0;16>y;++y)j+=u[p+y-32];Ni(j>>4,u,p)}function hd(u,p){Ni(128,u,p)}function gt(u,p,y){return u+2*p+y+2>>2}function Tf(u,p){var y,j=p-32;for(j=new Uint8Array([gt(u[j-1],u[j+0],u[j+1]),gt(u[j+0],u[j+1],u[j+2]),gt(u[j+1],u[j+2],u[j+3]),gt(u[j+2],u[j+3],u[j+4])]),y=0;4>y;++y)s(u,p+32*y,j,0,j.length)}function Pf(u,p){var y=u[p-1],j=u[p-1+32],T=u[p-1+64],H=u[p-1+96];Ie(u,p+0,16843009*gt(u[p-1-32],y,j)),Ie(u,p+32,16843009*gt(y,j,T)),Ie(u,p+64,16843009*gt(j,T,H)),Ie(u,p+96,16843009*gt(T,H,H))}function Fa(u,p){var y,j=4;for(y=0;4>y;++y)j+=u[p+y-32]+u[p-1+32*y];for(j>>=3,y=0;4>y;++y)a(u,p+32*y,j,4)}function fd(u,p){var y=u[p-1+0],j=u[p-1+32],T=u[p-1+64],H=u[p-1-32],$=u[p+0-32],M=u[p+1-32],z=u[p+2-32],J=u[p+3-32];u[p+0+96]=gt(j,T,u[p-1+96]),u[p+1+96]=u[p+0+64]=gt(y,j,T),u[p+2+96]=u[p+1+64]=u[p+0+32]=gt(H,y,j),u[p+3+96]=u[p+2+64]=u[p+1+32]=u[p+0+0]=gt($,H,y),u[p+3+64]=u[p+2+32]=u[p+1+0]=gt(M,$,H),u[p+3+32]=u[p+2+0]=gt(z,M,$),u[p+3+0]=gt(J,z,M)}function pd(u,p){var y=u[p+1-32],j=u[p+2-32],T=u[p+3-32],H=u[p+4-32],$=u[p+5-32],M=u[p+6-32],z=u[p+7-32];u[p+0+0]=gt(u[p+0-32],y,j),u[p+1+0]=u[p+0+32]=gt(y,j,T),u[p+2+0]=u[p+1+32]=u[p+0+64]=gt(j,T,H),u[p+3+0]=u[p+2+32]=u[p+1+64]=u[p+0+96]=gt(T,H,$),u[p+3+32]=u[p+2+64]=u[p+1+96]=gt(H,$,M),u[p+3+64]=u[p+2+96]=gt($,M,z),u[p+3+96]=gt(M,z,z)}function wA(u,p){var y=u[p-1+0],j=u[p-1+32],T=u[p-1+64],H=u[p-1-32],$=u[p+0-32],M=u[p+1-32],z=u[p+2-32],J=u[p+3-32];u[p+0+0]=u[p+1+64]=H+$+1>>1,u[p+1+0]=u[p+2+64]=$+M+1>>1,u[p+2+0]=u[p+3+64]=M+z+1>>1,u[p+3+0]=z+J+1>>1,u[p+0+96]=gt(T,j,y),u[p+0+64]=gt(j,y,H),u[p+0+32]=u[p+1+96]=gt(y,H,$),u[p+1+32]=u[p+2+96]=gt(H,$,M),u[p+2+32]=u[p+3+96]=gt($,M,z),u[p+3+32]=gt(M,z,J)}function oc(u,p){var y=u[p+0-32],j=u[p+1-32],T=u[p+2-32],H=u[p+3-32],$=u[p+4-32],M=u[p+5-32],z=u[p+6-32],J=u[p+7-32];u[p+0+0]=y+j+1>>1,u[p+1+0]=u[p+0+64]=j+T+1>>1,u[p+2+0]=u[p+1+64]=T+H+1>>1,u[p+3+0]=u[p+2+64]=H+$+1>>1,u[p+0+32]=gt(y,j,T),u[p+1+32]=u[p+0+96]=gt(j,T,H),u[p+2+32]=u[p+1+96]=gt(T,H,$),u[p+3+32]=u[p+2+96]=gt(H,$,M),u[p+3+64]=gt($,M,z),u[p+3+96]=gt(M,z,J)}function Rf(u,p){var y=u[p-1+0],j=u[p-1+32],T=u[p-1+64],H=u[p-1+96];u[p+0+0]=y+j+1>>1,u[p+2+0]=u[p+0+32]=j+T+1>>1,u[p+2+32]=u[p+0+64]=T+H+1>>1,u[p+1+0]=gt(y,j,T),u[p+3+0]=u[p+1+32]=gt(j,T,H),u[p+3+32]=u[p+1+64]=gt(T,H,H),u[p+3+64]=u[p+2+64]=u[p+0+96]=u[p+1+96]=u[p+2+96]=u[p+3+96]=H}function Of(u,p){var y=u[p-1+0],j=u[p-1+32],T=u[p-1+64],H=u[p-1+96],$=u[p-1-32],M=u[p+0-32],z=u[p+1-32],J=u[p+2-32];u[p+0+0]=u[p+2+32]=y+$+1>>1,u[p+0+32]=u[p+2+64]=j+y+1>>1,u[p+0+64]=u[p+2+96]=T+j+1>>1,u[p+0+96]=H+T+1>>1,u[p+3+0]=gt(M,z,J),u[p+2+0]=gt($,M,z),u[p+1+0]=u[p+3+32]=gt(y,$,M),u[p+1+32]=u[p+3+64]=gt(j,y,$),u[p+1+64]=u[p+3+96]=gt(T,j,y),u[p+1+96]=gt(H,T,j)}function Df(u,p){var y;for(y=0;8>y;++y)s(u,p+32*y,u,p-32,8)}function Ac(u,p){var y;for(y=0;8>y;++y)a(u,p,u[p-1],8),p+=32}function Co(u,p,y){var j;for(j=0;8>j;++j)a(p,y+32*j,u,8)}function Ci(u,p){var y,j=8;for(y=0;8>y;++y)j+=u[p+y-32]+u[p-1+32*y];Co(j>>4,u,p)}function Hf(u,p){var y,j=4;for(y=0;8>y;++y)j+=u[p+y-32];Co(j>>3,u,p)}function _o(u,p){var y,j=4;for(y=0;8>y;++y)j+=u[p-1+32*y];Co(j>>3,u,p)}function lc(u,p){Co(128,u,p)}function vA(u,p,y){var j=u[p-y],T=u[p+0],H=3*(T-j)+qf[1020+u[p-2*y]-u[p+y]],$=Sd[112+(H+4>>3)];u[p-y]=bn[255+j+Sd[112+(H+3>>3)]],u[p+0]=bn[255+T-$]}function md(u,p,y,j){var T=u[p+0],H=u[p+y];return On[255+u[p-2*y]-u[p-y]]>j||On[255+H-T]>j}function gd(u,p,y,j){return 4*On[255+u[p-y]-u[p+0]]+On[255+u[p-2*y]-u[p+y]]<=j}function xd(u,p,y,j,T){var H=u[p-3*y],$=u[p-2*y],M=u[p-y],z=u[p+0],J=u[p+y],le=u[p+2*y],xe=u[p+3*y];return 4*On[255+M-z]+On[255+$-J]>j?0:On[255+u[p-4*y]-H]<=T&&On[255+H-$]<=T&&On[255+$-M]<=T&&On[255+xe-le]<=T&&On[255+le-J]<=T&&On[255+J-z]<=T}function bd(u,p,y,j){var T=2*j+1;for(j=0;16>j;++j)gd(u,p+j,y,T)&&vA(u,p+j,y)}function Ua(u,p,y,j){var T=2*j+1;for(j=0;16>j;++j)gd(u,p+j*y,1,T)&&vA(u,p+j*y,1)}function qa(u,p,y,j){var T;for(T=3;0<T;--T)bd(u,p+=4*y,y,j)}function $f(u,p,y,j){var T;for(T=3;0<T;--T)Ua(u,p+=4,y,j)}function _i(u,p,y,j,T,H,$,M){for(H=2*H+1;0<T--;){if(xd(u,p,y,H,$))if(md(u,p,y,M))vA(u,p,y);else{var z=u,J=p,le=y,xe=z[J-2*le],be=z[J-le],pe=z[J+0],Se=z[J+le],Be=z[J+2*le],ce=27*(Ce=qf[1020+3*(pe-be)+qf[1020+xe-Se]])+63>>7,he=18*Ce+63>>7,Ce=9*Ce+63>>7;z[J-3*le]=bn[255+z[J-3*le]+Ce],z[J-2*le]=bn[255+xe+he],z[J-le]=bn[255+be+ce],z[J+0]=bn[255+pe-ce],z[J+le]=bn[255+Se-he],z[J+2*le]=bn[255+Be-Ce]}p+=j}}function aa(u,p,y,j,T,H,$,M){for(H=2*H+1;0<T--;){if(xd(u,p,y,H,$))if(md(u,p,y,M))vA(u,p,y);else{var z=u,J=p,le=y,xe=z[J-le],be=z[J+0],pe=z[J+le],Se=Sd[112+((Be=3*(be-xe))+4>>3)],Be=Sd[112+(Be+3>>3)],ce=Se+1>>1;z[J-2*le]=bn[255+z[J-2*le]+ce],z[J-le]=bn[255+xe+Be],z[J+0]=bn[255+be-Se],z[J+le]=bn[255+pe-ce]}p+=j}}function cc(u,p,y,j,T,H){_i(u,p,y,1,16,j,T,H)}function So(u,p,y,j,T,H){_i(u,p,1,y,16,j,T,H)}function Mf(u,p,y,j,T,H){var $;for($=3;0<$;--$)aa(u,p+=4*y,y,1,16,j,T,H)}function yA(u,p,y,j,T,H){var $;for($=3;0<$;--$)aa(u,p+=4,1,y,16,j,T,H)}function Kf(u,p,y,j,T,H,$,M){_i(u,p,T,1,8,H,$,M),_i(y,j,T,1,8,H,$,M)}function uc(u,p,y,j,T,H,$,M){_i(u,p,1,T,8,H,$,M),_i(y,j,1,T,8,H,$,M)}function dc(u,p,y,j,T,H,$,M){aa(u,p+4*T,T,1,8,H,$,M),aa(y,j+4*T,T,1,8,H,$,M)}function wd(u,p,y,j,T,H,$,M){aa(u,p+4,1,T,8,H,$,M),aa(y,j+4,1,T,8,H,$,M)}function BA(){this.ba=new Yr,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new or,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function hc(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function fc(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function vd(){this.ua=0,this.Wa=new Y,this.vb=new Y,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new _,this.yc=new L}function Vf(){this.xb=this.a=0,this.l=new No,this.ca=new Yr,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new F,this.Pb=0,this.wd=new F,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new vd,this.ab=0,this.gc=o(4,fc),this.Oc=0}function NA(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new No,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Eo(u,p,y,j,T,H,$){for(u=u==null?0:u[p+0],p=0;p<$;++p)T[H+p]=u+y[j+p]&255,u=T[H+p]}function pc(u,p,y,j,T,H,$){var M;if(u==null)Eo(null,null,y,j,T,H,$);else for(M=0;M<$;++M)T[H+M]=u[p+M]+y[j+M]&255}function Si(u,p,y,j,T,H,$){if(u==null)Eo(null,null,y,j,T,H,$);else{var M,z=u[p+0],J=z,le=z;for(M=0;M<$;++M)J=le+(z=u[p+M])-J,le=y[j+M]+(-256&J?0>J?0:255:J)&255,J=z,T[H+M]=le}}function mc(u,p,y,j){var T=p.width,H=p.o;if(t(u!=null&&p!=null),0>y||0>=j||y+j>H)return null;if(!u.Cc){if(u.ga==null){var $;if(u.ga=new NA,($=u.ga==null)||($=p.width*p.o,t(u.Gb.length==0),u.Gb=i($),u.Uc=0,u.Gb==null?$=0:(u.mb=u.Gb,u.nb=u.Uc,u.rc=null,$=1),$=!$),!$){$=u.ga;var M=u.Fa,z=u.P,J=u.qc,le=u.mb,xe=u.nb,be=z+1,pe=J-1,Se=$.l;if(t(M!=null&&le!=null&&p!=null),Ii[0]=null,Ii[1]=Eo,Ii[2]=pc,Ii[3]=Si,$.ca=le,$.tb=xe,$.c=p.width,$.i=p.height,t(0<$.c&&0<$.i),1>=J)p=0;else if($.$a=M[z+0]>>0&3,$.Z=M[z+0]>>2&3,$.Lc=M[z+0]>>4&3,z=M[z+0]>>6&3,0>$.$a||1<$.$a||4<=$.Z||1<$.Lc||z)p=0;else if(Se.put=kn,Se.ac=Ar,Se.bc=Ts,Se.ma=$,Se.width=p.width,Se.height=p.height,Se.Da=p.Da,Se.v=p.v,Se.va=p.va,Se.j=p.j,Se.o=p.o,$.$a)e:{t($.$a==1),p=Os();t:for(;;){if(p==null){p=0;break e}if(t($!=null),$.mc=p,p.c=$.c,p.i=$.i,p.l=$.l,p.l.ma=$,p.l.width=$.c,p.l.height=$.i,p.a=0,U(p.m,M,be,pe),!In($.c,$.i,1,p,null)||(p.ab==1&&p.gc[0].hc==3&&ra(p.s)?($.ic=1,M=p.c*p.i,p.Ta=null,p.Ua=0,p.V=i(M),p.Ba=0,p.V==null?(p.a=1,p=0):p=1):($.ic=0,p=wi(p,$.c)),!p))break t;p=1;break e}$.mc=null,p=0}else p=pe>=$.c*$.i;$=!p}if($)return null;u.ga.Lc!=1?u.Ga=0:j=H-y}t(u.ga!=null),t(y+j<=H);e:{if(p=(M=u.ga).c,H=M.l.o,M.$a==0){if(be=u.rc,pe=u.Vc,Se=u.Fa,z=u.P+1+y*p,J=u.mb,le=u.nb+y*p,t(z<=u.P+u.qc),M.Z!=0)for(t(Ii[M.Z]!=null),$=0;$<j;++$)Ii[M.Z](be,pe,Se,z,J,le,p),be=J,pe=le,le+=p,z+=p;else for($=0;$<j;++$)s(J,le,Se,z,p),be=J,pe=le,le+=p,z+=p;u.rc=be,u.Vc=pe}else{if(t(M.mc!=null),p=y+j,t(($=M.mc)!=null),t(p<=$.i),$.C>=p)p=1;else if(M.ic||ge(),M.ic){M=$.V,be=$.Ba,pe=$.c;var Be=$.i,ce=(Se=1,z=$.$/pe,J=$.$%pe,le=$.m,xe=$.s,$.$),he=pe*Be,Ce=pe*p,Fe=xe.wc,_e=ce<Ce?zt(xe,J,z):null;t(ce<=he),t(p<=Be),t(ra(xe));t:for(;;){for(;!le.h&&ce<Ce;){if(J&Fe||(_e=zt(xe,J,z)),t(_e!=null),se(le),256>(Be=As(_e.G[0],_e.H[0],le)))M[be+ce]=Be,++ce,++J>=pe&&(J=0,++z<=p&&!(z%16)&&gn($,z));else{if(!(280>Be)){Se=0;break t}Be=fn(Be-256,le);var Je,He=As(_e.G[4],_e.H[4],le);if(se(le),!(ce>=(He=pn(pe,He=fn(He,le)))&&he-ce>=Be)){Se=0;break t}for(Je=0;Je<Be;++Je)M[be+ce+Je]=M[be+ce+Je-He];for(ce+=Be,J+=Be;J>=pe;)J-=pe,++z<=p&&!(z%16)&&gn($,z);ce<Ce&&J&Fe&&(_e=zt(xe,J,z))}t(le.h==q(le))}gn($,z>p?p:z);break t}!Se||le.h&&ce<he?(Se=0,$.a=le.h?5:3):$.$=ce,p=Se}else p=Rs($,$.V,$.Ba,$.c,$.i,p,vi);if(!p){j=0;break e}}y+j>=H&&(u.Cc=1),j=1}if(!j)return null;if(u.Cc&&((j=u.ga)!=null&&(j.mc=null),u.ga=null,0<u.Ga))return alert("todo:WebPDequantizeLevels"),null}return u.nb+y*T}function g(u,p,y,j,T,H){for(;0<T--;){var $,M=u,z=p+(y?1:0),J=u,le=p+(y?0:3);for($=0;$<j;++$){var xe=J[le+4*$];xe!=255&&(xe*=32897,M[z+4*$+0]=M[z+4*$+0]*xe>>23,M[z+4*$+1]=M[z+4*$+1]*xe>>23,M[z+4*$+2]=M[z+4*$+2]*xe>>23)}p+=H}}function P(u,p,y,j,T){for(;0<j--;){var H;for(H=0;H<y;++H){var $=u[p+2*H+0],M=15&(J=u[p+2*H+1]),z=4369*M,J=(240&J|J>>4)*z>>16;u[p+2*H+0]=(240&$|$>>4)*z>>16&240|(15&$|$<<4)*z>>16>>4&15,u[p+2*H+1]=240&J|M}p+=T}}function te(u,p,y,j,T,H,$,M){var z,J,le=255;for(J=0;J<T;++J){for(z=0;z<j;++z){var xe=u[p+z];H[$+4*z]=xe,le&=xe}p+=y,$+=M}return le!=255}function oe(u,p,y,j,T){var H;for(H=0;H<T;++H)y[j+H]=u[p+H]>>8}function ge(){Rn=g,Zt=P,er=te,Er=oe}function Ne(u,p,y){R[u]=function(j,T,H,$,M,z,J,le,xe,be,pe,Se,Be,ce,he,Ce,Fe){var _e,Je=Fe-1>>1,He=M[z+0]|J[le+0]<<16,At=xe[be+0]|pe[Se+0]<<16;t(j!=null);var Ve=3*He+At+131074>>2;for(p(j[T+0],255&Ve,Ve>>16,Be,ce),H!=null&&(Ve=3*At+He+131074>>2,p(H[$+0],255&Ve,Ve>>16,he,Ce)),_e=1;_e<=Je;++_e){var Rt=M[z+_e]|J[le+_e]<<16,Ht=xe[be+_e]|pe[Se+_e]<<16,kt=He+Rt+At+Ht+524296,_t=kt+2*(Rt+At)>>3;Ve=_t+He>>1,He=(kt=kt+2*(He+Ht)>>3)+Rt>>1,p(j[T+2*_e-1],255&Ve,Ve>>16,Be,ce+(2*_e-1)*y),p(j[T+2*_e-0],255&He,He>>16,Be,ce+(2*_e-0)*y),H!=null&&(Ve=kt+At>>1,He=_t+Ht>>1,p(H[$+2*_e-1],255&Ve,Ve>>16,he,Ce+(2*_e-1)*y),p(H[$+2*_e+0],255&He,He>>16,he,Ce+(2*_e+0)*y)),He=Rt,At=Ht}1&Fe||(Ve=3*He+At+131074>>2,p(j[T+Fe-1],255&Ve,Ve>>16,Be,ce+(Fe-1)*y),H!=null&&(Ve=3*At+He+131074>>2,p(H[$+Fe-1],255&Ve,Ve>>16,he,Ce+(Fe-1)*y)))}}function ke(){Dn[Ed]=EN,Dn[Fd]=Bb,Dn[xb]=FN,Dn[Ud]=Nb,Dn[Qd]=jb,Dn[Gf]=Cb,Dn[bb]=UN,Dn[Wf]=Bb,Dn[Jf]=Nb,Dn[kd]=jb,Dn[Xf]=Cb}function We(u){return u&-16384?0>u?0:255:u>>QN}function nt(u,p){return We((19077*u>>8)+(26149*p>>8)-14234)}function wt(u,p,y){return We((19077*u>>8)-(6419*p>>8)-(13320*y>>8)+8708)}function xt(u,p){return We((19077*u>>8)+(33050*p>>8)-17685)}function Ut(u,p,y,j,T){j[T+0]=nt(u,y),j[T+1]=wt(u,p,y),j[T+2]=xt(u,p)}function dr(u,p,y,j,T){j[T+0]=xt(u,p),j[T+1]=wt(u,p,y),j[T+2]=nt(u,y)}function xr(u,p,y,j,T){var H=wt(u,p,y);p=H<<3&224|xt(u,p)>>3,j[T+0]=248&nt(u,y)|H>>5,j[T+1]=p}function Pr(u,p,y,j,T){var H=240&xt(u,p)|15;j[T+0]=240&nt(u,y)|wt(u,p,y)>>4,j[T+1]=H}function ys(u,p,y,j,T){j[T+0]=255,Ut(u,p,y,j,T+1)}function es(u,p,y,j,T){dr(u,p,y,j,T),j[T+3]=255}function ia(u,p,y,j,T){Ut(u,p,y,j,T),j[T+3]=255}function xn(u,p){return 0>u?0:u>p?p:u}function Qa(u,p,y){R[u]=function(j,T,H,$,M,z,J,le,xe){for(var be=le+(-2&xe)*y;le!=be;)p(j[T+0],H[$+0],M[z+0],J,le),p(j[T+1],H[$+0],M[z+0],J,le+y),T+=2,++$,++z,le+=2*y;1&xe&&p(j[T+0],H[$+0],M[z+0],J,le)}}function yd(u,p,y){return y==0?u==0?p==0?6:5:p==0?4:0:y}function gc(u,p,y,j,T){switch(u>>>30){case 3:Ja(p,y,j,T,0);break;case 2:Sr(p,y,j,T);break;case 1:Hs(p,y,j,T)}}function xc(u,p){var y,j,T=p.M,H=p.Nb,$=u.oc,M=u.pc+40,z=u.oc,J=u.pc+584,le=u.oc,xe=u.pc+600;for(y=0;16>y;++y)$[M+32*y-1]=129;for(y=0;8>y;++y)z[J+32*y-1]=129,le[xe+32*y-1]=129;for(0<T?$[M-1-32]=z[J-1-32]=le[xe-1-32]=129:(a($,M-32-1,127,21),a(z,J-32-1,127,9),a(le,xe-32-1,127,9)),j=0;j<u.za;++j){var be=p.ya[p.aa+j];if(0<j){for(y=-1;16>y;++y)s($,M+32*y-4,$,M+32*y+12,4);for(y=-1;8>y;++y)s(z,J+32*y-4,z,J+32*y+4,4),s(le,xe+32*y-4,le,xe+32*y+4,4)}var pe=u.Gd,Se=u.Hd+j,Be=be.ad,ce=be.Hc;if(0<T&&(s($,M-32,pe[Se].y,0,16),s(z,J-32,pe[Se].f,0,8),s(le,xe-32,pe[Se].ea,0,8)),be.Za){var he=$,Ce=M-32+16;for(0<T&&(j>=u.za-1?a(he,Ce,pe[Se].y[15],4):s(he,Ce,pe[Se+1].y,0,4)),y=0;4>y;y++)he[Ce+128+y]=he[Ce+256+y]=he[Ce+384+y]=he[Ce+0+y];for(y=0;16>y;++y,ce<<=2)he=$,Ce=M+Sb[y],oa[be.Ob[y]](he,Ce),gc(ce,Be,16*+y,he,Ce)}else if(he=yd(j,T,be.Ob[0]),ki[he]($,M),ce!=0)for(y=0;16>y;++y,ce<<=2)gc(ce,Be,16*+y,$,M+Sb[y]);for(y=be.Gc,he=yd(j,T,be.Dd),Ya[he](z,J),Ya[he](le,xe),ce=Be,he=z,Ce=J,255&(be=y>>0)&&(170&be?Bc(ce,256,he,Ce):Tn(ce,256,he,Ce)),be=le,ce=xe,255&(y>>=8)&&(170&y?Bc(Be,320,be,ce):Tn(Be,320,be,ce)),T<u.Ub-1&&(s(pe[Se].y,0,$,M+480,16),s(pe[Se].f,0,z,J+224,8),s(pe[Se].ea,0,le,xe+224,8)),y=8*H*u.B,pe=u.sa,Se=u.ta+16*j+16*H*u.R,Be=u.qa,be=u.ra+8*j+y,ce=u.Ha,he=u.Ia+8*j+y,y=0;16>y;++y)s(pe,Se+y*u.R,$,M+32*y,16);for(y=0;8>y;++y)s(Be,be+y*u.B,z,J+32*y,8),s(ce,he+y*u.B,le,xe+32*y,8)}}function jA(u,p,y,j,T,H,$,M,z){var J=[0],le=[0],xe=0,be=z!=null?z.kd:0,pe=z??new hc;if(u==null||12>y)return 7;pe.data=u,pe.w=p,pe.ha=y,p=[p],y=[y],pe.gb=[pe.gb];e:{var Se=p,Be=y,ce=pe.gb;if(t(u!=null),t(Be!=null),t(ce!=null),ce[0]=0,12<=Be[0]&&!r(u,Se[0],"RIFF")){if(r(u,Se[0]+8,"WEBP")){ce=3;break e}var he=ae(u,Se[0]+4);if(12>he||4294967286<he){ce=3;break e}if(be&&he>Be[0]-8){ce=7;break e}ce[0]=he,Se[0]+=12,Be[0]-=12}ce=0}if(ce!=0)return ce;for(he=0<pe.gb[0],y=y[0];;){e:{var Ce=u;Be=p,ce=y;var Fe=J,_e=le,Je=Se=[0];if((Ve=xe=[xe])[0]=0,8>ce[0])ce=7;else{if(!r(Ce,Be[0],"VP8X")){if(ae(Ce,Be[0]+4)!=10){ce=3;break e}if(18>ce[0]){ce=7;break e}var He=ae(Ce,Be[0]+8),At=1+Pe(Ce,Be[0]+12);if(2147483648<=At*(Ce=1+Pe(Ce,Be[0]+15))){ce=3;break e}Je!=null&&(Je[0]=He),Fe!=null&&(Fe[0]=At),_e!=null&&(_e[0]=Ce),Be[0]+=18,ce[0]-=18,Ve[0]=1}ce=0}}if(xe=xe[0],Se=Se[0],ce!=0)return ce;if(Be=!!(2&Se),!he&&xe)return 3;if(H!=null&&(H[0]=!!(16&Se)),$!=null&&($[0]=Be),M!=null&&(M[0]=0),$=J[0],Se=le[0],xe&&Be&&z==null){ce=0;break}if(4>y){ce=7;break}if(he&&xe||!he&&!xe&&!r(u,p[0],"ALPH")){y=[y],pe.na=[pe.na],pe.P=[pe.P],pe.Sa=[pe.Sa];e:{He=u,ce=p,he=y;var Ve=pe.gb;Fe=pe.na,_e=pe.P,Je=pe.Sa,At=22,t(He!=null),t(he!=null),Ce=ce[0];var Rt=he[0];for(t(Fe!=null),t(Je!=null),Fe[0]=null,_e[0]=null,Je[0]=0;;){if(ce[0]=Ce,he[0]=Rt,8>Rt){ce=7;break e}var Ht=ae(He,Ce+4);if(4294967286<Ht){ce=3;break e}var kt=8+Ht+1&-2;if(At+=kt,0<Ve&&At>Ve){ce=3;break e}if(!r(He,Ce,"VP8 ")||!r(He,Ce,"VP8L")){ce=0;break e}if(Rt[0]<kt){ce=7;break e}r(He,Ce,"ALPH")||(Fe[0]=He,_e[0]=Ce+8,Je[0]=Ht),Ce+=kt,Rt-=kt}}if(y=y[0],pe.na=pe.na[0],pe.P=pe.P[0],pe.Sa=pe.Sa[0],ce!=0)break}y=[y],pe.Ja=[pe.Ja],pe.xa=[pe.xa];e:if(Ve=u,ce=p,he=y,Fe=pe.gb[0],_e=pe.Ja,Je=pe.xa,He=ce[0],Ce=!r(Ve,He,"VP8 "),At=!r(Ve,He,"VP8L"),t(Ve!=null),t(he!=null),t(_e!=null),t(Je!=null),8>he[0])ce=7;else{if(Ce||At){if(Ve=ae(Ve,He+4),12<=Fe&&Ve>Fe-12){ce=3;break e}if(be&&Ve>he[0]-8){ce=7;break e}_e[0]=Ve,ce[0]+=8,he[0]-=8,Je[0]=At}else Je[0]=5<=he[0]&&Ve[He+0]==47&&!(Ve[He+4]>>5),_e[0]=he[0];ce=0}if(y=y[0],pe.Ja=pe.Ja[0],pe.xa=pe.xa[0],p=p[0],ce!=0)break;if(4294967286<pe.Ja)return 3;if(M==null||Be||(M[0]=pe.xa?2:1),$=[$],Se=[Se],pe.xa){if(5>y){ce=7;break}M=$,be=Se,Be=H,u==null||5>y?u=0:5<=y&&u[p+0]==47&&!(u[p+4]>>5)?(he=[0],Ve=[0],Fe=[0],U(_e=new F,u,p,y),ot(_e,he,Ve,Fe)?(M!=null&&(M[0]=he[0]),be!=null&&(be[0]=Ve[0]),Be!=null&&(Be[0]=Fe[0]),u=1):u=0):u=0}else{if(10>y){ce=7;break}M=Se,u==null||10>y||!fe(u,p+3,y-3)?u=0:(be=u[p+0]|u[p+1]<<8|u[p+2]<<16,Be=16383&(u[p+7]<<8|u[p+6]),u=16383&(u[p+9]<<8|u[p+8]),1&be||3<(be>>1&7)||!(be>>4&1)||be>>5>=pe.Ja||!Be||!u?u=0:($&&($[0]=Be),M&&(M[0]=u),u=1))}if(!u||($=$[0],Se=Se[0],xe&&(J[0]!=$||le[0]!=Se)))return 3;z!=null&&(z[0]=pe,z.offset=p-z.w,t(4294967286>p-z.w),t(z.offset==z.ha-y));break}return ce==0||ce==7&&xe&&z==null?(H!=null&&(H[0]|=pe.na!=null&&0<pe.na.length),j!=null&&(j[0]=$),T!=null&&(T[0]=Se),0):ce}function bc(u,p,y){var j=p.width,T=p.height,H=0,$=0,M=j,z=T;if(p.Da=u!=null&&0<u.Da,p.Da&&(M=u.cd,z=u.bd,H=u.v,$=u.j,11>y||(H&=-2,$&=-2),0>H||0>$||0>=M||0>=z||H+M>j||$+z>T))return 0;if(p.v=H,p.j=$,p.va=H+M,p.o=$+z,p.U=M,p.T=z,p.da=u!=null&&0<u.da,p.da){if(!at(M,z,y=[u.ib],H=[u.hb]))return 0;p.ib=y[0],p.hb=H[0]}return p.ob=u!=null&&u.ob,p.Kb=u==null||!u.Sd,p.da&&(p.ob=p.ib<3*j/4&&p.hb<3*T/4,p.Kb=0),1}function wc(u){if(u==null)return 2;if(11>u.S){var p=u.f.RGBA;p.fb+=(u.height-1)*p.A,p.A=-p.A}else p=u.f.kb,u=u.height,p.O+=(u-1)*p.fa,p.fa=-p.fa,p.N+=(u-1>>1)*p.Ab,p.Ab=-p.Ab,p.W+=(u-1>>1)*p.Db,p.Db=-p.Db,p.F!=null&&(p.J+=(u-1)*p.lb,p.lb=-p.lb);return 0}function CA(u,p,y,j){if(j==null||0>=u||0>=p)return 2;if(y!=null){if(y.Da){var T=y.cd,H=y.bd,$=-2&y.v,M=-2&y.j;if(0>$||0>M||0>=T||0>=H||$+T>u||M+H>p)return 2;u=T,p=H}if(y.da){if(!at(u,p,T=[y.ib],H=[y.hb]))return 2;u=T[0],p=H[0]}}j.width=u,j.height=p;e:{var z=j.width,J=j.height;if(u=j.S,0>=z||0>=J||!(u>=Ed&&13>u))u=2;else{if(0>=j.Rd&&j.sd==null){$=H=T=p=0;var le=(M=z*Eb[u])*J;if(11>u||(H=(J+1)/2*(p=(z+1)/2),u==12&&($=(T=z)*J)),(J=i(le+2*H+$))==null){u=1;break e}j.sd=J,11>u?((z=j.f.RGBA).eb=J,z.fb=0,z.A=M,z.size=le):((z=j.f.kb).y=J,z.O=0,z.fa=M,z.Fd=le,z.f=J,z.N=0+le,z.Ab=p,z.Cd=H,z.ea=J,z.W=0+le+H,z.Db=p,z.Ed=H,u==12&&(z.F=J,z.J=0+le+2*H),z.Tc=$,z.lb=T)}if(p=1,T=j.S,H=j.width,$=j.height,T>=Ed&&13>T)if(11>T)u=j.f.RGBA,p&=(M=Math.abs(u.A))*($-1)+H<=u.size,p&=M>=H*Eb[T],p&=u.eb!=null;else{u=j.f.kb,M=(H+1)/2,le=($+1)/2,z=Math.abs(u.fa),J=Math.abs(u.Ab);var xe=Math.abs(u.Db),be=Math.abs(u.lb),pe=be*($-1)+H;p&=z*($-1)+H<=u.Fd,p&=J*(le-1)+M<=u.Cd,p=(p&=xe*(le-1)+M<=u.Ed)&z>=H&J>=M&xe>=M,p&=u.y!=null,p&=u.f!=null,p&=u.ea!=null,T==12&&(p&=be>=H,p&=pe<=u.Tc,p&=u.F!=null)}else p=0;u=p?0:2}}return u!=0||y!=null&&y.fd&&(u=wc(j)),u}var us=64,_A=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],SA=24,EA=32,vc=8,tn=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Te("Predictor0","PredictorAdd0"),R.Predictor0=function(){return 4278190080},R.Predictor1=function(u){return u},R.Predictor2=function(u,p,y){return p[y+0]},R.Predictor3=function(u,p,y){return p[y+1]},R.Predictor4=function(u,p,y){return p[y-1]},R.Predictor5=function(u,p,y){return Oe(Oe(u,p[y+1]),p[y+0])},R.Predictor6=function(u,p,y){return Oe(u,p[y-1])},R.Predictor7=function(u,p,y){return Oe(u,p[y+0])},R.Predictor8=function(u,p,y){return Oe(p[y-1],p[y+0])},R.Predictor9=function(u,p,y){return Oe(p[y+0],p[y+1])},R.Predictor10=function(u,p,y){return Oe(Oe(u,p[y-1]),Oe(p[y+0],p[y+1]))},R.Predictor11=function(u,p,y){var j=p[y+0];return 0>=ut(j>>24&255,u>>24&255,(p=p[y-1])>>24&255)+ut(j>>16&255,u>>16&255,p>>16&255)+ut(j>>8&255,u>>8&255,p>>8&255)+ut(255&j,255&u,255&p)?j:u},R.Predictor12=function(u,p,y){var j=p[y+0];return(rt((u>>24&255)+(j>>24&255)-((p=p[y-1])>>24&255))<<24|rt((u>>16&255)+(j>>16&255)-(p>>16&255))<<16|rt((u>>8&255)+(j>>8&255)-(p>>8&255))<<8|rt((255&u)+(255&j)-(255&p)))>>>0},R.Predictor13=function(u,p,y){var j=p[y-1];return(tt((u=Oe(u,p[y+0]))>>24&255,j>>24&255)<<24|tt(u>>16&255,j>>16&255)<<16|tt(u>>8&255,j>>8&255)<<8|tt(u>>0&255,j>>0&255))>>>0};var zf=R.PredictorAdd0;R.PredictorAdd1=yt,Te("Predictor2","PredictorAdd2"),Te("Predictor3","PredictorAdd3"),Te("Predictor4","PredictorAdd4"),Te("Predictor5","PredictorAdd5"),Te("Predictor6","PredictorAdd6"),Te("Predictor7","PredictorAdd7"),Te("Predictor8","PredictorAdd8"),Te("Predictor9","PredictorAdd9"),Te("Predictor10","PredictorAdd10"),Te("Predictor11","PredictorAdd11"),Te("Predictor12","PredictorAdd12"),Te("Predictor13","PredictorAdd13");var yc=R.PredictorAdd2;Bt("ColorIndexInverseTransform","MapARGB","32b",function(u){return u>>8&255},function(u){return u}),Bt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(u){return u},function(u){return u>>8&255});var Bd,Ln=R.ColorIndexInverseTransform,FA=R.MapARGB,Nd=R.VP8LColorIndexInverseTransformAlpha,jd=R.MapAlpha,Ei=R.VP8LPredictorsAdd=[];Ei.length=16,(R.VP8LPredictors=[]).length=16,(R.VP8LPredictorsAdd_C=[]).length=16,(R.VP8LPredictors_C=[]).length=16;var Fo,rn,Ds,Fi,Ga,Wa,UA,Ja,Sr,Bc,Hs,Tn,QA,Cd,Nc,Uo,Qo,Ui,ko,kA,Io,Qi,jc,Pn,Rn,Zt,er,Er,zr=i(511),Xa=i(2041),Cc=i(225),IA=i(767),_d=0,qf=Xa,Sd=Cc,bn=IA,On=zr,Ed=0,Fd=1,xb=2,Ud=3,Qd=4,Gf=5,bb=6,Wf=7,Jf=8,kd=9,Xf=10,pN=[2,3,7],mN=[3,3,11],wb=[280,256,256,256,40],gN=[0,1,1,1,0],xN=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],bN=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],wN=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],vN=8,Yf=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Zf=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],_c=null,yN=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],BN=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],vb=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],NN=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],jN=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],CN=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],_N=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],ki=[],oa=[],Ya=[],SN=1,yb=2,Ii=[],Dn=[];Ne("UpsampleRgbLinePair",Ut,3),Ne("UpsampleBgrLinePair",dr,3),Ne("UpsampleRgbaLinePair",ia,4),Ne("UpsampleBgraLinePair",es,4),Ne("UpsampleArgbLinePair",ys,4),Ne("UpsampleRgba4444LinePair",Pr,2),Ne("UpsampleRgb565LinePair",xr,2);var EN=R.UpsampleRgbLinePair,FN=R.UpsampleBgrLinePair,Bb=R.UpsampleRgbaLinePair,Nb=R.UpsampleBgraLinePair,jb=R.UpsampleArgbLinePair,Cb=R.UpsampleRgba4444LinePair,UN=R.UpsampleRgb565LinePair,Id=16,Ld=1<<Id-1,Sc=-227,ep=482,QN=6,_b=0,kN=i(256),IN=i(256),LN=i(256),TN=i(256),PN=i(ep-Sc),RN=i(ep-Sc);Qa("YuvToRgbRow",Ut,3),Qa("YuvToBgrRow",dr,3),Qa("YuvToRgbaRow",ia,4),Qa("YuvToBgraRow",es,4),Qa("YuvToArgbRow",ys,4),Qa("YuvToRgba4444Row",Pr,2),Qa("YuvToRgb565Row",xr,2);var Sb=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Td=[0,2,8],ON=[8,7,6,4,4,2,2,2,1,1,1,1],DN=1;this.WebPDecodeRGBA=function(u,p,y,j,T){var H=Fd,$=new BA,M=new Yr;$.ba=M,M.S=H,M.width=[M.width],M.height=[M.height];var z=M.width,J=M.height,le=new ta;if(le==null||u==null)var xe=2;else t(le!=null),xe=jA(u,p,y,le.width,le.height,le.Pd,le.Qd,le.format,null);if(xe!=0?z=0:(z!=null&&(z[0]=le.width[0]),J!=null&&(J[0]=le.height[0]),z=1),z){M.width=M.width[0],M.height=M.height[0],j!=null&&(j[0]=M.width),T!=null&&(T[0]=M.height);e:{if(j=new No,(T=new hc).data=u,T.w=p,T.ha=y,T.kd=1,p=[0],t(T!=null),((u=jA(T.data,T.w,T.ha,null,null,null,p,null,T))==0||u==7)&&p[0]&&(u=4),(p=u)==0){if(t($!=null),j.data=T.data,j.w=T.w+T.offset,j.ha=T.ha-T.offset,j.put=kn,j.ac=Ar,j.bc=Ts,j.ma=$,T.xa){if((u=Os())==null){$=1;break e}if(function(be,pe){var Se=[0],Be=[0],ce=[0];t:for(;;){if(be==null)return 0;if(pe==null)return be.a=2,0;if(be.l=pe,be.a=0,U(be.m,pe.data,pe.w,pe.ha),!ot(be.m,Se,Be,ce)){be.a=3;break t}if(be.xb=yb,pe.width=Se[0],pe.height=Be[0],!In(Se[0],Be[0],1,be,null))break t;return 1}return t(be.a!=0),0}(u,j)){if(j=(p=CA(j.width,j.height,$.Oa,$.ba))==0){t:{j=u;r:for(;;){if(j==null){j=0;break t}if(t(j.s.yc!=null),t(j.s.Ya!=null),t(0<j.s.Wb),t((y=j.l)!=null),t((T=y.ma)!=null),j.xb!=0){if(j.ca=T.ba,j.tb=T.tb,t(j.ca!=null),!bc(T.Oa,y,Ud)){j.a=2;break r}if(!wi(j,y.width)||y.da)break r;if((y.da||Ct(j.ca.S))&&ge(),11>j.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),j.ca.f.kb.F!=null&&ge()),j.Pb&&0<j.s.ua&&j.s.vb.X==null&&!De(j.s.vb,j.s.Wa.Xa)){j.a=1;break r}j.xb=0}if(!Rs(j,j.V,j.Ba,j.c,j.i,y.o,bi))break r;T.Dc=j.Ma,j=1;break t}t(j.a!=0),j=0}j=!j}j&&(p=u.a)}else p=u.a}else{if((u=new ac)==null){$=1;break e}if(u.Fa=T.na,u.P=T.P,u.qc=T.Sa,ue(u,j)){if((p=CA(j.width,j.height,$.Oa,$.ba))==0){if(u.Aa=0,y=$.Oa,t((T=u)!=null),y!=null){if(0<(z=0>(z=y.Md)?0:100<z?255:255*z/100)){for(J=le=0;4>J;++J)12>(xe=T.pb[J]).lc&&(xe.ia=z*ON[0>xe.lc?0:xe.lc]>>3),le|=xe.ia;le&&(alert("todo:VP8InitRandom"),T.ia=1)}T.Ga=y.Id,100<T.Ga?T.Ga=100:0>T.Ga&&(T.Ga=0)}re(u,j)||(p=u.a)}}else p=u.a}p==0&&$.Oa!=null&&$.Oa.fd&&(p=wc($.ba))}$=p}H=$!=0?null:11>H?M.f.RGBA.eb:M.f.kb.y}else H=null;return H};var Eb=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function c(R,W){for(var ne="",k=0;k<4;k++)ne+=String.fromCharCode(R[W++]);return ne}function d(R,W){return(R[W+0]<<0|R[W+1]<<8|R[W+2]<<16)>>>0}function f(R,W){return(R[W+0]<<0|R[W+1]<<8|R[W+2]<<16|R[W+3]<<24)>>>0}new l;var m=[0],h=[0],v=[],b=new l,N=e,w=function(R,W){var ne={},k=0,L=!1,O=0,_=0;if(ne.frames=[],!function(G,q,ee,se){for(var Ae=0;Ae<se;Ae++)if(G[q+Ae]!=ee.charCodeAt(Ae))return!0;return!1}(R,W,"RIFF",4)){var K,Q;for(f(R,W+=4),W+=8;W<R.length;){var I=c(R,W),U=f(R,W+=4);W+=4;var V=U+(1&U);switch(I){case"VP8 ":case"VP8L":ne.frames[k]===void 0&&(ne.frames[k]={}),(F=ne.frames[k]).src_off=L?_:W-8,F.src_size=O+U+8,k++,L&&(L=!1,O=0,_=0);break;case"VP8X":(F=ne.header={}).feature_flags=R[W];var Z=W+4;F.canvas_width=1+d(R,Z),Z+=3,F.canvas_height=1+d(R,Z),Z+=3;break;case"ALPH":L=!0,O=V+8,_=W-8;break;case"ANIM":(F=ne.header).bgcolor=f(R,W),Z=W+4,F.loop_count=(K=R)[(Q=Z)+0]<<0|K[Q+1]<<8,Z+=2;break;case"ANMF":var me,F;(F=ne.frames[k]={}).offset_x=2*d(R,W),W+=3,F.offset_y=2*d(R,W),W+=3,F.width=1+d(R,W),W+=3,F.height=1+d(R,W),W+=3,F.duration=d(R,W),W+=3,me=R[W++],F.dispose=1&me,F.blend=me>>1&1}I!="ANMF"&&(W+=V)}return ne}}(N,0);w.response=N,w.rgbaoutput=!0,w.dataurl=!1;var x=w.header?w.header:null,B=w.frames?w.frames:null;if(x){x.loop_counter=x.loop_count,m=[x.canvas_height],h=[x.canvas_width];for(var C=0;C<B.length&&B[C].blend!=0;C++);}var E=B[0],S=b.WebPDecodeRGBA(N,E.src_off,E.src_size,h,m);E.rgba=S,E.imgwidth=h[0],E.imgheight=m[0];for(var D=0;D<h[0]*m[0]*4;D++)v[D]=S[D];return this.width=h,this.height=m,this.data=v,this}(function(e){var t=function(){return typeof Hg=="function"},r=function(m,h,v,b){var N=4,w=o;switch(b){case e.image_compression.FAST:N=1,w=i;break;case e.image_compression.MEDIUM:N=6,w=A;break;case e.image_compression.SLOW:N=9,w=l}m=s(m,h,v,w);var x=Hg(m,{level:N});return e.__addimage__.arrayBufferToBinaryString(x)},s=function(m,h,v,b){for(var N,w,x,B=m.length/h,C=new Uint8Array(m.length+B),E=d(),S=0;S<B;S+=1){if(x=S*h,N=m.subarray(x,x+h),b)C.set(b(N,v,w),x+S);else{for(var D,R=E.length,W=[];D<R;D+=1)W[D]=E[D](N,v,w);var ne=f(W.concat());C.set(W[ne],x+S)}w=N}return C},a=function(m){var h=Array.apply([],m);return h.unshift(0),h},i=function(m,h){var v,b=[],N=m.length;b[0]=1;for(var w=0;w<N;w+=1)v=m[w-h]||0,b[w+1]=m[w]-v+256&255;return b},o=function(m,h,v){var b,N=[],w=m.length;N[0]=2;for(var x=0;x<w;x+=1)b=v&&v[x]||0,N[x+1]=m[x]-b+256&255;return N},A=function(m,h,v){var b,N,w=[],x=m.length;w[0]=3;for(var B=0;B<x;B+=1)b=m[B-h]||0,N=v&&v[B]||0,w[B+1]=m[B]+256-(b+N>>>1)&255;return w},l=function(m,h,v){var b,N,w,x,B=[],C=m.length;B[0]=4;for(var E=0;E<C;E+=1)b=m[E-h]||0,N=v&&v[E]||0,w=v&&v[E-h]||0,x=c(b,N,w),B[E+1]=m[E]-x+256&255;return B},c=function(m,h,v){if(m===h&&h===v)return m;var b=Math.abs(h-v),N=Math.abs(m-v),w=Math.abs(m+h-v-v);return b<=N&&b<=w?m:N<=w?h:v},d=function(){return[a,i,o,A,l]},f=function(m){var h=m.map(function(v){return v.reduce(function(b,N){return b+Math.abs(N)},0)});return h.indexOf(Math.min.apply(null,h))};e.processPNG=function(m,h,v,b){var N,w,x,B,C,E,S,D,R,W,ne,k,L,O,_,K=this.decode.FLATE_DECODE,Q="";if(this.__addimage__.isArrayBuffer(m)&&(m=new Uint8Array(m)),this.__addimage__.isArrayBufferView(m)){if(m=(x=new U6(m)).imgData,w=x.bits,N=x.colorSpace,C=x.colors,[4,6].indexOf(x.colorType)!==-1){if(x.bits===8){R=(D=x.pixelBitlength==32?new Uint32Array(x.decodePixels().buffer):x.pixelBitlength==16?new Uint16Array(x.decodePixels().buffer):new Uint8Array(x.decodePixels().buffer)).length,ne=new Uint8Array(R*x.colors),W=new Uint8Array(R);var I,U=x.pixelBitlength-x.bits;for(O=0,_=0;O<R;O++){for(L=D[O],I=0;I<U;)ne[_++]=L>>>I&255,I+=x.bits;W[O]=L>>>I&255}}if(x.bits===16){R=(D=new Uint32Array(x.decodePixels().buffer)).length,ne=new Uint8Array(R*(32/x.pixelBitlength)*x.colors),W=new Uint8Array(R*(32/x.pixelBitlength)),k=x.colors>1,O=0,_=0;for(var V=0;O<R;)L=D[O++],ne[_++]=L>>>0&255,k&&(ne[_++]=L>>>16&255,L=D[O++],ne[_++]=L>>>0&255),W[V++]=L>>>16&255;w=8}b!==e.image_compression.NONE&&t()?(m=r(ne,x.width*x.colors,x.colors,b),S=r(W,x.width,1,b)):(m=ne,S=W,K=void 0)}if(x.colorType===3&&(N=this.color_spaces.INDEXED,E=x.palette,x.transparency.indexed)){var Z=x.transparency.indexed,me=0;for(O=0,R=Z.length;O<R;++O)me+=Z[O];if((me/=255)===R-1&&Z.indexOf(0)!==-1)B=[Z.indexOf(0)];else if(me!==R){for(D=x.decodePixels(),W=new Uint8Array(D.length),O=0,R=D.length;O<R;O++)W[O]=Z[D[O]];S=r(W,x.width,1)}}var F=function(G){var q;switch(G){case e.image_compression.FAST:q=11;break;case e.image_compression.MEDIUM:q=13;break;case e.image_compression.SLOW:q=14;break;default:q=12}return q}(b);return K===this.decode.FLATE_DECODE&&(Q="/Predictor "+F+" "),Q+="/Colors "+C+" /BitsPerComponent "+w+" /Columns "+x.width,(this.__addimage__.isArrayBuffer(m)||this.__addimage__.isArrayBufferView(m))&&(m=this.__addimage__.arrayBufferToBinaryString(m)),(S&&this.__addimage__.isArrayBuffer(S)||this.__addimage__.isArrayBufferView(S))&&(S=this.__addimage__.arrayBufferToBinaryString(S)),{alias:v,data:m,index:h,filter:K,decodeParameters:Q,transparency:B,palette:E,sMask:S,predictor:F,width:x.width,height:x.height,bitsPerComponent:w,colorSpace:N}}}})(lt.API),function(e){e.processGIF89A=function(t,r,s,a){var i=new Q6(t),o=i.width,A=i.height,l=[];i.decodeAndBlitFrameRGBA(0,l);var c={data:l,width:o,height:A},d=new um(100).encode(c,100);return e.processJPEG.call(this,d,r,s,a)},e.processGIF87A=e.processGIF89A}(lt.API),ua.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:a,green:s,blue:r,quad:i}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},ua.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(r){Xt.log("bit decode error:"+r)}},ua.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),r=t%4;for(e=this.height-1;e>=0;e--){for(var s=this.bottom_up?e:this.height-1-e,a=0;a<t;a++)for(var i=this.datav.getUint8(this.pos++,!0),o=s*this.width*4+8*a*4,A=0;A<8&&8*a+A<this.width;A++){var l=this.palette[i>>7-A&1];this.data[o+4*A]=l.blue,this.data[o+4*A+1]=l.green,this.data[o+4*A+2]=l.red,this.data[o+4*A+3]=255}r!==0&&(this.pos+=4-r)}},ua.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,r=this.height-1;r>=0;r--){for(var s=this.bottom_up?r:this.height-1-r,a=0;a<e;a++){var i=this.datav.getUint8(this.pos++,!0),o=s*this.width*4+2*a*4,A=i>>4,l=15&i,c=this.palette[A];if(this.data[o]=c.blue,this.data[o+1]=c.green,this.data[o+2]=c.red,this.data[o+3]=255,2*a+1>=this.width)break;c=this.palette[l],this.data[o+4]=c.blue,this.data[o+4+1]=c.green,this.data[o+4+2]=c.red,this.data[o+4+3]=255}t!==0&&(this.pos+=4-t)}},ua.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,s=0;s<this.width;s++){var a=this.datav.getUint8(this.pos++,!0),i=r*this.width*4+4*s;if(a<this.palette.length){var o=this.palette[a];this.data[i]=o.red,this.data[i+1]=o.green,this.data[i+2]=o.blue,this.data[i+3]=255}else this.data[i]=255,this.data[i+1]=255,this.data[i+2]=255,this.data[i+3]=255}e!==0&&(this.pos+=4-e)}},ua.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var s=this.bottom_up?r:this.height-1-r,a=0;a<this.width;a++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(i&t)/t*255|0,A=(i>>5&t)/t*255|0,l=(i>>10&t)/t*255|0,c=i>>15?255:0,d=s*this.width*4+4*a;this.data[d]=l,this.data[d+1]=A,this.data[d+2]=o,this.data[d+3]=c}this.pos+=e}},ua.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),r=parseInt("111111",2),s=this.height-1;s>=0;s--){for(var a=this.bottom_up?s:this.height-1-s,i=0;i<this.width;i++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var A=(o&t)/t*255|0,l=(o>>5&r)/r*255|0,c=(o>>11)/t*255|0,d=a*this.width*4+4*i;this.data[d]=c,this.data[d+1]=l,this.data[d+2]=A,this.data[d+3]=255}this.pos+=e}},ua.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*r;this.data[o]=i,this.data[o+1]=a,this.data[o+2]=s,this.data[o+3]=255}this.pos+=this.width%4}},ua.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),A=t*this.width*4+4*r;this.data[A]=i,this.data[A+1]=a,this.data[A+2]=s,this.data[A+3]=o}},ua.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,r,s,a){var i=new ua(t,!1),o=i.width,A=i.height,l={data:i.getData(),width:o,height:A},c=new um(100).encode(l,100);return e.processJPEG.call(this,c,r,s,a)}}(lt.API),xv.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,r,s,a){var i=new xv(t),o=i.width,A=i.height,l={data:i.getData(),width:o,height:A},c=new um(100).encode(l,100);return e.processJPEG.call(this,c,r,s,a)}}(lt.API),lt.API.processRGBA=function(e,t,r){for(var s=e.data,a=s.length,i=new Uint8Array(a/4*3),o=new Uint8Array(a/4),A=0,l=0,c=0;c<a;c+=4){var d=s[c],f=s[c+1],m=s[c+2],h=s[c+3];i[A++]=d,i[A++]=f,i[A++]=m,o[l++]=h}var v=this.__addimage__.arrayBufferToBinaryString(i);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:v,index:t,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},lt.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},qA=lt.API,Th=qA.getCharWidthsArray=function(e,t){var r,s,a=(t=t||{}).font||this.internal.getFont(),i=t.fontSize||this.internal.getFontSize(),o=t.charSpace||this.internal.getCharSpace(),A=t.widths?t.widths:a.metadata.Unicode.widths,l=A.fof?A.fof:1,c=t.kerning?t.kerning:a.metadata.Unicode.kerning,d=c.fof?c.fof:1,f=t.doKerning!==!1,m=0,h=e.length,v=0,b=A[0]||l,N=[];for(r=0;r<h;r++)s=e.charCodeAt(r),typeof a.metadata.widthOfString=="function"?N.push((a.metadata.widthOfGlyph(a.metadata.characterToGlyph(s))+o*(1e3/i)||0)/1e3):(m=f&&Mt(c[s])==="object"&&!isNaN(parseInt(c[s][v],10))?c[s][v]/d:0,N.push((A[s]||b)/l+m)),v=s;return N},fv=qA.getStringUnitWidth=function(e,t){var r=(t=t||{}).fontSize||this.internal.getFontSize(),s=t.font||this.internal.getFont(),a=t.charSpace||this.internal.getCharSpace();return qA.processArabic&&(e=qA.processArabic(e)),typeof s.metadata.widthOfString=="function"?s.metadata.widthOfString(e,r,a)/r:Th.apply(this,arguments).reduce(function(i,o){return i+o},0)},pv=function(e,t,r,s){for(var a=[],i=0,o=e.length,A=0;i!==o&&A+t[i]<r;)A+=t[i],i++;a.push(e.slice(0,i));var l=i;for(A=0;i!==o;)A+t[i]>s&&(a.push(e.slice(l,i)),A=0,l=i),A+=t[i],i++;return l!==i&&a.push(e.slice(l,i)),a},mv=function(e,t,r){r||(r={});var s,a,i,o,A,l,c,d=[],f=[d],m=r.textIndent||0,h=0,v=0,b=e.split(" "),N=Th.apply(this,[" ",r])[0];if(l=r.lineIndent===-1?b[0].length+2:r.lineIndent||0){var w=Array(l).join(" "),x=[];b.map(function(C){(C=C.split(/\s*\n/)).length>1?x=x.concat(C.map(function(E,S){return(S&&E.length?`
`:"")+E})):x.push(C[0])}),b=x,l=fv.apply(this,[w,r])}for(i=0,o=b.length;i<o;i++){var B=0;if(s=b[i],l&&s[0]==`
`&&(s=s.substr(1),B=1),m+h+(v=(a=Th.apply(this,[s,r])).reduce(function(C,E){return C+E},0))>t||B){if(v>t){for(A=pv.apply(this,[s,a,t-(m+h),t]),d.push(A.shift()),d=[A.pop()];A.length;)f.push([A.shift()]);v=a.slice(s.length-(d[0]?d[0].length:0)).reduce(function(C,E){return C+E},0)}else d=[s];f.push(d),m=v+l,h=N}else d.push(s),m+=h+v,h=N}return c=l?function(C,E){return(E?w:"")+C.join(" ")}:function(C){return C.join(" ")},f.map(c)},qA.splitTextToSize=function(e,t,r){var s,a=(r=r||{}).fontSize||this.internal.getFontSize(),i=(function(d){if(d.widths&&d.kerning)return{widths:d.widths,kerning:d.kerning};var f=this.internal.getFont(d.fontName,d.fontStyle);return f.metadata.Unicode?{widths:f.metadata.Unicode.widths||{0:1},kerning:f.metadata.Unicode.kerning||{}}:{font:f.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);s=Array.isArray(e)?e:String(e).split(/\r?\n/);var o=1*this.internal.scaleFactor*t/a;i.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/a:0,i.lineIndent=r.lineIndent;var A,l,c=[];for(A=0,l=s.length;A<l;A++)c=c.concat(mv.apply(this,[s[A],o,i]));return c},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="klmnopqrstuvwxyz",r={},s={},a=0;a<t.length;a++)r[t[a]]="0123456789abcdef"[a],s["0123456789abcdef"[a]]=t[a];var i=function(f){return"0x"+parseInt(f,10).toString(16)},o=e.__fontmetrics__.compress=function(f){var m,h,v,b,N=["{"];for(var w in f){if(m=f[w],isNaN(parseInt(w,10))?h="'"+w+"'":(w=parseInt(w,10),h=(h=i(w).slice(2)).slice(0,-1)+s[h.slice(-1)]),typeof m=="number")m<0?(v=i(m).slice(3),b="-"):(v=i(m).slice(2),b=""),v=b+v.slice(0,-1)+s[v.slice(-1)];else{if(Mt(m)!=="object")throw new Error("Don't know what to do with value type "+Mt(m)+".");v=o(m)}N.push(h+v)}return N.push("}"),N.join("")},A=e.__fontmetrics__.uncompress=function(f){if(typeof f!="string")throw new Error("Invalid argument passed to uncompress.");for(var m,h,v,b,N={},w=1,x=N,B=[],C="",E="",S=f.length-1,D=1;D<S;D+=1)(b=f[D])=="'"?m?(v=m.join(""),m=void 0):m=[]:m?m.push(b):b=="{"?(B.push([x,v]),x={},v=void 0):b=="}"?((h=B.pop())[0][h[1]]=x,v=void 0,x=h[0]):b=="-"?w=-1:v===void 0?r.hasOwnProperty(b)?(C+=r[b],v=parseInt(C,16)*w,w=1,C=""):C+=b:r.hasOwnProperty(b)?(E+=r[b],x[v]=parseInt(E,16)*w,w=1,v=void 0,E=""):E+=b;return N},l={codePages:["WinAnsiEncoding"],WinAnsiEncoding:A("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},c={Unicode:{Courier:l,"Courier-Bold":l,"Courier-BoldOblique":l,"Courier-Oblique":l,Helvetica:l,"Helvetica-Bold":l,"Helvetica-BoldOblique":l,"Helvetica-Oblique":l,"Times-Roman":l,"Times-Bold":l,"Times-BoldItalic":l,"Times-Italic":l}},d={Unicode:{"Courier-Oblique":A("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":A("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":A("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:A("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":A("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":A("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:A("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:A("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":A("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:A("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":A("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":A("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":A("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":A("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(f){var m=f.font,h=d.Unicode[m.postScriptName];h&&(m.metadata.Unicode={},m.metadata.Unicode.widths=h.widths,m.metadata.Unicode.kerning=h.kerning);var v=c.Unicode[m.postScriptName];v&&(m.metadata.Unicode.encoding=v,m.encoding=v.codePages[0])}])}(lt.API),function(e){var t=function(r){for(var s=r.length,a=new Uint8Array(s),i=0;i<s;i++)a[i]=r.charCodeAt(i);return a};e.API.events.push(["addFont",function(r){var s=void 0,a=r.font,i=r.instance;if(!a.isStandardFont){if(i===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");if(typeof(s=i.existsFileInVFS(a.postScriptName)===!1?i.loadFile(a.postScriptName):i.getFileFromVFS(a.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");(function(o,A){A=/^\x00\x01\x00\x00/.test(A)?t(A):t(yu(A)),o.metadata=e.API.TTFFont.open(A),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(a,s)}}])}(lt),function(e){function t(){return(pt.canvg?Promise.resolve(pt.canvg):Tg(()=>import("./index.es-rjsWMG4r.js"),[])).catch(function(r){return Promise.reject(new Error("Could not load canvg: "+r))}).then(function(r){return r.default?r.default:r})}lt.API.addSvgAsImage=function(r,s,a,i,o,A,l,c){if(isNaN(s)||isNaN(a))throw Xt.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(i)||isNaN(o))throw Xt.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var d=document.createElement("canvas");d.width=i,d.height=o;var f=d.getContext("2d");f.fillStyle="#fff",f.fillRect(0,0,d.width,d.height);var m={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},h=this;return t().then(function(v){return v.fromString(f,r,m)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(v){return v.render(m)}).then(function(){h.addImage(d.toDataURL("image/jpeg",1),s,a,i,o,l,c)})}}(),lt.API.putTotalPages=function(e){var t,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),r=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var s=1;s<=this.internal.getNumberOfPages();s++)for(var a=0;a<this.internal.pages[s].length;a++)this.internal.pages[s][a]=this.internal.pages[s][a].replace(t,r);return this},lt.API.viewerPreferences=function(e,t){var r;e=e||{},t=t||!1;var s,a,i,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},A=Object.keys(o),l=[],c=0,d=0,f=0;function m(v,b){var N,w=!1;for(N=0;N<v.length;N+=1)v[N]===b&&(w=!0);return w}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var h=A.length;for(f=0;f<h;f+=1)r[A[f]].value=r[A[f]].defaultValue,r[A[f]].explicitSet=!1}if(Mt(e)==="object"){for(a in e)if(i=e[a],m(A,a)&&i!==void 0){if(r[a].type==="boolean"&&typeof i=="boolean")r[a].value=i;else if(r[a].type==="name"&&m(r[a].valueSet,i))r[a].value=i;else if(r[a].type==="integer"&&Number.isInteger(i))r[a].value=i;else if(r[a].type==="array"){for(c=0;c<i.length;c+=1)if(s=!0,i[c].length===1&&typeof i[c][0]=="number")l.push(String(i[c]-1));else if(i[c].length>1){for(d=0;d<i[c].length;d+=1)typeof i[c][d]!="number"&&(s=!1);s===!0&&l.push([i[c][0]-1,i[c][1]-1].join(" "))}r[a].value="["+l.join(" ")+"]"}else r[a].value=r[a].defaultValue;r[a].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var v,b=[];for(v in r)r[v].explicitSet===!0&&(r[v].type==="name"?b.push("/"+v+" /"+r[v].value):b.push("/"+v+" "+r[v].value));b.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+b.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},function(e){var t=function(){var s='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',a=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),i=unescape(encodeURIComponent(s)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),A=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),c=i.length+o.length+A.length+a.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+c+" >>"),this.internal.write("stream"),this.internal.write(a+i+o+A+l),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(s,a){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:s,namespaceuri:a||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",t)),this}}(lt.API),function(e){var t=e.API,r=t.pdfEscape16=function(i,o){for(var A,l=o.metadata.Unicode.widths,c=["","0","00","000","0000"],d=[""],f=0,m=i.length;f<m;++f){if(A=o.metadata.characterToGlyph(i.charCodeAt(f)),o.metadata.glyIdsUsed.push(A),o.metadata.toUnicode[A]=i.charCodeAt(f),l.indexOf(A)==-1&&(l.push(A),l.push([parseInt(o.metadata.widthOfGlyph(A),10)])),A=="0")return d.join("");A=A.toString(16),d.push(c[4-A.length],A)}return d.join("")},s=function(i){var o,A,l,c,d,f,m;for(d=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],f=0,m=(A=Object.keys(i).sort(function(h,v){return h-v})).length;f<m;f++)o=A[f],l.length>=100&&(d+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),i[o]!==void 0&&i[o]!==null&&typeof i[o].toString=="function"&&(c=("0000"+i[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),l.push("<"+o+"><"+c+">"));return l.length&&(d+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),d+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(i){(function(o){var A=o.font,l=o.out,c=o.newObject,d=o.putStream;if(A.metadata instanceof e.API.TTFFont&&A.encoding==="Identity-H"){for(var f=A.metadata.Unicode.widths,m=A.metadata.subset.encode(A.metadata.glyIdsUsed,1),h="",v=0;v<m.length;v++)h+=String.fromCharCode(m[v]);var b=c();d({data:h,addLength1:!0,objectId:b}),l("endobj");var N=c();d({data:s(A.metadata.toUnicode),addLength1:!0,objectId:N}),l("endobj");var w=c();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+sl(A.fontName)),l("/FontFile2 "+b+" 0 R"),l("/FontBBox "+e.API.PDFObject.convert(A.metadata.bbox)),l("/Flags "+A.metadata.flags),l("/StemV "+A.metadata.stemV),l("/ItalicAngle "+A.metadata.italicAngle),l("/Ascent "+A.metadata.ascender),l("/Descent "+A.metadata.decender),l("/CapHeight "+A.metadata.capHeight),l(">>"),l("endobj");var x=c();l("<<"),l("/Type /Font"),l("/BaseFont /"+sl(A.fontName)),l("/FontDescriptor "+w+" 0 R"),l("/W "+e.API.PDFObject.convert(f)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+A.encoding+")"),l(">>"),l(">>"),l("endobj"),A.objectNumber=c(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+N+" 0 R"),l("/BaseFont /"+sl(A.fontName)),l("/Encoding /"+A.encoding),l("/DescendantFonts ["+x+" 0 R]"),l(">>"),l("endobj"),A.isAlreadyPutted=!0}})(i)}]),t.events.push(["putFont",function(i){(function(o){var A=o.font,l=o.out,c=o.newObject,d=o.putStream;if(A.metadata instanceof e.API.TTFFont&&A.encoding==="WinAnsiEncoding"){for(var f=A.metadata.rawData,m="",h=0;h<f.length;h++)m+=String.fromCharCode(f[h]);var v=c();d({data:m,addLength1:!0,objectId:v}),l("endobj");var b=c();d({data:s(A.metadata.toUnicode),addLength1:!0,objectId:b}),l("endobj");var N=c();l("<<"),l("/Descent "+A.metadata.decender),l("/CapHeight "+A.metadata.capHeight),l("/StemV "+A.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+v+" 0 R"),l("/Flags 96"),l("/FontBBox "+e.API.PDFObject.convert(A.metadata.bbox)),l("/FontName /"+sl(A.fontName)),l("/ItalicAngle "+A.metadata.italicAngle),l("/Ascent "+A.metadata.ascender),l(">>"),l("endobj"),A.objectNumber=c();for(var w=0;w<A.metadata.hmtx.widths.length;w++)A.metadata.hmtx.widths[w]=parseInt(A.metadata.hmtx.widths[w]*(1e3/A.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+b+" 0 R/BaseFont/"+sl(A.fontName)+"/FontDescriptor "+N+" 0 R/Encoding/"+A.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(A.metadata.hmtx.widths)+">>"),l("endobj"),A.isAlreadyPutted=!0}})(i)}]);var a=function(i){var o,A=i.text||"",l=i.x,c=i.y,d=i.options||{},f=i.mutex||{},m=f.pdfEscape,h=f.activeFontKey,v=f.fonts,b=h,N="",w=0,x="",B=v[b].encoding;if(v[b].encoding!=="Identity-H")return{text:A,x:l,y:c,options:d,mutex:f};for(x=A,b=h,Array.isArray(A)&&(x=A[0]),w=0;w<x.length;w+=1)v[b].metadata.hasOwnProperty("cmap")&&(o=v[b].metadata.cmap.unicode.codeMap[x[w].charCodeAt(0)]),o||x[w].charCodeAt(0)<256&&v[b].metadata.hasOwnProperty("Unicode")?N+=x[w]:N+="";var C="";return parseInt(b.slice(1))<14||B==="WinAnsiEncoding"?C=m(N,b).split("").map(function(E){return E.charCodeAt(0).toString(16)}).join(""):B==="Identity-H"&&(C=r(N,v[b])),f.isHex=!0,{text:C,x:l,y:c,options:d,mutex:f}};t.events.push(["postProcessText",function(i){var o=i.text||"",A=[],l={text:o,x:i.x,y:i.y,options:i.options,mutex:i.mutex};if(Array.isArray(o)){var c=0;for(c=0;c<o.length;c+=1)Array.isArray(o[c])&&o[c].length===3?A.push([a(Object.assign({},l,{text:o[c][0]})).text,o[c][1],o[c][2]]):A.push(a(Object.assign({},l,{text:o[c]})).text);i.text=A}else i.text=a(Object.assign({},l,{text:o})).text}])}(lt),function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0},e.addFileToVFS=function(r,s){return t.call(this),this.internal.vFS[r]=s,this},e.getFileFromVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}}(lt.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(s){var a,i,o,A,l,c,d,f=t,m=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],h=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],v={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},b={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},N=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],w=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),x=!1,B=0;this.__bidiEngine__={};var C=function(k){var L=k.charCodeAt(),O=L>>8,_=b[O];return _!==void 0?f[256*_+(255&L)]:O===252||O===253?"AL":w.test(O)?"L":O===8?"R":"N"},E=function(k){for(var L,O=0;O<k.length;O++){if((L=C(k.charAt(O)))==="L")return!1;if(L==="R")return!0}return!1},S=function(k,L,O,_){var K,Q,I,U,V=L[_];switch(V){case"L":case"R":x=!1;break;case"N":case"AN":break;case"EN":x&&(V="AN");break;case"AL":x=!0,V="R";break;case"WS":V="N";break;case"CS":_<1||_+1>=L.length||(K=O[_-1])!=="EN"&&K!=="AN"||(Q=L[_+1])!=="EN"&&Q!=="AN"?V="N":x&&(Q="AN"),V=Q===K?Q:"N";break;case"ES":V=(K=_>0?O[_-1]:"B")==="EN"&&_+1<L.length&&L[_+1]==="EN"?"EN":"N";break;case"ET":if(_>0&&O[_-1]==="EN"){V="EN";break}if(x){V="N";break}for(I=_+1,U=L.length;I<U&&L[I]==="ET";)I++;V=I<U&&L[I]==="EN"?"EN":"N";break;case"NSM":if(o&&!A){for(U=L.length,I=_+1;I<U&&L[I]==="NSM";)I++;if(I<U){var Z=k[_],me=Z>=1425&&Z<=2303||Z===64286;if(K=L[I],me&&(K==="R"||K==="AL")){V="R";break}}}V=_<1||(K=L[_-1])==="B"?"N":O[_-1];break;case"B":x=!1,a=!0,V=B;break;case"S":i=!0,V="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":x=!1;break;case"BN":V="N"}return V},D=function(k,L,O){var _=k.split("");return O&&R(_,O,{hiLevel:B}),_.reverse(),L&&L.reverse(),_.join("")},R=function(k,L,O){var _,K,Q,I,U,V=-1,Z=k.length,me=0,F=[],G=B?h:m,q=[];for(x=!1,a=!1,i=!1,K=0;K<Z;K++)q[K]=C(k[K]);for(Q=0;Q<Z;Q++){if(U=me,F[Q]=S(k,q,F,Q),_=240&(me=G[U][v[F[Q]]]),me&=15,L[Q]=I=G[me][5],_>0)if(_===16){for(K=V;K<Q;K++)L[K]=1;V=-1}else V=-1;if(G[me][6])V===-1&&(V=Q);else if(V>-1){for(K=V;K<Q;K++)L[K]=I;V=-1}q[Q]==="B"&&(L[Q]=0),O.hiLevel|=I}i&&function(ee,se,Ae){for(var we=0;we<Ae;we++)if(ee[we]==="S"){se[we]=B;for(var ye=we-1;ye>=0&&ee[ye]==="WS";ye--)se[ye]=B}}(q,L,Z)},W=function(k,L,O,_,K){if(!(K.hiLevel<k)){if(k===1&&B===1&&!a)return L.reverse(),void(O&&O.reverse());for(var Q,I,U,V,Z=L.length,me=0;me<Z;){if(_[me]>=k){for(U=me+1;U<Z&&_[U]>=k;)U++;for(V=me,I=U-1;V<I;V++,I--)Q=L[V],L[V]=L[I],L[I]=Q,O&&(Q=O[V],O[V]=O[I],O[I]=Q);me=U}me++}}},ne=function(k,L,O){var _=k.split(""),K={hiLevel:B};return O||(O=[]),R(_,O,K),function(Q,I,U){if(U.hiLevel!==0&&d)for(var V,Z=0;Z<Q.length;Z++)I[Z]===1&&(V=N.indexOf(Q[Z]))>=0&&(Q[Z]=N[V+1])}(_,O,K),W(2,_,L,O,K),W(1,_,L,O,K),_.join("")};return this.__bidiEngine__.doBidiReorder=function(k,L,O){if(function(K,Q){if(Q)for(var I=0;I<K.length;I++)Q[I]=I;A===void 0&&(A=E(K)),c===void 0&&(c=E(K))}(k,L),o||!l||c)if(o&&l&&A^c)B=A?1:0,k=D(k,L,O);else if(!o&&l&&c)B=A?1:0,k=ne(k,L,O),k=D(k,L);else if(!o||A||l||c){if(o&&!l&&A^c)k=D(k,L),A?(B=0,k=ne(k,L,O)):(B=1,k=ne(k,L,O),k=D(k,L));else if(o&&A&&!l&&c)B=1,k=ne(k,L,O),k=D(k,L);else if(!o&&!l&&A^c){var _=d;A?(B=1,k=ne(k,L,O),B=0,d=!1,k=ne(k,L,O),d=_):(B=0,k=ne(k,L,O),k=D(k,L),B=1,d=!1,k=ne(k,L,O),d=_,k=D(k,L))}}else B=0,k=ne(k,L,O);else B=A?1:0,k=ne(k,L,O);return k},this.__bidiEngine__.setOptions=function(k){k&&(o=k.isInputVisual,l=k.isOutputVisual,A=k.isInputRtl,c=k.isOutputRtl,d=k.isSymmetricSwapping)},this.__bidiEngine__.setOptions(s),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(s){var a=s.text,i=(s.x,s.y,s.options||{}),o=(s.mutex,i.lang,[]);if(i.isInputVisual=typeof i.isInputVisual!="boolean"||i.isInputVisual,r.setOptions(i),Object.prototype.toString.call(a)==="[object Array]"){var A=0;for(o=[],A=0;A<a.length;A+=1)Object.prototype.toString.call(a[A])==="[object Array]"?o.push([r.doBidiReorder(a[A][0]),a[A][1],a[A][2]]):o.push([r.doBidiReorder(a[A])]);s.text=o}else s.text=r.doBidiReorder(a);r.setOptions({isInputVisual:!0})}])}(lt),lt.API.TTFFont=function(){function e(t){var r;if(this.rawData=t,r=this.contents=new bo(t),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new q6(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new k6(this.contents),this.head=new L6(this),this.name=new D6(this),this.cmap=new IB(this),this.toUnicode={},this.hhea=new T6(this),this.maxp=new H6(this),this.hmtx=new $6(this),this.post=new R6(this),this.os2=new P6(this),this.loca=new z6(this),this.glyf=new M6(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,r,s,a,i;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,A,l,c;for(c=[],o=0,A=(l=this.bbox).length;o<A;o++)t=l[o],c.push(Math.round(t*this.scaleFactor));return c}).call(this),this.stemV=0,this.post.exists?(s=255&(a=this.post.italic_angle),32768&(r=a>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+s)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(i=this.familyClass)===1||i===2||i===3||i===4||i===5||i===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var r;return((r=this.cmap.unicode)!=null?r.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*r},e.prototype.widthOfString=function(t,r,s){var a,i,o,A;for(o=0,i=0,A=(t=""+t).length;0<=A?i<A:i>A;i=0<=A?++i:--i)a=t.charCodeAt(i),o+=this.widthOfGlyph(this.characterToGlyph(a))+s*(1e3/r)||0;return o*(r/1e3)},e.prototype.lineHeight=function(t,r){var s;return r==null&&(r=!1),s=r?this.lineGap:0,(this.ascender+s-this.decender)/1e3*t},e}();var ja,bo=function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var r,s;for(s=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)s[r]=String.fromCharCode(this.readByte());return s.join("")},e.prototype.writeString=function(t){var r,s,a;for(a=[],r=0,s=t.length;0<=s?r<s:r>s;r=0<=s?++r:--r)a.push(this.writeByte(t.charCodeAt(r)));return a},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,r,s,a,i,o,A,l;return t=this.readByte(),r=this.readByte(),s=this.readByte(),a=this.readByte(),i=this.readByte(),o=this.readByte(),A=this.readByte(),l=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^r)+1099511627776*(255^s)+4294967296*(255^a)+16777216*(255^i)+65536*(255^o)+256*(255^A)+(255^l)+1):72057594037927940*t+281474976710656*r+1099511627776*s+4294967296*a+16777216*i+65536*o+256*A+l},e.prototype.writeLongLong=function(t){var r,s;return r=Math.floor(t/4294967296),s=4294967295&t,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(s>>24&255),this.writeByte(s>>16&255),this.writeByte(s>>8&255),this.writeByte(255&s)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var r,s;for(r=[],s=0;0<=t?s<t:s>t;s=0<=t?++s:--s)r.push(this.readByte());return r},e.prototype.write=function(t){var r,s,a,i;for(i=[],s=0,a=t.length;s<a;s++)r=t[s],i.push(this.writeByte(r));return i},e}(),k6=function(){var e;function t(r){var s,a,i;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},a=0,i=this.tableCount;0<=i?a<i:a>i;a=0<=i?++a:--a)s={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[s.tag]=s}return t.prototype.encode=function(r){var s,a,i,o,A,l,c,d,f,m,h,v,b;for(b in h=Object.keys(r).length,l=Math.log(2),f=16*Math.floor(Math.log(h)/l),o=Math.floor(f/l),d=16*h-f,(a=new bo).writeInt(this.scalarType),a.writeShort(h),a.writeShort(f),a.writeShort(o),a.writeShort(d),i=16*h,c=a.pos+i,A=null,v=[],r)for(m=r[b],a.writeString(b),a.writeInt(e(m)),a.writeInt(c),a.writeInt(m.length),v=v.concat(m),b==="head"&&(A=c),c+=m.length;c%4;)v.push(0),c++;return a.write(v),s=2981146554-e(a.data),a.pos=A+8,a.writeUInt32(s),a.data},e=function(r){var s,a,i,o;for(r=LB.call(r);r.length%4;)r.push(0);for(i=new bo(r),a=0,s=0,o=r.length;s<o;s=s+=4)a+=i.readUInt32();return 4294967295&a},t}(),I6={}.hasOwnProperty,Va=function(e,t){for(var r in t)I6.call(t,r)&&(e[r]=t[r]);function s(){this.constructor=e}return s.prototype=t.prototype,e.prototype=new s,e.__super__=t.prototype,e};ja=function(){function e(t){var r;this.file=t,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var L6=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Va(t,ja),t.prototype.tag="head",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.revision=r.readInt(),this.checkSumAdjustment=r.readInt(),this.magicNumber=r.readInt(),this.flags=r.readShort(),this.unitsPerEm=r.readShort(),this.created=r.readLongLong(),this.modified=r.readLongLong(),this.xMin=r.readShort(),this.yMin=r.readShort(),this.xMax=r.readShort(),this.yMax=r.readShort(),this.macStyle=r.readShort(),this.lowestRecPPEM=r.readShort(),this.fontDirectionHint=r.readShort(),this.indexToLocFormat=r.readShort(),this.glyphDataFormat=r.readShort()},t.prototype.encode=function(r){var s;return(s=new bo).writeInt(this.version),s.writeInt(this.revision),s.writeInt(this.checkSumAdjustment),s.writeInt(this.magicNumber),s.writeShort(this.flags),s.writeShort(this.unitsPerEm),s.writeLongLong(this.created),s.writeLongLong(this.modified),s.writeShort(this.xMin),s.writeShort(this.yMin),s.writeShort(this.xMax),s.writeShort(this.yMax),s.writeShort(this.macStyle),s.writeShort(this.lowestRecPPEM),s.writeShort(this.fontDirectionHint),s.writeShort(r),s.writeShort(this.glyphDataFormat),s.data},t}(),bv=function(){function e(t,r){var s,a,i,o,A,l,c,d,f,m,h,v,b,N,w,x,B;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=r+t.readInt(),f=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=t.readByte();break;case 4:for(h=t.readUInt16(),m=h/2,t.pos+=6,i=function(){var C,E;for(E=[],l=C=0;0<=m?C<m:C>m;l=0<=m?++C:--C)E.push(t.readUInt16());return E}(),t.pos+=2,b=function(){var C,E;for(E=[],l=C=0;0<=m?C<m:C>m;l=0<=m?++C:--C)E.push(t.readUInt16());return E}(),c=function(){var C,E;for(E=[],l=C=0;0<=m?C<m:C>m;l=0<=m?++C:--C)E.push(t.readUInt16());return E}(),d=function(){var C,E;for(E=[],l=C=0;0<=m?C<m:C>m;l=0<=m?++C:--C)E.push(t.readUInt16());return E}(),a=(this.length-t.pos+this.offset)/2,A=function(){var C,E;for(E=[],l=C=0;0<=a?C<a:C>a;l=0<=a?++C:--C)E.push(t.readUInt16());return E}(),l=w=0,B=i.length;w<B;l=++w)for(N=i[l],s=x=v=b[l];v<=N?x<=N:x>=N;s=v<=N?++x:--x)d[l]===0?o=s+c[l]:(o=A[d[l]/2+(s-v)-(m-l)]||0)!==0&&(o+=c[l]),this.codeMap[s]=65535&o}t.pos=f}return e.encode=function(t,r){var s,a,i,o,A,l,c,d,f,m,h,v,b,N,w,x,B,C,E,S,D,R,W,ne,k,L,O,_,K,Q,I,U,V,Z,me,F,G,q,ee,se,Ae,we,ye,Ie,Ue,Pe;switch(_=new bo,o=Object.keys(t).sort(function(ae,De){return ae-De}),r){case"macroman":for(b=0,N=function(){var ae=[];for(v=0;v<256;++v)ae.push(0);return ae}(),x={0:0},i={},K=0,V=o.length;K<V;K++)x[ye=t[a=o[K]]]==null&&(x[ye]=++b),i[a]={old:t[a],new:x[t[a]]},N[a]=x[t[a]];return _.writeUInt16(1),_.writeUInt16(0),_.writeUInt32(12),_.writeUInt16(0),_.writeUInt16(262),_.writeUInt16(0),_.write(N),{charMap:i,subtable:_.data,maxGlyphID:b+1};case"unicode":for(L=[],f=[],B=0,x={},s={},w=c=null,Q=0,Z=o.length;Q<Z;Q++)x[E=t[a=o[Q]]]==null&&(x[E]=++B),s[a]={old:E,new:x[E]},A=x[E]-a,w!=null&&A===c||(w&&f.push(w),L.push(a),c=A),w=a;for(w&&f.push(w),f.push(65535),L.push(65535),ne=2*(W=L.length),R=2*Math.pow(Math.log(W)/Math.LN2,2),m=Math.log(R/2)/Math.LN2,D=2*W-R,l=[],S=[],h=[],v=I=0,me=L.length;I<me;v=++I){if(k=L[v],d=f[v],k===65535){l.push(0),S.push(0);break}if(k-(O=s[k].new)>=32768)for(l.push(0),S.push(2*(h.length+W-v)),a=U=k;k<=d?U<=d:U>=d;a=k<=d?++U:--U)h.push(s[a].new);else l.push(O-k),S.push(0)}for(_.writeUInt16(3),_.writeUInt16(1),_.writeUInt32(12),_.writeUInt16(4),_.writeUInt16(16+8*W+2*h.length),_.writeUInt16(0),_.writeUInt16(ne),_.writeUInt16(R),_.writeUInt16(m),_.writeUInt16(D),Ae=0,F=f.length;Ae<F;Ae++)a=f[Ae],_.writeUInt16(a);for(_.writeUInt16(0),we=0,G=L.length;we<G;we++)a=L[we],_.writeUInt16(a);for(Ie=0,q=l.length;Ie<q;Ie++)A=l[Ie],_.writeUInt16(A);for(Ue=0,ee=S.length;Ue<ee;Ue++)C=S[Ue],_.writeUInt16(C);for(Pe=0,se=h.length;Pe<se;Pe++)b=h[Pe],_.writeUInt16(b);return{charMap:s,subtable:_.data,maxGlyphID:B+1}}},e}(),IB=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Va(t,ja),t.prototype.tag="cmap",t.prototype.parse=function(r){var s,a,i;for(r.pos=this.offset,this.version=r.readUInt16(),i=r.readUInt16(),this.tables=[],this.unicode=null,a=0;0<=i?a<i:a>i;a=0<=i?++a:--a)s=new bv(r,this.offset),this.tables.push(s),s.isUnicode&&this.unicode==null&&(this.unicode=s);return!0},t.encode=function(r,s){var a,i;return s==null&&(s="macroman"),a=bv.encode(r,s),(i=new bo).writeUInt16(0),i.writeUInt16(1),a.table=i.data.concat(a.subtable),a},t}(),T6=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Va(t,ja),t.prototype.tag="hhea",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.ascender=r.readShort(),this.decender=r.readShort(),this.lineGap=r.readShort(),this.advanceWidthMax=r.readShort(),this.minLeftSideBearing=r.readShort(),this.minRightSideBearing=r.readShort(),this.xMaxExtent=r.readShort(),this.caretSlopeRise=r.readShort(),this.caretSlopeRun=r.readShort(),this.caretOffset=r.readShort(),r.pos+=8,this.metricDataFormat=r.readShort(),this.numberOfMetrics=r.readUInt16()},t}(),P6=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Va(t,ja),t.prototype.tag="OS/2",t.prototype.parse=function(r){if(r.pos=this.offset,this.version=r.readUInt16(),this.averageCharWidth=r.readShort(),this.weightClass=r.readUInt16(),this.widthClass=r.readUInt16(),this.type=r.readShort(),this.ySubscriptXSize=r.readShort(),this.ySubscriptYSize=r.readShort(),this.ySubscriptXOffset=r.readShort(),this.ySubscriptYOffset=r.readShort(),this.ySuperscriptXSize=r.readShort(),this.ySuperscriptYSize=r.readShort(),this.ySuperscriptXOffset=r.readShort(),this.ySuperscriptYOffset=r.readShort(),this.yStrikeoutSize=r.readShort(),this.yStrikeoutPosition=r.readShort(),this.familyClass=r.readShort(),this.panose=function(){var s,a;for(a=[],s=0;s<10;++s)a.push(r.readByte());return a}(),this.charRange=function(){var s,a;for(a=[],s=0;s<4;++s)a.push(r.readInt());return a}(),this.vendorID=r.readString(4),this.selection=r.readShort(),this.firstCharIndex=r.readShort(),this.lastCharIndex=r.readShort(),this.version>0&&(this.ascent=r.readShort(),this.descent=r.readShort(),this.lineGap=r.readShort(),this.winAscent=r.readShort(),this.winDescent=r.readShort(),this.codePageRange=function(){var s,a;for(a=[],s=0;s<2;s=++s)a.push(r.readInt());return a}(),this.version>1))return this.xHeight=r.readShort(),this.capHeight=r.readShort(),this.defaultChar=r.readShort(),this.breakChar=r.readShort(),this.maxContext=r.readShort()},t}(),R6=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Va(t,ja),t.prototype.tag="post",t.prototype.parse=function(r){var s,a,i;switch(r.pos=this.offset,this.format=r.readInt(),this.italicAngle=r.readInt(),this.underlinePosition=r.readShort(),this.underlineThickness=r.readShort(),this.isFixedPitch=r.readInt(),this.minMemType42=r.readInt(),this.maxMemType42=r.readInt(),this.minMemType1=r.readInt(),this.maxMemType1=r.readInt(),this.format){case 65536:break;case 131072:var o;for(a=r.readUInt16(),this.glyphNameIndex=[],o=0;0<=a?o<a:o>a;o=0<=a?++o:--o)this.glyphNameIndex.push(r.readUInt16());for(this.names=[],i=[];r.pos<this.offset+this.length;)s=r.readByte(),i.push(this.names.push(r.readString(s)));return i;case 151552:return a=r.readUInt16(),this.offsets=r.read(a);case 196608:break;case 262144:return this.map=(function(){var A,l,c;for(c=[],o=A=0,l=this.file.maxp.numGlyphs;0<=l?A<l:A>l;o=0<=l?++A:--A)c.push(r.readUInt32());return c}).call(this)}},t}(),O6=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},D6=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Va(t,ja),t.prototype.tag="name",t.prototype.parse=function(r){var s,a,i,o,A,l,c,d,f,m,h;for(r.pos=this.offset,r.readShort(),s=r.readShort(),l=r.readShort(),a=[],o=0;0<=s?o<s:o>s;o=0<=s?++o:--o)a.push({platformID:r.readShort(),encodingID:r.readShort(),languageID:r.readShort(),nameID:r.readShort(),length:r.readShort(),offset:this.offset+l+r.readShort()});for(c={},o=f=0,m=a.length;f<m;o=++f)i=a[o],r.pos=i.offset,d=r.readString(i.length),A=new O6(d,i),c[h=i.nameID]==null&&(c[h]=[]),c[i.nameID].push(A);this.strings=c,this.copyright=c[0],this.fontFamily=c[1],this.fontSubfamily=c[2],this.uniqueSubfamily=c[3],this.fontName=c[4],this.version=c[5];try{this.postscriptName=c[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=c[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=c[7],this.manufacturer=c[8],this.designer=c[9],this.description=c[10],this.vendorUrl=c[11],this.designerUrl=c[12],this.license=c[13],this.licenseUrl=c[14],this.preferredFamily=c[15],this.preferredSubfamily=c[17],this.compatibleFull=c[18],this.sampleText=c[19]},t}(),H6=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Va(t,ja),t.prototype.tag="maxp",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.numGlyphs=r.readUInt16(),this.maxPoints=r.readUInt16(),this.maxContours=r.readUInt16(),this.maxCompositePoints=r.readUInt16(),this.maxComponentContours=r.readUInt16(),this.maxZones=r.readUInt16(),this.maxTwilightPoints=r.readUInt16(),this.maxStorage=r.readUInt16(),this.maxFunctionDefs=r.readUInt16(),this.maxInstructionDefs=r.readUInt16(),this.maxStackElements=r.readUInt16(),this.maxSizeOfInstructions=r.readUInt16(),this.maxComponentElements=r.readUInt16(),this.maxComponentDepth=r.readUInt16()},t}(),$6=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Va(t,ja),t.prototype.tag="hmtx",t.prototype.parse=function(r){var s,a,i,o,A,l,c;for(r.pos=this.offset,this.metrics=[],s=0,l=this.file.hhea.numberOfMetrics;0<=l?s<l:s>l;s=0<=l?++s:--s)this.metrics.push({advance:r.readUInt16(),lsb:r.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var d,f;for(f=[],s=d=0;0<=i?d<i:d>i;s=0<=i?++d:--d)f.push(r.readInt16());return f}(),this.widths=(function(){var d,f,m,h;for(h=[],d=0,f=(m=this.metrics).length;d<f;d++)o=m[d],h.push(o.advance);return h}).call(this),a=this.widths[this.widths.length-1],c=[],s=A=0;0<=i?A<i:A>i;s=0<=i?++A:--A)c.push(this.widths.push(a));return c},t.prototype.forGlyph=function(r){return r in this.metrics?this.metrics[r]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[r-this.metrics.length]}},t}(),LB=[].slice,M6=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Va(t,ja),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(r){var s,a,i,o,A,l,c,d,f,m;return r in this.cache?this.cache[r]:(o=this.file.loca,s=this.file.contents,a=o.indexOf(r),(i=o.lengthOf(r))===0?this.cache[r]=null:(s.pos=this.offset+a,A=(l=new bo(s.read(i))).readShort(),d=l.readShort(),m=l.readShort(),c=l.readShort(),f=l.readShort(),this.cache[r]=A===-1?new V6(l,d,m,c,f):new K6(l,A,d,m,c,f),this.cache[r]))},t.prototype.encode=function(r,s,a){var i,o,A,l,c;for(A=[],o=[],l=0,c=s.length;l<c;l++)i=r[s[l]],o.push(A.length),i&&(A=A.concat(i.encode(a)));return o.push(A.length),{table:A,offsets:o}},t}(),K6=function(){function e(t,r,s,a,i,o){this.raw=t,this.numberOfContours=r,this.xMin=s,this.yMin=a,this.xMax=i,this.yMax=o,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),V6=function(){function e(t,r,s,a,i){var o,A;for(this.raw=t,this.xMin=r,this.yMin=s,this.xMax=a,this.yMax=i,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;A=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&A;)o.pos+=1&A?4:2,128&A?o.pos+=8:64&A?o.pos+=4:8&A&&(o.pos+=2)}return e.prototype.encode=function(){var t,r,s;for(r=new bo(LB.call(this.raw.data)),t=0,s=this.glyphIDs.length;t<s;++t)r.pos=this.glyphOffsets[t];return r.data},e}(),z6=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Va(t,ja),t.prototype.tag="loca",t.prototype.parse=function(r){var s,a;return r.pos=this.offset,s=this.file.head.indexToLocFormat,this.offsets=s===0?(function(){var i,o;for(o=[],a=0,i=this.length;a<i;a+=2)o.push(2*r.readUInt16());return o}).call(this):(function(){var i,o;for(o=[],a=0,i=this.length;a<i;a+=4)o.push(r.readUInt32());return o}).call(this)},t.prototype.indexOf=function(r){return this.offsets[r]},t.prototype.lengthOf=function(r){return this.offsets[r+1]-this.offsets[r]},t.prototype.encode=function(r,s){for(var a=new Uint32Array(this.offsets.length),i=0,o=0,A=0;A<a.length;++A)if(a[A]=i,o<s.length&&s[o]==A){++o,a[A]=i;var l=this.offsets[A],c=this.offsets[A+1]-l;c>0&&(i+=c)}for(var d=new Array(4*a.length),f=0;f<a.length;++f)d[4*f+3]=255&a[f],d[4*f+2]=(65280&a[f])>>8,d[4*f+1]=(16711680&a[f])>>16,d[4*f]=(4278190080&a[f])>>24;return d},t}(),q6=function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,r,s,a,i;for(r in a=this.font.cmap.tables[0].codeMap,t={},i=this.subset)s=i[r],t[r]=a[s];return t},e.prototype.glyphsFor=function(t){var r,s,a,i,o,A,l;for(a={},o=0,A=t.length;o<A;o++)a[i=t[o]]=this.font.glyf.glyphFor(i);for(i in r=[],a)(s=a[i])!=null&&s.compound&&r.push.apply(r,s.glyphIDs);if(r.length>0)for(i in l=this.glyphsFor(r))s=l[i],a[i]=s;return a},e.prototype.encode=function(t,r){var s,a,i,o,A,l,c,d,f,m,h,v,b,N,w;for(a in s=IB.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(t),h={0:0},w=s.charMap)h[(l=w[a]).old]=l.new;for(v in m=s.maxGlyphID,o)v in h||(h[v]=m++);return d=function(x){var B,C;for(B in C={},x)C[x[B]]=B;return C}(h),f=Object.keys(d).sort(function(x,B){return x-B}),b=function(){var x,B,C;for(C=[],x=0,B=f.length;x<B;x++)A=f[x],C.push(d[A]);return C}(),i=this.font.glyf.encode(o,b,h),c=this.font.loca.encode(i.offsets,b),N={cmap:this.font.cmap.raw(),glyf:i.table,loca:c,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(N["OS/2"]=this.font.os2.raw()),this.font.directory.encode(N)},e}();lt.API.PDFObject=function(){var e;function t(){}return e=function(r,s){return(Array(s+1).join("0")+r).slice(-s)},t.convert=function(r){var s,a,i,o;if(Array.isArray(r))return"["+function(){var A,l,c;for(c=[],A=0,l=r.length;A<l;A++)s=r[A],c.push(t.convert(s));return c}().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+e(r.getUTCFullYear(),4)+e(r.getUTCMonth(),2)+e(r.getUTCDate(),2)+e(r.getUTCHours(),2)+e(r.getUTCMinutes(),2)+e(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(a in i=["<<"],r)o=r[a],i.push("/"+a+" "+t.convert(o));return i.push(">>"),i.join(`
`)}return""+r},t}();/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TB=(...e)=>e.filter((t,r,s)=>!!t&&t.trim()!==""&&s.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G6=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W6=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,r,s)=>s?s.toUpperCase():r.toLowerCase());/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wv=e=>{const t=W6(e);return t.charAt(0).toUpperCase()+t.slice(1)};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var J6={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X6=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0;return!1};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y6=X.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:s,className:a="",children:i,iconNode:o,...A},l)=>X.createElement("svg",{ref:l,...J6,width:t,height:t,stroke:e,strokeWidth:s?Number(r)*24/Number(t):r,className:TB("lucide",a),...!i&&!X6(A)&&{"aria-hidden":"true"},...A},[...o.map(([c,d])=>X.createElement(c,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ge=(e,t)=>{const r=X.forwardRef(({className:s,...a},i)=>X.createElement(Y6,{ref:i,iconNode:t,className:TB(`lucide-${G6(wv(e))}`,`lucide-${e}`,s),...a}));return r.displayName=wv(e),r};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z6=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],vv=Ge("activity",Z6);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eU=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],Vs=Ge("arrow-down",eU);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tU=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],mi=Ge("arrow-left",tU);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rU=[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]],sU=Ge("arrow-up-down",rU);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nU=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],aU=Ge("arrow-up-right",nU);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iU=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],zs=Ge("arrow-up",iU);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oU=[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]],G0=Ge("box",oU);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AU=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],nA=Ge("building-2",AU);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lU=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],ea=Ge("calendar",lU);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cU=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],uU=Ge("chart-column",cU);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dU=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Wn=Ge("check",dU);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hU=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],fU=Ge("chevron-down",hU);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pU=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],mU=Ge("circle-check",pU);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gU=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Ph=Ge("circle-x",gU);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xU=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],PB=Ge("clock",xU);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bU=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],yv=Ge("copy",bU);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wU=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],vU=Ge("credit-card",wU);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yU=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],W0=Ge("dollar-sign",yU);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BU=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],$o=Ge("download",BU);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NU=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Bv=Ge("eye-off",NU);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jU=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],pr=Ge("eye",jU);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CU=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],jr=Ge("file-text",CU);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _U=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],Ad=Ge("folder-open",_U);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SU=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],EU=Ge("funnel",SU);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FU=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],UU=Ge("grip-vertical",FU);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QU=[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]],kU=Ge("hard-drive",QU);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IU=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],bs=Ge("image",IU);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LU=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],Nv=Ge("key",LU);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TU=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],PU=Ge("loader-circle",TU);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RU=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],Mr=Ge("loader",RU);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OU=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Gg=Ge("lock",OU);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DU=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],HU=Ge("log-in",DU);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $U=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],MU=Ge("log-out",$U);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KU=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Ff=Ge("mail",KU);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VU=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],zU=Ge("map-pin",VU);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qU=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],GU=Ge("menu",qU);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WU=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],ld=Ge("monitor",WU);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JU=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],RB=Ge("moon",JU);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XU=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],db=Ge("package",XU);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YU=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]],ZU=Ge("panels-top-left",YU);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eQ=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Cr=Ge("pen",eQ);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tQ=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],Il=Ge("phone",tQ);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rQ=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Gs=Ge("plus",rQ);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sQ=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],zu=Ge("printer",sQ);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nQ=[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]],Is=Ge("qr-code",nQ);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aQ=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],mA=Ge("refresh-cw",aQ);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iQ=[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]],oQ=Ge("rocket",iQ);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AQ=[["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",key:"w68u3i"}],["path",{d:"M6.01 18H6",key:"19vcac"}],["path",{d:"M10.01 18H10",key:"uamcmx"}],["path",{d:"M15 10v4",key:"qjz1xs"}],["path",{d:"M17.84 7.17a4 4 0 0 0-5.66 0",key:"1rif40"}],["path",{d:"M20.66 4.34a8 8 0 0 0-11.31 0",key:"6a5xfq"}]],lQ=Ge("router",AQ);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cQ=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Xl=Ge("save",cQ);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uQ=[["path",{d:"M15 12h-5",key:"r7krc0"}],["path",{d:"M15 8h-5",key:"1khuty"}],["path",{d:"M19 17V5a2 2 0 0 0-2-2H4",key:"zz82l3"}],["path",{d:"M8 21h12a2 2 0 0 0 2-2v-1a1 1 0 0 0-1-1H11a1 1 0 0 0-1 1v1a2 2 0 1 1-4 0V5a2 2 0 1 0-4 0v2a1 1 0 0 0 1 1h3",key:"1ph1d7"}]],Ws=Ge("scroll-text",uQ);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dQ=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Vl=Ge("search",dQ);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hQ=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Nr=Ge("settings",hQ);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fQ=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],pQ=Ge("share-2",fQ);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mQ=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],gQ=Ge("shield-alert",mQ);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xQ=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],OB=Ge("shield-check",xQ);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bQ=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],Js=Ge("shopping-cart",bQ);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wQ=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],qu=Ge("smartphone",wQ);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vQ=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],DB=Ge("sun",vQ);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yQ=[["path",{d:"M9 18.12 10 14H4.17a2 2 0 0 1-1.92-2.56l2.33-8A2 2 0 0 1 6.5 2H20a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.76a2 2 0 0 0-1.79 1.11L12 22a3.13 3.13 0 0 1-3-3.88Z",key:"m61m77"}],["path",{d:"M17 14V2",key:"8ymqnk"}]],BQ=Ge("thumbs-down",yQ);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NQ=[["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}],["path",{d:"M7 10v12",key:"1qc93n"}]],jQ=Ge("thumbs-up",NQ);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CQ=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Wt=Ge("trash-2",CQ);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _Q=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],SQ=Ge("trending-up",_Q);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EQ=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],HB=Ge("triangle-alert",EQ);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FQ=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],UQ=Ge("trophy",FQ);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QQ=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],kQ=Ge("user-plus",QQ);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IQ=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Ls=Ge("user",IQ);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LQ=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Yl=Ge("users",LQ);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TQ=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],hb=Ge("video",TQ);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PQ=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]],fb=Ge("wifi",PQ);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RQ=[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.106-3.105c.32-.322.863-.22.983.218a6 6 0 0 1-8.259 7.057l-7.91 7.91a1 1 0 0 1-2.999-3l7.91-7.91a6 6 0 0 1 7.057-8.259c.438.12.54.662.219.984z",key:"1ngwbx"}]],OQ=Ge("wrench",RQ);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DQ=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Kr=Ge("x",DQ);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HQ=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],cA=Ge("zap",HQ);function Uf(e,t){var r={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(r[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(e);a<s.length;a++)t.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(e,s[a])&&(r[s[a]]=e[s[a]]);return r}function $Q(e,t,r,s){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function A(d){try{c(s.next(d))}catch(f){o(f)}}function l(d){try{c(s.throw(d))}catch(f){o(f)}}function c(d){d.done?i(d.value):a(d.value).then(A,l)}c((s=s.apply(e,t||[])).next())})}const MQ=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class pb extends Error{constructor(t,r="FunctionsError",s){super(t),this.name=r,this.context=s}}class KQ extends pb{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class jv extends pb{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Cv extends pb{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Wg;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Wg||(Wg={}));class VQ{constructor(t,{headers:r={},customFetch:s,region:a=Wg.Any}={}){this.url=t,this.headers=r,this.region=a,this.fetch=MQ(s)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return $Q(this,arguments,void 0,function*(r,s={}){var a;let i,o;try{const{headers:A,method:l,body:c,signal:d,timeout:f}=s;let m={},{region:h}=s;h||(h=this.region);const v=new URL(`${this.url}/${r}`);h&&h!=="any"&&(m["x-region"]=h,v.searchParams.set("forceFunctionRegion",h));let b;c&&(A&&!Object.prototype.hasOwnProperty.call(A,"Content-Type")||!A)?typeof Blob<"u"&&c instanceof Blob||c instanceof ArrayBuffer?(m["Content-Type"]="application/octet-stream",b=c):typeof c=="string"?(m["Content-Type"]="text/plain",b=c):typeof FormData<"u"&&c instanceof FormData?b=c:(m["Content-Type"]="application/json",b=JSON.stringify(c)):c&&typeof c!="string"&&!(typeof Blob<"u"&&c instanceof Blob)&&!(c instanceof ArrayBuffer)&&!(typeof FormData<"u"&&c instanceof FormData)?b=JSON.stringify(c):b=c;let N=d;f&&(o=new AbortController,i=setTimeout(()=>o.abort(),f),d?(N=o.signal,d.addEventListener("abort",()=>o.abort())):N=o.signal);const w=yield this.fetch(v.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},m),this.headers),A),body:b,signal:N}).catch(E=>{throw new KQ(E)}),x=w.headers.get("x-relay-error");if(x&&x==="true")throw new jv(w);if(!w.ok)throw new Cv(w);let B=((a=w.headers.get("Content-Type"))!==null&&a!==void 0?a:"text/plain").split(";")[0].trim(),C;return B==="application/json"?C=yield w.json():B==="application/octet-stream"||B==="application/pdf"?C=yield w.blob():B==="text/event-stream"?C=w:B==="multipart/form-data"?C=yield w.formData():C=yield w.text(),{data:C,error:null,response:w}}catch(A){return{data:null,error:A,response:A instanceof Cv||A instanceof jv?A.context:void 0}}finally{i&&clearTimeout(i)}})}}var zQ=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},qQ=class{constructor(e){var t,r,s;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(r=e.isMaybeSingle)!==null&&r!==void 0?r:!1,this.urlLengthLimit=(s=e.urlLengthLimit)!==null&&s!==void 0?s:8e3,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const s=this.fetch;let a=s(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{let o=null,A=null,l=null,c=i.status,d=i.statusText;if(i.ok){var f,m;if(r.method!=="HEAD"){var h;const w=await i.text();w===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((h=r.headers.get("Accept"))===null||h===void 0)&&h.includes("application/vnd.pgrst.plan+text"))?A=w:A=JSON.parse(w))}const b=(f=r.headers.get("Prefer"))===null||f===void 0?void 0:f.match(/count=(exact|planned|estimated)/),N=(m=i.headers.get("content-range"))===null||m===void 0?void 0:m.split("/");b&&N&&N.length>1&&(l=parseInt(N[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(A)&&(A.length>1?(o={code:"PGRST116",details:`Results contain ${A.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},A=null,l=null,c=406,d="Not Acceptable"):A.length===1?A=A[0]:A=null)}else{var v;const b=await i.text();try{o=JSON.parse(b),Array.isArray(o)&&i.status===404&&(A=[],o=null,c=200,d="OK")}catch{i.status===404&&b===""?(c=204,d="No Content"):o={message:b}}if(o&&r.isMaybeSingle&&(!(o==null||(v=o.details)===null||v===void 0)&&v.includes("0 rows"))&&(o=null,c=200,d="OK"),o&&r.shouldThrowOnError)throw new zQ(o)}return{error:o,data:A,count:l,status:c,statusText:d}});return this.shouldThrowOnError||(a=a.catch(i=>{var o;let A="",l="",c="";const d=i==null?void 0:i.cause;if(d){var f,m,h,v;const w=(f=d==null?void 0:d.message)!==null&&f!==void 0?f:"",x=(m=d==null?void 0:d.code)!==null&&m!==void 0?m:"";A=`${(h=i==null?void 0:i.name)!==null&&h!==void 0?h:"FetchError"}: ${i==null?void 0:i.message}`,A+=`

Caused by: ${(v=d==null?void 0:d.name)!==null&&v!==void 0?v:"Error"}: ${w}`,x&&(A+=` (${x})`),d!=null&&d.stack&&(A+=`
${d.stack}`)}else{var b;A=(b=i==null?void 0:i.stack)!==null&&b!==void 0?b:""}const N=this.url.toString().length;return(i==null?void 0:i.name)==="AbortError"||(i==null?void 0:i.code)==="ABORT_ERR"?(c="",l="Request was aborted (timeout or manual cancellation)",N>this.urlLengthLimit&&(l+=`. Note: Your request URL is ${N} characters, which may exceed server limits. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [many IDs])), consider using an RPC function to pass values server-side.`)):((d==null?void 0:d.name)==="HeadersOverflowError"||(d==null?void 0:d.code)==="UND_ERR_HEADERS_OVERFLOW")&&(c="",l="HTTP headers exceeded server limits (typically 16KB)",N>this.urlLengthLimit&&(l+=`. Your request URL is ${N} characters. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [200+ IDs])), consider using an RPC function instead.`)),{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:A,hint:l,code:c},data:null,count:null,status:0,statusText:""}})),a.then(e,t)}returns(){return this}overrideTypes(){return this}},GQ=class extends qQ{select(e){let t=!1;const r=(e??"*").split("").map(s=>/\s/.test(s)&&!t?"":(s==='"'&&(t=!t),s)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:r,foreignTable:s,referencedTable:a=s}={}){const i=a?`${a}.order`:"order",o=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${o?`${o},`:""}${e}.${t?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:r=t}={}){const s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${e}`),this}range(e,t,{foreignTable:r,referencedTable:s=r}={}){const a=typeof s>"u"?"offset":`${s}.offset`,i=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(a,`${e}`),this.url.searchParams.set(i,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:r=!1,buffers:s=!1,wal:a=!1,format:i="text"}={}){var o;const A=[e?"analyze":null,t?"verbose":null,r?"settings":null,s?"buffers":null,a?"wal":null].filter(Boolean).join("|"),l=(o=this.headers.get("Accept"))!==null&&o!==void 0?o:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${i}; for="${l}"; options=${A};`),i==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const _v=new RegExp("[,()]");var nl=class extends GQ{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const r=Array.from(new Set(t)).map(s=>typeof s=="string"&&_v.test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}notIn(e,t){const r=Array.from(new Set(t)).map(s=>typeof s=="string"&&_v.test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(e,`not.in.(${r})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:r,type:s}={}){let a="";s==="plain"?a="pl":s==="phrase"?a="ph":s==="websearch"&&(a="w");const i=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${a}fts${i}.${t}`),this}match(e){return Object.entries(e).forEach(([t,r])=>{this.url.searchParams.append(t,`eq.${r}`)}),this}not(e,t,r){return this.url.searchParams.append(e,`not.${t}.${r}`),this}or(e,{foreignTable:t,referencedTable:r=t}={}){const s=r?`${r}.or`:"or";return this.url.searchParams.append(s,`(${e})`),this}filter(e,t,r){return this.url.searchParams.append(e,`${t}.${r}`),this}},WQ=class{constructor(e,{headers:t={},schema:r,fetch:s,urlLengthLimit:a=8e3}){this.url=e,this.headers=new Headers(t),this.schema=r,this.fetch=s,this.urlLengthLimit=a}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(e,t){const{head:r=!1,count:s}=t??{},a=r?"HEAD":"GET";let i=!1;const o=(e??"*").split("").map(c=>/\s/.test(c)&&!i?"":(c==='"'&&(i=!i),c)).join(""),{url:A,headers:l}=this.cloneRequestState();return A.searchParams.set("select",o),s&&l.append("Prefer",`count=${s}`),new nl({method:a,url:A,headers:l,schema:this.schema,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}insert(e,{count:t,defaultToNull:r=!0}={}){var s;const a="POST",{url:i,headers:o}=this.cloneRequestState();if(t&&o.append("Prefer",`count=${t}`),r||o.append("Prefer","missing=default"),Array.isArray(e)){const A=e.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(A.length>0){const l=[...new Set(A)].map(c=>`"${c}"`);i.searchParams.set("columns",l.join(","))}}return new nl({method:a,url:i,headers:o,schema:this.schema,body:e,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch,urlLengthLimit:this.urlLengthLimit})}upsert(e,{onConflict:t,ignoreDuplicates:r=!1,count:s,defaultToNull:a=!0}={}){var i;const o="POST",{url:A,headers:l}=this.cloneRequestState();if(l.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),t!==void 0&&A.searchParams.set("on_conflict",t),s&&l.append("Prefer",`count=${s}`),a||l.append("Prefer","missing=default"),Array.isArray(e)){const c=e.reduce((d,f)=>d.concat(Object.keys(f)),[]);if(c.length>0){const d=[...new Set(c)].map(f=>`"${f}"`);A.searchParams.set("columns",d.join(","))}}return new nl({method:o,url:A,headers:l,schema:this.schema,body:e,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch,urlLengthLimit:this.urlLengthLimit})}update(e,{count:t}={}){var r;const s="PATCH",{url:a,headers:i}=this.cloneRequestState();return t&&i.append("Prefer",`count=${t}`),new nl({method:s,url:a,headers:i,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch,urlLengthLimit:this.urlLengthLimit})}delete({count:e}={}){var t;const r="DELETE",{url:s,headers:a}=this.cloneRequestState();return e&&a.append("Prefer",`count=${e}`),new nl({method:r,url:s,headers:a,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch,urlLengthLimit:this.urlLengthLimit})}};function Gu(e){"@babel/helpers - typeof";return Gu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gu(e)}function JQ(e,t){if(Gu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(Gu(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function XQ(e){var t=JQ(e,"string");return Gu(t)=="symbol"?t:t+""}function YQ(e,t,r){return(t=XQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Sv(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function Rh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Sv(Object(r),!0).forEach(function(s){YQ(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Sv(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}var ZQ=class $B{constructor(t,{headers:r={},schema:s,fetch:a,timeout:i,urlLengthLimit:o=8e3}={}){this.url=t,this.headers=new Headers(r),this.schemaName=s,this.urlLengthLimit=o;const A=a??globalThis.fetch;i!==void 0&&i>0?this.fetch=(l,c)=>{const d=new AbortController,f=setTimeout(()=>d.abort(),i),m=c==null?void 0:c.signal;if(m){if(m.aborted)return clearTimeout(f),A(l,c);const h=()=>{clearTimeout(f),d.abort()};return m.addEventListener("abort",h,{once:!0}),A(l,Rh(Rh({},c),{},{signal:d.signal})).finally(()=>{clearTimeout(f),m.removeEventListener("abort",h)})}return A(l,Rh(Rh({},c),{},{signal:d.signal})).finally(()=>clearTimeout(f))}:this.fetch=A}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new WQ(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}schema(t){return new $B(this.url,{headers:this.headers,schema:t,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}rpc(t,r={},{head:s=!1,get:a=!1,count:i}={}){var o;let A;const l=new URL(`${this.url}/rpc/${t}`);let c;const d=h=>h!==null&&typeof h=="object"&&(!Array.isArray(h)||h.some(d)),f=s&&Object.values(r).some(d);f?(A="POST",c=r):s||a?(A=s?"HEAD":"GET",Object.entries(r).filter(([h,v])=>v!==void 0).map(([h,v])=>[h,Array.isArray(v)?`{${v.join(",")}}`:`${v}`]).forEach(([h,v])=>{l.searchParams.append(h,v)})):(A="POST",c=r);const m=new Headers(this.headers);return f?m.set("Prefer",i?`count=${i},return=minimal`:"return=minimal"):i&&m.set("Prefer",`count=${i}`),new nl({method:A,url:l,headers:m,schema:this.schemaName,body:c,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch,urlLengthLimit:this.urlLengthLimit})}};class ek{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const r=globalThis.process;if(r){const s=r.versions;if(s&&s.node){const a=s.node,i=parseInt(a.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const s=this.getWebSocketConstructor();return new s(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const tk="2.95.3",rk=`realtime-js/${tk}`,sk="1.0.0",MB="2.0.0",Ev=MB,Jg=1e4,nk=1e3,ak=100;var Gi;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Gi||(Gi={}));var qr;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(qr||(qr={}));var xa;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(xa||(xa={}));var Xg;(function(e){e.websocket="websocket"})(Xg||(Xg={}));var zo;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(zo||(zo={}));class ik{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,r){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(t));let s=[t.join_ref,t.ref,t.topic,t.event,t.payload];return r(JSON.stringify(s))}_binaryEncodeUserBroadcastPush(t){var r;return this._isArrayBuffer((r=t.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var r,s;const a=(s=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&s!==void 0?s:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,a)}_encodeJsonUserBroadcastPush(t){var r,s;const a=(s=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&s!==void 0?s:{},o=new TextEncoder().encode(JSON.stringify(a)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,o)}_encodeUserBroadcastPush(t,r,s){var a,i;const o=t.topic,A=(a=t.ref)!==null&&a!==void 0?a:"",l=(i=t.join_ref)!==null&&i!==void 0?i:"",c=t.payload.event,d=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},f=Object.keys(d).length===0?"":JSON.stringify(d);if(l.length>255)throw new Error(`joinRef length ${l.length} exceeds maximum of 255`);if(A.length>255)throw new Error(`ref length ${A.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`topic length ${o.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`userEvent length ${c.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`metadata length ${f.length} exceeds maximum of 255`);const m=this.USER_BROADCAST_PUSH_META_LENGTH+l.length+A.length+o.length+c.length+f.length,h=new ArrayBuffer(this.HEADER_LENGTH+m);let v=new DataView(h),b=0;v.setUint8(b++,this.KINDS.userBroadcastPush),v.setUint8(b++,l.length),v.setUint8(b++,A.length),v.setUint8(b++,o.length),v.setUint8(b++,c.length),v.setUint8(b++,f.length),v.setUint8(b++,r),Array.from(l,w=>v.setUint8(b++,w.charCodeAt(0))),Array.from(A,w=>v.setUint8(b++,w.charCodeAt(0))),Array.from(o,w=>v.setUint8(b++,w.charCodeAt(0))),Array.from(c,w=>v.setUint8(b++,w.charCodeAt(0))),Array.from(f,w=>v.setUint8(b++,w.charCodeAt(0)));var N=new Uint8Array(h.byteLength+s.byteLength);return N.set(new Uint8Array(h),0),N.set(new Uint8Array(s),h.byteLength),N.buffer}decode(t,r){if(this._isArrayBuffer(t)){let s=this._binaryDecode(t);return r(s)}if(typeof t=="string"){const s=JSON.parse(t),[a,i,o,A,l]=s;return r({join_ref:a,ref:i,topic:o,event:A,payload:l})}return r({})}_binaryDecode(t){const r=new DataView(t),s=r.getUint8(0),a=new TextDecoder;switch(s){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,r,a)}}_decodeUserBroadcast(t,r,s){const a=r.getUint8(1),i=r.getUint8(2),o=r.getUint8(3),A=r.getUint8(4);let l=this.HEADER_LENGTH+4;const c=s.decode(t.slice(l,l+a));l=l+a;const d=s.decode(t.slice(l,l+i));l=l+i;const f=s.decode(t.slice(l,l+o));l=l+o;const m=t.slice(l,t.byteLength),h=A===this.JSON_ENCODING?JSON.parse(s.decode(m)):m,v={type:this.BROADCAST_EVENT,event:d,payload:h};return o>0&&(v.meta=JSON.parse(f)),{join_ref:null,ref:null,topic:c,event:this.BROADCAST_EVENT,payload:v}}_isArrayBuffer(t){var r;return t instanceof ArrayBuffer||((r=t==null?void 0:t.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(t,r){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([s])=>r.includes(s)))}}class KB{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var tr;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(tr||(tr={}));const Fv=(e,t,r={})=>{var s;const a=(s=r.skipTypes)!==null&&s!==void 0?s:[];return t?Object.keys(t).reduce((i,o)=>(i[o]=ok(o,e,t,a),i),{}):{}},ok=(e,t,r,s)=>{const a=t.find(A=>A.name===e),i=a==null?void 0:a.type,o=r[e];return i&&!s.includes(i)?VB(i,o):Yg(o)},VB=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return uk(t,r)}switch(e){case tr.bool:return Ak(t);case tr.float4:case tr.float8:case tr.int2:case tr.int4:case tr.int8:case tr.numeric:case tr.oid:return lk(t);case tr.json:case tr.jsonb:return ck(t);case tr.timestamp:return dk(t);case tr.abstime:case tr.date:case tr.daterange:case tr.int4range:case tr.int8range:case tr.money:case tr.reltime:case tr.text:case tr.time:case tr.timestamptz:case tr.timetz:case tr.tsrange:case tr.tstzrange:return Yg(t);default:return Yg(t)}},Yg=e=>e,Ak=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},lk=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},ck=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},uk=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,s=e[r];if(e[0]==="{"&&s==="}"){let i;const o=e.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(A=>VB(t,A))}return e},dk=e=>typeof e=="string"?e.replace(" ","T"):e,zB=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class dm{constructor(t,r,s={},a=Jg){this.channel=t,this.event=r,this.payload=s,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var s;return this._hasReceived(t)&&r((s=this.receivedResp)===null||s===void 0?void 0:s.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(s=>s.status===t).forEach(s=>s.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Uv;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Uv||(Uv={}));class Bu{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const s=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(s.state,{},a=>{const{onJoin:i,onLeave:o,onSync:A}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Bu.syncState(this.state,a,i,o),this.pendingDiffs.forEach(l=>{this.state=Bu.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],A()}),this.channel._on(s.diff,{},a=>{const{onJoin:i,onLeave:o,onSync:A}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=Bu.syncDiff(this.state,a,i,o),A())}),this.onJoin((a,i,o)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:i,newPresences:o})}),this.onLeave((a,i,o)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,s,a){const i=this.cloneDeep(t),o=this.transformState(r),A={},l={};return this.map(i,(c,d)=>{o[c]||(l[c]=d)}),this.map(o,(c,d)=>{const f=i[c];if(f){const m=d.map(N=>N.presence_ref),h=f.map(N=>N.presence_ref),v=d.filter(N=>h.indexOf(N.presence_ref)<0),b=f.filter(N=>m.indexOf(N.presence_ref)<0);v.length>0&&(A[c]=v),b.length>0&&(l[c]=b)}else A[c]=d}),this.syncDiff(i,{joins:A,leaves:l},s,a)}static syncDiff(t,r,s,a){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return s||(s=()=>{}),a||(a=()=>{}),this.map(i,(A,l)=>{var c;const d=(c=t[A])!==null&&c!==void 0?c:[];if(t[A]=this.cloneDeep(l),d.length>0){const f=t[A].map(h=>h.presence_ref),m=d.filter(h=>f.indexOf(h.presence_ref)<0);t[A].unshift(...m)}s(A,d,l)}),this.map(o,(A,l)=>{let c=t[A];if(!c)return;const d=l.map(f=>f.presence_ref);c=c.filter(f=>d.indexOf(f.presence_ref)<0),t[A]=c,a(A,c,l),c.length===0&&delete t[A]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(s=>r(s,t[s]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,s)=>{const a=t[s];return"metas"in a?r[s]=a.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[s]=a,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Qv;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Qv||(Qv={}));var Nu;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Nu||(Nu={}));var ai;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(ai||(ai={}));class vl{constructor(t,r={config:{}},s){var a,i;if(this.topic=t,this.params=r,this.socket=s,this.bindings={},this.state=qr.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new dm(this,xa.join,this.params,this.timeout),this.rejoinTimer=new KB(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=qr.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=qr.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=qr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=qr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=qr.errored,this.rejoinTimer.scheduleTimeout())}),this._on(xa.reply,{},(o,A)=>{this._trigger(this._replyEventName(A),o)}),this.presence=new Bu(this),this.broadcastEndpointURL=zB(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(a=this.params.config)===null||a===void 0?void 0:a.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var s,a,i;if(this.socket.isConnected()||this.socket.connect(),this.state==qr.closed){const{config:{broadcast:o,presence:A,private:l}}=this.params,c=(a=(s=this.bindings.postgres_changes)===null||s===void 0?void 0:s.map(h=>h.filter))!==null&&a!==void 0?a:[],d=!!this.bindings[Nu.PRESENCE]&&this.bindings[Nu.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,f={},m={broadcast:o,presence:Object.assign(Object.assign({},A),{enabled:d}),postgres_changes:c,private:l};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(h=>t==null?void 0:t(ai.CHANNEL_ERROR,h)),this._onClose(()=>t==null?void 0:t(ai.CLOSED)),this.updateJoinPayload(Object.assign({config:m},f)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:h})=>{var v;if(this.socket._isManualToken()||this.socket.setAuth(),h===void 0){t==null||t(ai.SUBSCRIBED);return}else{const b=this.bindings.postgres_changes,N=(v=b==null?void 0:b.length)!==null&&v!==void 0?v:0,w=[];for(let x=0;x<N;x++){const B=b[x],{filter:{event:C,schema:E,table:S,filter:D}}=B,R=h&&h[x];if(R&&R.event===C&&vl.isFilterValueEqual(R.schema,E)&&vl.isFilterValueEqual(R.table,S)&&vl.isFilterValueEqual(R.filter,D))w.push(Object.assign(Object.assign({},B),{id:R.id}));else{this.unsubscribe(),this.state=qr.errored,t==null||t(ai.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=w,t&&t(ai.SUBSCRIBED);return}}).receive("error",h=>{this.state=qr.errored,t==null||t(ai.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(h).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(ai.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,s){return this.state===qr.joined&&t===Nu.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,r,s)}async httpSend(t,r,s={}){var a;if(r==null)return Promise.reject("Payload is required for httpSend()");const i={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(i.Authorization=`Bearer ${this.socket.accessTokenValue}`);const o={method:"POST",headers:i,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},A=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(a=s.timeout)!==null&&a!==void 0?a:this.timeout);if(A.status===202)return{success:!0};let l=A.statusText;try{const c=await A.json();l=c.error||c.message||l}catch{}return Promise.reject(new Error(l))}async send(t,r={}){var s,a;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:o}=t,A={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(A.Authorization=`Bearer ${this.socket.accessTokenValue}`);const l={method:"POST",headers:A,body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(s=r.timeout)!==null&&s!==void 0?s:this.timeout);return await((a=c.body)===null||a===void 0?void 0:a.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,A,l;const c=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(A=(o=this.params)===null||o===void 0?void 0:o.config)===null||A===void 0?void 0:A.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),c.receive("ok",()=>i("ok")),c.receive("error",()=>i("error")),c.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=qr.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(xa.close,"leave",this._joinRef())};this.joinPush.destroy();let s=null;return new Promise(a=>{s=new dm(this,xa.leave,{},t),s.receive("ok",()=>{r(),a("ok")}).receive("timeout",()=>{r(),a("timed out")}).receive("error",()=>{a("error")}),s.send(),this._canPush()||s.trigger("ok",{})}).finally(()=>{s==null||s.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=qr.closed,this.bindings={}}async _fetchWithTimeout(t,r,s){const a=new AbortController,i=setTimeout(()=>a.abort(),s),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:a.signal}));return clearTimeout(i),o}_push(t,r,s=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new dm(this,t,r,s);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>ak){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,s){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,s){var a,i;const o=t.toLocaleLowerCase(),{close:A,error:l,leave:c,join:d}=xa;if(s&&[A,l,c,d].indexOf(o)>=0&&s!==this._joinRef())return;let m=this._onMessage(o,r,s);if(r&&!m)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(h=>{var v,b,N;return((v=h.filter)===null||v===void 0?void 0:v.event)==="*"||((N=(b=h.filter)===null||b===void 0?void 0:b.event)===null||N===void 0?void 0:N.toLocaleLowerCase())===o}).map(h=>h.callback(m,s)):(i=this.bindings[o])===null||i===void 0||i.filter(h=>{var v,b,N,w,x,B;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in h){const C=h.id,E=(v=h.filter)===null||v===void 0?void 0:v.event;return C&&((b=r.ids)===null||b===void 0?void 0:b.includes(C))&&(E==="*"||(E==null?void 0:E.toLocaleLowerCase())===((N=r.data)===null||N===void 0?void 0:N.type.toLocaleLowerCase()))}else{const C=(x=(w=h==null?void 0:h.filter)===null||w===void 0?void 0:w.event)===null||x===void 0?void 0:x.toLocaleLowerCase();return C==="*"||C===((B=r==null?void 0:r.event)===null||B===void 0?void 0:B.toLocaleLowerCase())}else return h.type.toLocaleLowerCase()===o}).map(h=>{if(typeof m=="object"&&"ids"in m){const v=m.data,{schema:b,table:N,commit_timestamp:w,type:x,errors:B}=v;m=Object.assign(Object.assign({},{schema:b,table:N,commit_timestamp:w,eventType:x,new:{},old:{},errors:B}),this._getPayloadRecords(v))}h.callback(m,s)})}_isClosed(){return this.state===qr.closed}_isJoined(){return this.state===qr.joined}_isJoining(){return this.state===qr.joining}_isLeaving(){return this.state===qr.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,s){const a=t.toLocaleLowerCase(),i={type:a,filter:r,callback:s};return this.bindings[a]?this.bindings[a].push(i):this.bindings[a]=[i],this}_off(t,r){const s=t.toLocaleLowerCase();return this.bindings[s]&&(this.bindings[s]=this.bindings[s].filter(a=>{var i;return!(((i=a.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===s&&vl.isEqual(a.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const s in t)if(t[s]!==r[s])return!1;return!0}static isFilterValueEqual(t,r){return(t??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(xa.close,{},t)}_onError(t){this._on(xa.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=qr.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=Fv(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=Fv(t.columns,t.old_record)),r}}const hm=()=>{},Oh={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},hk=[1e3,2e3,5e3,1e4],fk=1e4,pk=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class mk{constructor(t,r){var s;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Jg,this.transport=null,this.heartbeatIntervalMs=Oh.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=hm,this.ref=0,this.reconnectTimer=null,this.vsn=Ev,this.logger=hm,this.conn=null,this.sendBuffer=[],this.serializer=new ik,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=a=>a?(...i)=>a(...i):(...i)=>fetch(...i),!(!((s=r==null?void 0:r.params)===null||s===void 0)&&s.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${Xg.websocket}`,this.httpEndpoint=zB(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=ek.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const s=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(s),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return r==="ok"&&this._remove(t),this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,s){this.logger(t,r,s)}connectionState(){switch(this.conn&&this.conn.readyState){case Gi.connecting:return zo.Connecting;case Gi.open:return zo.Open;case Gi.closing:return zo.Closing;default:return zo.Closed}}isConnected(){return this.connectionState()===zo.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const s=`realtime:${t}`,a=this.getChannels().find(i=>i.topic===s);if(a)return a;{const i=new vl(`realtime:${t}`,r,this);return this.channels.push(i),i}}push(t){const{topic:r,event:s,payload:a,ref:i}=t,o=()=>{this.encode(t,A=>{var l;(l=this.conn)===null||l===void 0||l.send(A)})};this.log("push",`${r} ${s} (${i})`,a),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(nk,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Oh.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(s=>s.topic===t&&(s._isJoined()||s._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply"&&r.ref&&r.ref===this.pendingHeartbeatRef){const c=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error",c)}catch(d){this.log("error","error in heartbeat callback",d)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:s,event:a,payload:i,ref:o}=r,A=o?`(${o})`:"",l=i.status||"";this.log("receive",`${l} ${s} ${a} ${A}`.trim(),i),this.channels.filter(c=>c._isMember(s)).forEach(c=>c._trigger(a,i,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===Gi.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Gi.open||this.conn.readyState===Gi.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t);try{this.heartbeatCallback("error")}catch(r){this.log("error","error in heartbeat callback",r)}}_triggerChanError(){this.channels.forEach(t=>t._trigger(xa.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const s=t.match(/\?/)?"&":"?",a=new URLSearchParams(r);return`${t}${s}${a}`}_workerObjectUrl(t){let r;if(t)r=t;else{const s=new Blob([pk],{type:"application/javascript"});r=URL.createObjectURL(s)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r,s=!1;if(t)r=t,s=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(a){this.log("error","Error fetching access token from callback",a),r=this.accessTokenValue}else r=this.accessTokenValue;s?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(a=>{const i={access_token:r,version:rk};r&&a.updateJoinPayload(i),a.joinedOnce&&a._isJoined()&&a._push(xa.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(s=>{try{s(r)}catch(a){this.log("error",`error in ${t} callback`,a)}})}catch(s){this.log("error",`error triggering ${t} callbacks`,s)}}_setupReconnectionTimer(){this.reconnectTimer=new KB(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Oh.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,s,a,i,o,A,l,c,d,f,m,h;switch(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(s=t==null?void 0:t.timeout)!==null&&s!==void 0?s:Jg,this.heartbeatIntervalMs=(a=t==null?void 0:t.heartbeatIntervalMs)!==null&&a!==void 0?a:Oh.HEARTBEAT_INTERVAL,this.worker=(i=t==null?void 0:t.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=t==null?void 0:t.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(A=t==null?void 0:t.heartbeatCallback)!==null&&A!==void 0?A:hm,this.vsn=(l=t==null?void 0:t.vsn)!==null&&l!==void 0?l:Ev,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=t==null?void 0:t.reconnectAfterMs)!==null&&c!==void 0?c:v=>hk[v-1]||fk,this.vsn){case sk:this.encode=(d=t==null?void 0:t.encode)!==null&&d!==void 0?d:(v,b)=>b(JSON.stringify(v)),this.decode=(f=t==null?void 0:t.decode)!==null&&f!==void 0?f:(v,b)=>b(JSON.parse(v));break;case MB:this.encode=(m=t==null?void 0:t.encode)!==null&&m!==void 0?m:this.serializer.encode.bind(this.serializer),this.decode=(h=t==null?void 0:t.decode)!==null&&h!==void 0?h:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}var Wu=class extends Error{constructor(e,t){var r;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((r=t.icebergType)==null?void 0:r.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function gk(e,t,r){const s=new URL(t,e);if(r)for(const[a,i]of Object.entries(r))i!==void 0&&s.searchParams.set(a,i);return s.toString()}async function xk(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function bk(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:r,path:s,query:a,body:i,headers:o}){const A=gk(e.baseUrl,s,a),l=await xk(e.auth),c=await t(A,{method:r,headers:{...i?{"Content-Type":"application/json"}:{},...l,...o},body:i?JSON.stringify(i):void 0}),d=await c.text(),f=(c.headers.get("content-type")||"").includes("application/json"),m=f&&d?JSON.parse(d):d;if(!c.ok){const h=f?m:void 0,v=h==null?void 0:h.error;throw new Wu((v==null?void 0:v.message)??`Request failed with status ${c.status}`,{status:c.status,icebergType:v==null?void 0:v.type,icebergCode:v==null?void 0:v.code,details:h})}return{status:c.status,headers:c.headers,data:m}}}}function Dh(e){return e.join("")}var wk=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:Dh(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(s=>({namespace:s}))}async createNamespace(e,t){const r={namespace:e.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Dh(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Dh(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Dh(e.namespace)}`}),!0}catch(t){if(t instanceof Wu&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(r){if(r instanceof Wu&&r.status===409)return;throw r}}};function GA(e){return e.join("")}var vk=class{constructor(e,t="",r){this.client=e,this.prefix=t,this.accessDelegation=r}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${GA(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${GA(e.namespace)}/tables`,body:t,headers:r})).data.metadata}async updateTable(e,t){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${GA(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${GA(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${GA(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${GA(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(r){if(r instanceof Wu&&r.status===404)return!1;throw r}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(r){if(r instanceof Wu&&r.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw r}}},yk=class{constructor(e){var s;let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const r=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=bk({baseUrl:r,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=(s=e.accessDelegation)==null?void 0:s.join(","),this.namespaceOps=new wk(this.client,t),this.tableOps=new vk(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},Qf=class extends Error{constructor(e,t="storage",r,s){super(e),this.__isStorageError=!0,this.namespace=t,this.name=t==="vectors"?"StorageVectorsError":"StorageError",this.status=r,this.statusCode=s}};function kf(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var Hh=class extends Qf{constructor(e,t,r,s="storage"){super(e,s,t,r),this.name=s==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},qB=class extends Qf{constructor(e,t,r="storage"){super(e,r),this.name=r==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=t}};const Bk=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),Nk=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Zg=e=>{if(Array.isArray(e))return e.map(r=>Zg(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,s])=>{const a=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[a]=Zg(s)}),t},jk=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function Ju(e){"@babel/helpers - typeof";return Ju=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ju(e)}function Ck(e,t){if(Ju(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(Ju(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _k(e){var t=Ck(e,"string");return Ju(t)=="symbol"?t:t+""}function Sk(e,t,r){return(t=_k(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kv(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function ft(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kv(Object(r),!0).forEach(function(s){Sk(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kv(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}const Iv=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},Ek=async(e,t,r,s)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(r!=null&&r.noResolveJson)){const a=e,i=a.status||500;if(typeof a.json=="function")a.json().then(o=>{const A=(o==null?void 0:o.statusCode)||(o==null?void 0:o.code)||i+"";t(new Hh(Iv(o),i,A,s))}).catch(()=>{if(s==="vectors"){const o=i+"";t(new Hh(a.statusText||`HTTP ${i} error`,i,o,s))}else{const o=i+"";t(new Hh(a.statusText||`HTTP ${i} error`,i,o,s))}});else{const o=i+"";t(new Hh(a.statusText||`HTTP ${i} error`,i,o,s))}}else t(new qB(Iv(e),e,s))},Fk=(e,t,r,s)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||e==="HEAD"||!s?ft(ft({},a),r):(Nk(s)?(a.headers=ft({"Content-Type":"application/json"},t==null?void 0:t.headers),a.body=JSON.stringify(s)):a.body=s,t!=null&&t.duplex&&(a.duplex=t.duplex),ft(ft({},a),r))};async function qc(e,t,r,s,a,i,o){return new Promise((A,l)=>{e(r,Fk(t,s,a,i)).then(c=>{if(!c.ok)throw c;if(s!=null&&s.noResolveJson)return c;if(o==="vectors"){const d=c.headers.get("content-type");if(c.headers.get("content-length")==="0"||c.status===204)return{};if(!d||!d.includes("application/json"))return{}}return c.json()}).then(c=>A(c)).catch(c=>Ek(c,l,s,o))})}function GB(e="storage"){return{get:async(t,r,s,a)=>qc(t,"GET",r,s,a,void 0,e),post:async(t,r,s,a,i)=>qc(t,"POST",r,a,i,s,e),put:async(t,r,s,a,i)=>qc(t,"PUT",r,a,i,s,e),head:async(t,r,s,a)=>qc(t,"HEAD",r,ft(ft({},s),{},{noResolveJson:!0}),a,void 0,e),remove:async(t,r,s,a,i)=>qc(t,"DELETE",r,a,i,s,e)}}const Uk=GB("storage"),{get:Xu,post:ma,put:ex,head:Qk,remove:mb}=Uk,jn=GB("vectors");var Zl=class{constructor(e,t={},r,s="storage"){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.fetch=Bk(r),this.namespace=s}throwOnError(){return this.shouldThrowOnError=!0,this}async handleOperation(e){var t=this;try{return{data:await e(),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(kf(r))return{data:null,error:r};throw r}}},kk=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(kf(t))return{data:null,error:t};throw t}}};let WB;WB=Symbol.toStringTag;var Ik=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[WB]="BlobDownloadBuilder",this.promise=null}asStream(){return new kk(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(kf(t))return{data:null,error:t};throw t}}};const Lk={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Lv={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var Tk=class extends Zl{constructor(e,t={},r,s){super(e,t,s,"storage"),this.bucketId=r}async uploadOrUpdate(e,t,r,s){var a=this;return a.handleOperation(async()=>{let i;const o=ft(ft({},Lv),s);let A=ft(ft({},a.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",a.encodeMetadata(l)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.has("cacheControl")||i.append("cacheControl",o.cacheControl),l&&!i.has("metadata")&&i.append("metadata",a.encodeMetadata(l))):(i=r,A["cache-control"]=`max-age=${o.cacheControl}`,A["content-type"]=o.contentType,l&&(A["x-metadata"]=a.toBase64(a.encodeMetadata(l))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!o.duplex&&(o.duplex="half")),s!=null&&s.headers&&(A=ft(ft({},A),s.headers));const c=a._removeEmptyFolders(t),d=a._getFinalPath(c),f=await(e=="PUT"?ex:ma)(a.fetch,`${a.url}/object/${d}`,i,ft({headers:A},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{path:c,id:f.Id,fullPath:f.Key}})}async upload(e,t,r){return this.uploadOrUpdate("POST",e,t,r)}async uploadToSignedUrl(e,t,r,s){var a=this;const i=a._removeEmptyFolders(e),o=a._getFinalPath(i),A=new URL(a.url+`/object/upload/sign/${o}`);return A.searchParams.set("token",t),a.handleOperation(async()=>{let l;const c=ft({upsert:Lv.upsert},s),d=ft(ft({},a.headers),{"x-upsert":String(c.upsert)});return typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",c.cacheControl)):(l=r,d["cache-control"]=`max-age=${c.cacheControl}`,d["content-type"]=c.contentType),{path:i,fullPath:(await ex(a.fetch,A.toString(),l,{headers:d})).Key}})}async createSignedUploadUrl(e,t){var r=this;return r.handleOperation(async()=>{let s=r._getFinalPath(e);const a=ft({},r.headers);t!=null&&t.upsert&&(a["x-upsert"]="true");const i=await ma(r.fetch,`${r.url}/object/upload/sign/${s}`,{},{headers:a}),o=new URL(r.url+i.url),A=o.searchParams.get("token");if(!A)throw new Qf("No token returned by API");return{signedUrl:o.toString(),path:e,token:A}})}async update(e,t,r){return this.uploadOrUpdate("PUT",e,t,r)}async move(e,t,r){var s=this;return s.handleOperation(async()=>await ma(s.fetch,`${s.url}/object/move`,{bucketId:s.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:s.headers}))}async copy(e,t,r){var s=this;return s.handleOperation(async()=>({path:(await ma(s.fetch,`${s.url}/object/copy`,{bucketId:s.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:s.headers})).Key}))}async createSignedUrl(e,t,r){var s=this;return s.handleOperation(async()=>{let a=s._getFinalPath(e),i=await ma(s.fetch,`${s.url}/object/sign/${a}`,ft({expiresIn:t},r!=null&&r.transform?{transform:r.transform}:{}),{headers:s.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{signedUrl:encodeURI(`${s.url}${i.signedURL}${o}`)}})}async createSignedUrls(e,t,r){var s=this;return s.handleOperation(async()=>{const a=await ma(s.fetch,`${s.url}/object/sign/${s.bucketId}`,{expiresIn:t,paths:e},{headers:s.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return a.map(o=>ft(ft({},o),{},{signedUrl:o.signedURL?encodeURI(`${s.url}${o.signedURL}${i}`):null}))})}download(e,t,r){const s=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),i=a?`?${a}`:"",o=this._getFinalPath(e),A=()=>Xu(this.fetch,`${this.url}/${s}/${o}${i}`,{headers:this.headers,noResolveJson:!0},r);return new Ik(A,this.shouldThrowOnError)}async info(e){var t=this;const r=t._getFinalPath(e);return t.handleOperation(async()=>Zg(await Xu(t.fetch,`${t.url}/object/info/${r}`,{headers:t.headers})))}async exists(e){var t=this;const r=t._getFinalPath(e);try{return await Qk(t.fetch,`${t.url}/object/${r}`,{headers:t.headers}),{data:!0,error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(kf(s)&&s instanceof qB){const a=s.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:s}}throw s}}getPublicUrl(e,t){const r=this._getFinalPath(e),s=[],a=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";a!==""&&s.push(a);const i=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",o=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});o!==""&&s.push(o);let A=s.join("&");return A!==""&&(A=`?${A}`),{data:{publicUrl:encodeURI(`${this.url}/${i}/public/${r}${A}`)}}}async remove(e){var t=this;return t.handleOperation(async()=>await mb(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}))}async list(e,t,r){var s=this;return s.handleOperation(async()=>{const a=ft(ft(ft({},Lk),t),{},{prefix:e||""});return await ma(s.fetch,`${s.url}/object/list/${s.bucketId}`,a,{headers:s.headers},r)})}async listV2(e,t){var r=this;return r.handleOperation(async()=>{const s=ft({},e);return await ma(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,s,{headers:r.headers},t)})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const Pk="2.95.3",cd={"X-Client-Info":`storage-js/${Pk}`};var Rk=class extends Zl{constructor(e,t={},r,s){const a=new URL(e);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase."));const i=a.href.replace(/\/$/,""),o=ft(ft({},cd),t);super(i,o,r,"storage")}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const r=t.listBucketOptionsToQueryString(e);return await Xu(t.fetch,`${t.url}/bucket${r}`,{headers:t.headers})})}async getBucket(e){var t=this;return t.handleOperation(async()=>await Xu(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}))}async createBucket(e,t={public:!1}){var r=this;return r.handleOperation(async()=>await ma(r.fetch,`${r.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}))}async updateBucket(e,t){var r=this;return r.handleOperation(async()=>await ex(r.fetch,`${r.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}))}async emptyBucket(e){var t=this;return t.handleOperation(async()=>await ma(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await mb(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},Ok=class extends Zl{constructor(e,t={},r){const s=e.replace(/\/$/,""),a=ft(ft({},cd),t);super(s,a,r,"storage")}async createBucket(e){var t=this;return t.handleOperation(async()=>await ma(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}))}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const r=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&r.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&r.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&r.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&r.set("sortOrder",e.sortOrder),e!=null&&e.search&&r.set("search",e.search);const s=r.toString(),a=s?`${t.url}/bucket?${s}`:`${t.url}/bucket`;return await Xu(t.fetch,a,{headers:t.headers})})}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await mb(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}from(e){var t=this;if(!jk(e))throw new Qf("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new yk({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),s=this.shouldThrowOnError;return new Proxy(r,{get(a,i){const o=a[i];return typeof o!="function"?o:async(...A)=>{try{return{data:await o.apply(a,A),error:null}}catch(l){if(s)throw l;return{data:null,error:l}}}}})}},Dk=class extends Zl{constructor(e,t={},r){const s=e.replace(/\/$/,""),a=ft(ft({},cd),{},{"Content-Type":"application/json"},t);super(s,a,r,"vectors")}async createIndex(e){var t=this;return t.handleOperation(async()=>await jn.post(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{})}async getIndex(e,t){var r=this;return r.handleOperation(async()=>await jn.post(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers}))}async listIndexes(e){var t=this;return t.handleOperation(async()=>await jn.post(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}))}async deleteIndex(e,t){var r=this;return r.handleOperation(async()=>await jn.post(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers})||{})}},Hk=class extends Zl{constructor(e,t={},r){const s=e.replace(/\/$/,""),a=ft(ft({},cd),{},{"Content-Type":"application/json"},t);super(s,a,r,"vectors")}async putVectors(e){var t=this;if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return t.handleOperation(async()=>await jn.post(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{})}async getVectors(e){var t=this;return t.handleOperation(async()=>await jn.post(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}))}async listVectors(e){var t=this;if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return t.handleOperation(async()=>await jn.post(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}))}async queryVectors(e){var t=this;return t.handleOperation(async()=>await jn.post(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}))}async deleteVectors(e){var t=this;if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return t.handleOperation(async()=>await jn.post(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{})}},$k=class extends Zl{constructor(e,t={},r){const s=e.replace(/\/$/,""),a=ft(ft({},cd),{},{"Content-Type":"application/json"},t);super(s,a,r,"vectors")}async createBucket(e){var t=this;return t.handleOperation(async()=>await jn.post(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}async getBucket(e){var t=this;return t.handleOperation(async()=>await jn.post(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}))}async listBuckets(e={}){var t=this;return t.handleOperation(async()=>await jn.post(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await jn.post(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}},Mk=class extends $k{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new Kk(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,r=this;return t().call(r,e)}async getBucket(e){var t=()=>super.getBucket,r=this;return t().call(r,e)}async listBuckets(e={}){var t=()=>super.listBuckets,r=this;return t().call(r,e)}async deleteBucket(e){var t=()=>super.deleteBucket,r=this;return t().call(r,e)}},Kk=class extends Dk{constructor(e,t,r,s){super(e,t,s),this.vectorBucketName=r}async createIndex(e){var t=()=>super.createIndex,r=this;return t().call(r,ft(ft({},e),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,r=this;return t().call(r,ft(ft({},e),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,r=this;return t().call(r,r.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,r=this;return t().call(r,r.vectorBucketName,e)}index(e){return new Vk(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},Vk=class extends Hk{constructor(e,t,r,s,a){super(e,t,a),this.vectorBucketName=r,this.indexName=s}async putVectors(e){var t=()=>super.putVectors,r=this;return t().call(r,ft(ft({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(e){var t=()=>super.getVectors,r=this;return t().call(r,ft(ft({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,r=this;return t().call(r,ft(ft({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,r=this;return t().call(r,ft(ft({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,r=this;return t().call(r,ft(ft({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},zk=class extends Rk{constructor(e,t={},r,s){super(e,t,r,s)}from(e){return new Tk(this.url,this.headers,e,this.fetch)}get vectors(){return new Mk(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Ok(this.url+"/iceberg",this.headers,this.fetch)}};const JB="2.95.3",al=30*1e3,tx=3,fm=tx*al,qk="http://localhost:9999",Gk="supabase.auth.token",Wk={"X-Client-Info":`gotrue-js/${JB}`},rx="X-Supabase-Api-Version",XB={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Jk=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Xk=10*60*1e3;class Yu extends Error{constructor(t,r,s){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=s}}function st(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class Yk extends Yu{constructor(t,r,s){super(t,r,s),this.name="AuthApiError",this.status=r,this.code=s}}function Zk(e){return st(e)&&e.name==="AuthApiError"}class qo extends Yu{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class xi extends Yu{constructor(t,r,s,a){super(t,s,a),this.name=r,this.status=s}}class Bn extends xi{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function pm(e){return st(e)&&e.name==="AuthSessionMissingError"}class WA extends xi{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class $h extends xi{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Mh extends xi{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function eI(e){return st(e)&&e.name==="AuthImplicitGrantRedirectError"}class Tv extends xi{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class tI extends xi{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class sx extends xi{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function mm(e){return st(e)&&e.name==="AuthRetryableFetchError"}class Pv extends xi{constructor(t,r,s){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=s}}class nx extends xi{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const J0="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Rv=` 	
\r=`.split(""),rI=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Rv.length;t+=1)e[Rv[t].charCodeAt(0)]=-2;for(let t=0;t<J0.length;t+=1)e[J0[t].charCodeAt(0)]=t;return e})();function Ov(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const s=t.queue>>t.queuedBits-6&63;r(J0[s]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const s=t.queue>>t.queuedBits-6&63;r(J0[s]),t.queuedBits-=6}}function YB(e,t,r){const s=rI[e];if(s>-1)for(t.queue=t.queue<<6|s,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(s===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Dv(e){const t=[],r=o=>{t.push(String.fromCodePoint(o))},s={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},i=o=>{aI(o,s,r)};for(let o=0;o<e.length;o+=1)YB(e.charCodeAt(o),a,i);return t.join("")}function sI(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function nI(e,t){for(let r=0;r<e.length;r+=1){let s=e.charCodeAt(r);if(s>55295&&s<=56319){const a=(s-55296)*1024&65535;s=(e.charCodeAt(r+1)-56320&65535|a)+65536,r+=1}sI(s,t)}}function aI(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let s=1;s<6;s+=1)if(!(e>>7-s&1)){t.utf8seq=s;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function Ll(e){const t=[],r={queue:0,queuedBits:0},s=a=>{t.push(a)};for(let a=0;a<e.length;a+=1)YB(e.charCodeAt(a),r,s);return new Uint8Array(t)}function iI(e){const t=[];return nI(e,r=>t.push(r)),new Uint8Array(t)}function Yo(e){const t=[],r={queue:0,queuedBits:0},s=a=>{t.push(a)};return e.forEach(a=>Ov(a,r,s)),Ov(null,r,s),t.join("")}function oI(e){return Math.round(Date.now()/1e3)+e}function AI(){return Symbol("auth-callback")}const fs=()=>typeof window<"u"&&typeof document<"u",Po={tested:!1,writable:!1},ZB=()=>{if(!fs())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Po.tested)return Po.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Po.tested=!0,Po.writable=!0}catch{Po.tested=!0,Po.writable=!1}return Po.writable};function lI(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((a,i)=>{t[i]=a})}catch{}return r.searchParams.forEach((s,a)=>{t[a]=s}),t}const eN=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),cI=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",il=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Ro=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},hs=async(e,t)=>{await e.removeItem(t)};class If{constructor(){this.promise=new If.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}If.promiseConstructor=Promise;function Kh(e){const t=e.split(".");if(t.length!==3)throw new nx("Invalid JWT structure");for(let s=0;s<t.length;s++)if(!Jk.test(t[s]))throw new nx("JWT not in base64url format");return{header:JSON.parse(Dv(t[0])),payload:JSON.parse(Dv(t[1])),signature:Ll(t[2]),raw:{header:t[0],payload:t[1]}}}async function uI(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function dI(e,t){return new Promise((s,a)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){s(o);return}}catch(o){if(!t(i,o)){a(o);return}}})()})}function hI(e){return("0"+e.toString(16)).substr(-2)}function fI(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",s=r.length;let a="";for(let i=0;i<56;i++)a+=r.charAt(Math.floor(Math.random()*s));return a}return crypto.getRandomValues(t),Array.from(t,hI).join("")}async function pI(e){const r=new TextEncoder().encode(e),s=await crypto.subtle.digest("SHA-256",r),a=new Uint8Array(s);return Array.from(a).map(i=>String.fromCharCode(i)).join("")}async function mI(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await pI(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function JA(e,t,r=!1){const s=fI();let a=s;r&&(a+="/PASSWORD_RECOVERY"),await il(e,`${t}-code-verifier`,a);const i=await mI(s);return[i,s===i?"plain":"s256"]}const gI=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function xI(e){const t=e.headers.get(rx);if(!t||!t.match(gI))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function bI(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function wI(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const vI=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function XA(e){if(!vI.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function gm(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const s=r.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function yI(e,t){return new Proxy(e,{get:(r,s,a)=>{if(s==="__isInsecureUserWarningProxy")return!0;if(typeof s=="symbol"){const i=s.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,s,a)}return!t.value&&typeof s=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,s,a)}})}function Hv(e){return JSON.parse(JSON.stringify(e))}const Mo=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),BI=[502,503,504];async function $v(e){var t;if(!cI(e))throw new sx(Mo(e),0);if(BI.includes(e.status))throw new sx(Mo(e),e.status);let r;try{r=await e.json()}catch(i){throw new qo(Mo(i),i)}let s;const a=xI(e);if(a&&a.getTime()>=XB["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?s=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(s=r.error_code),s){if(s==="weak_password")throw new Pv(Mo(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(s==="session_not_found")throw new Bn}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new Pv(Mo(r),e.status,r.weak_password.reasons);throw new Yk(Mo(r),e.status||500,s)}const NI=(e,t,r,s)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),a.body=JSON.stringify(s),Object.assign(Object.assign({},a),r))};async function ht(e,t,r,s){var a;const i=Object.assign({},s==null?void 0:s.headers);i[rx]||(i[rx]=XB["2024-01-01"].name),s!=null&&s.jwt&&(i.Authorization=`Bearer ${s.jwt}`);const o=(a=s==null?void 0:s.query)!==null&&a!==void 0?a:{};s!=null&&s.redirectTo&&(o.redirect_to=s.redirectTo);const A=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await jI(e,t,r+A,{headers:i,noResolveJson:s==null?void 0:s.noResolveJson},{},s==null?void 0:s.body);return s!=null&&s.xform?s==null?void 0:s.xform(l):{data:Object.assign({},l),error:null}}async function jI(e,t,r,s,a,i){const o=NI(t,s,a,i);let A;try{A=await e(r,Object.assign({},o))}catch(l){throw console.error(l),new sx(Mo(l),0)}if(A.ok||await $v(A),s!=null&&s.noResolveJson)return A;try{return await A.json()}catch(l){await $v(l)}}function ha(e){var t;let r=null;SI(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=oI(e.expires_in)));const s=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:s},error:null}}function Mv(e){const t=ha(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,s)=>r&&typeof s=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Xi(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function CI(e){return{data:e,error:null}}function _I(e){const{action_link:t,email_otp:r,hashed_token:s,redirect_to:a,verification_type:i}=e,o=Uf(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),A={action_link:t,email_otp:r,hashed_token:s,redirect_to:a,verification_type:i},l=Object.assign({},o);return{data:{properties:A,user:l},error:null}}function Kv(e){return e}function SI(e){return e.access_token&&e.refresh_token&&e.expires_in}const xm=["global","local","others"];class EI{constructor({url:t="",headers:r={},fetch:s}){this.url=t,this.headers=r,this.fetch=eN(s),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=xm[0]){if(xm.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${xm.join(", ")}`);try{return await ht(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(s){if(st(s))return{data:null,error:s};throw s}}async inviteUserByEmail(t,r={}){try{return await ht(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Xi})}catch(s){if(st(s))return{data:{user:null},error:s};throw s}}async generateLink(t){try{const{options:r}=t,s=Uf(t,["options"]),a=Object.assign(Object.assign({},s),r);return"newEmail"in s&&(a.new_email=s==null?void 0:s.newEmail,delete a.newEmail),await ht(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:_I,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(st(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await ht(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Xi})}catch(r){if(st(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,s,a,i,o,A,l;try{const c={nextPage:null,lastPage:0,total:0},d=await ht(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&s!==void 0?s:"",per_page:(i=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:Kv});if(d.error)throw d.error;const f=await d.json(),m=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,h=(l=(A=d.headers.get("link"))===null||A===void 0?void 0:A.split(","))!==null&&l!==void 0?l:[];return h.length>0&&(h.forEach(v=>{const b=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),N=JSON.parse(v.split(";")[1].split("=")[1]);c[`${N}Page`]=b}),c.total=parseInt(m)),{data:Object.assign(Object.assign({},f),c),error:null}}catch(c){if(st(c))return{data:{users:[]},error:c};throw c}}async getUserById(t){XA(t);try{return await ht(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Xi})}catch(r){if(st(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){XA(t);try{return await ht(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Xi})}catch(s){if(st(s))return{data:{user:null},error:s};throw s}}async deleteUser(t,r=!1){XA(t);try{return await ht(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Xi})}catch(s){if(st(s))return{data:{user:null},error:s};throw s}}async _listFactors(t){XA(t.userId);try{const{data:r,error:s}=await ht(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:r,error:s}}catch(r){if(st(r))return{data:null,error:r};throw r}}async _deleteFactor(t){XA(t.userId),XA(t.id);try{return{data:await ht(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(st(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,s,a,i,o,A,l;try{const c={nextPage:null,lastPage:0,total:0},d=await ht(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&s!==void 0?s:"",per_page:(i=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:Kv});if(d.error)throw d.error;const f=await d.json(),m=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,h=(l=(A=d.headers.get("link"))===null||A===void 0?void 0:A.split(","))!==null&&l!==void 0?l:[];return h.length>0&&(h.forEach(v=>{const b=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),N=JSON.parse(v.split(";")[1].split("=")[1]);c[`${N}Page`]=b}),c.total=parseInt(m)),{data:Object.assign(Object.assign({},f),c),error:null}}catch(c){if(st(c))return{data:{clients:[]},error:c};throw c}}async _createOAuthClient(t){try{return await ht(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(st(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await ht(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(st(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await ht(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(st(s))return{data:null,error:s};throw s}}async _deleteOAuthClient(t){try{return await ht(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(st(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await ht(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(st(r))return{data:null,error:r};throw r}}}function Vv(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const YA={debug:!!(globalThis&&ZB()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class tN extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class FI extends tN{}async function UI(e,t,r){YA.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const s=new globalThis.AbortController;return t>0&&setTimeout(()=>{s.abort(),YA.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:s.signal},async a=>{if(a){YA.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,a.name);try{return await r()}finally{YA.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,a.name)}}else{if(t===0)throw YA.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new FI(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(YA.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function QI(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function rN(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function kI(e){return parseInt(e,16)}function II(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,s=>s.toString(16).padStart(2,"0")).join("")}function LI(e){var t;const{chainId:r,domain:s,expirationTime:a,issuedAt:i=new Date,nonce:o,notBefore:A,requestId:l,resources:c,scheme:d,uri:f,version:m}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!s)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!f)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(m!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${m}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const h=rN(e.address),v=d?`${d}://${s}`:s,b=e.statement?`${e.statement}
`:"",N=`${v} wants you to sign in with your Ethereum account:
${h}

${b}`;let w=`URI: ${f}
Version: ${m}
Chain ID: ${r}${o?`
Nonce: ${o}`:""}
Issued At: ${i.toISOString()}`;if(a&&(w+=`
Expiration Time: ${a.toISOString()}`),A&&(w+=`
Not Before: ${A.toISOString()}`),l&&(w+=`
Request ID: ${l}`),c){let x=`
Resources:`;for(const B of c){if(!B||typeof B!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${B}`);x+=`
- ${B}`}w+=x}return`${N}
${w}`}class Dr extends Error{constructor({message:t,code:r,cause:s,name:a}){var i;super(t,{cause:s}),this.__isWebAuthnError=!0,this.name=(i=a??(s instanceof Error?s.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=r}}class X0 extends Dr{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function TI({error:e,options:t}){var r,s,a;const{publicKey:i}=t;if(!i)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Dr({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=i.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new Dr({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((s=i.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new Dr({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((a=i.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new Dr({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new Dr({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new Dr({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return i.pubKeyCredParams.filter(A=>A.type==="public-key").length===0?new Dr({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Dr({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const o=window.location.hostname;if(sN(o)){if(i.rp.id!==o)return new Dr({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Dr({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new Dr({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new Dr({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Dr({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function PI({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Dr({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new Dr({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const s=window.location.hostname;if(sN(s)){if(r.rpId!==s)return new Dr({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Dr({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new Dr({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Dr({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class RI{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const OI=new RI;function DI(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:s}=e,a=Uf(e,["challenge","user","excludeCredentials"]),i=Ll(t).buffer,o=Object.assign(Object.assign({},r),{id:Ll(r.id).buffer}),A=Object.assign(Object.assign({},a),{challenge:i,user:o});if(s&&s.length>0){A.excludeCredentials=new Array(s.length);for(let l=0;l<s.length;l++){const c=s[l];A.excludeCredentials[l]=Object.assign(Object.assign({},c),{id:Ll(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return A}function HI(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,s=Uf(e,["challenge","allowCredentials"]),a=Ll(t).buffer,i=Object.assign(Object.assign({},s),{challenge:a});if(r&&r.length>0){i.allowCredentials=new Array(r.length);for(let o=0;o<r.length;o++){const A=r[o];i.allowCredentials[o]=Object.assign(Object.assign({},A),{id:Ll(A.id).buffer,type:A.type||"public-key",transports:A.transports})}}return i}function $I(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:Yo(new Uint8Array(e.response.attestationObject)),clientDataJSON:Yo(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function MI(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,s=e.getClientExtensionResults(),a=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Yo(new Uint8Array(a.authenticatorData)),clientDataJSON:Yo(new Uint8Array(a.clientDataJSON)),signature:Yo(new Uint8Array(a.signature)),userHandle:a.userHandle?Yo(new Uint8Array(a.userHandle)):void 0},type:"public-key",clientExtensionResults:s,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function sN(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function zv(){var e,t;return!!(fs()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function KI(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new X0("Browser returned unexpected credential type",t)}:{data:null,error:new X0("Empty credential response",t)}}catch(t){return{data:null,error:TI({error:t,options:e})}}}async function VI(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new X0("Browser returned unexpected credential type",t)}:{data:null,error:new X0("Empty credential response",t)}}catch(t){return{data:null,error:PI({error:t,options:e})}}}const zI={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},qI={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Y0(...e){const t=a=>a!==null&&typeof a=="object"&&!Array.isArray(a),r=a=>a instanceof ArrayBuffer||ArrayBuffer.isView(a),s={};for(const a of e)if(a)for(const i in a){const o=a[i];if(o!==void 0)if(Array.isArray(o))s[i]=o;else if(r(o))s[i]=o;else if(t(o)){const A=s[i];t(A)?s[i]=Y0(A,o):s[i]=Y0(o)}else s[i]=o}return s}function GI(e,t){return Y0(zI,e,t||{})}function WI(e,t){return Y0(qI,e,t||{})}class JI{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:s,signal:a},i){var o;try{const{data:A,error:l}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!A)return{data:null,error:l};const c=a??OI.createNewAbortSignal();if(A.webauthn.type==="create"){const{user:d}=A.webauthn.credential_options.publicKey;if(!d.name){const f=s;if(f)d.name=`${d.id}:${f}`;else{const h=(await this.client.getUser()).data.user,v=((o=h==null?void 0:h.user_metadata)===null||o===void 0?void 0:o.name)||(h==null?void 0:h.email)||(h==null?void 0:h.id)||"User";d.name=`${d.id}:${v}`}}d.displayName||(d.displayName=d.name)}switch(A.webauthn.type){case"create":{const d=GI(A.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:f,error:m}=await KI({publicKey:d,signal:c});return f?{data:{factorId:t,challengeId:A.id,webauthn:{type:A.webauthn.type,credential_response:f}},error:null}:{data:null,error:m}}case"request":{const d=WI(A.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:f,error:m}=await VI(Object.assign(Object.assign({},A.webauthn.credential_options),{publicKey:d,signal:c}));return f?{data:{factorId:t,challengeId:A.id,webauthn:{type:A.webauthn.type,credential_response:f}},error:null}:{data:null,error:m}}}}catch(A){return st(A)?{data:null,error:A}:{data:null,error:new qo("Unexpected error in challenge",A)}}}async _verify({challengeId:t,factorId:r,webauthn:s}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:s})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},i){if(!r)return{data:null,error:new Yu("rpId is required for WebAuthn authentication")};try{if(!zv())return{data:null,error:new qo("Browser does not support WebAuthn",null)};const{data:o,error:A}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:s},signal:a},{request:i});if(!o)return{data:null,error:A};const{webauthn:l}=o;return this._verify({factorId:t,challengeId:o.challengeId,webauthn:{type:l.type,rpId:r,rpOrigins:s,credential_response:l.credential_response}})}catch(o){return st(o)?{data:null,error:o}:{data:null,error:new qo("Unexpected error in authenticate",o)}}}async _register({friendlyName:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},i){if(!r)return{data:null,error:new Yu("rpId is required for WebAuthn registration")};try{if(!zv())return{data:null,error:new qo("Browser does not support WebAuthn",null)};const{data:o,error:A}=await this._enroll({friendlyName:t});if(!o)return await this.client.mfa.listFactors().then(d=>{var f;return(f=d.data)===null||f===void 0?void 0:f.all.find(m=>m.factor_type==="webauthn"&&m.friendly_name===t&&m.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:A};const{data:l,error:c}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:r,rpOrigins:s},signal:a},{create:i});return l?this._verify({factorId:o.id,challengeId:l.challengeId,webauthn:{rpId:r,rpOrigins:s,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:c}}catch(o){return st(o)?{data:null,error:o}:{data:null,error:new qo("Unexpected error in register",o)}}}}QI();const XI={url:qk,storageKey:Gk,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Wk,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function qv(e,t,r){return await r()}const ZA={};class Zu{get jwks(){var t,r;return(r=(t=ZA[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){ZA[this.storageKey]=Object.assign(Object.assign({},ZA[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=ZA[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){ZA[this.storageKey]=Object.assign(Object.assign({},ZA[this.storageKey]),{cachedAt:t})}constructor(t){var r,s,a;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},XI),t);if(this.storageKey=i.storageKey,this.instanceID=(r=Zu.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,Zu.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&fs()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new EI({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=eN(i.fetch),this.lock=i.lock||qv,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,this.lockAcquireTimeout=i.lockAcquireTimeout,i.lock?this.lock=i.lock:this.persistSession&&fs()&&(!((s=globalThis==null?void 0:globalThis.navigator)===null||s===void 0)&&s.locks)?this.lock=UI:this.lock=qv,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new JI(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:ZB()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Vv(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=Vv(this.memoryStorage)),fs()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(a=this.broadcastChannel)===null||a===void 0||a.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o);try{await this._notifyAllSubscribers(o.data.event,o.data.session,!1)}catch(A){this._debug("#broadcastChannel","error",A)}})}this.initialize().catch(o=>{this._debug("#initialize()","error",o)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${JB}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let r={},s="none";if(fs()&&(r=lI(window.location.href),this._isImplicitGrantCallback(r)?s="implicit":await this._isPKCECallback(r)&&(s="pkce")),fs()&&this.detectSessionInUrl&&s!=="none"){const{data:a,error:i}=await this._getSessionFromURL(r,s);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),eI(i)){const l=(t=i.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return{error:i}}const{session:o,redirectType:A}=a;return this._debug("#_initialize()","detected session in URL",o,"redirect type",A),await this._saveSession(o),setTimeout(async()=>{A==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return st(r)?this._returnResult({error:r}):this._returnResult({error:new qo("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,s,a;try{const i=await ht(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(s=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:(a=t==null?void 0:t.options)===null||a===void 0?void 0:a.captchaToken}},xform:ha}),{data:o,error:A}=i;if(A||!o)return this._returnResult({data:{user:null,session:null},error:A});const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(i){if(st(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(t){var r,s,a;try{let i;if("email"in t){const{email:d,password:f,options:m}=t;let h=null,v=null;this.flowType==="pkce"&&([h,v]=await JA(this.storage,this.storageKey)),i=await ht(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:m==null?void 0:m.emailRedirectTo,body:{email:d,password:f,data:(r=m==null?void 0:m.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},code_challenge:h,code_challenge_method:v},xform:ha})}else if("phone"in t){const{phone:d,password:f,options:m}=t;i=await ht(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(s=m==null?void 0:m.data)!==null&&s!==void 0?s:{},channel:(a=m==null?void 0:m.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:ha})}else throw new $h("You must provide either an email or phone number and a password");const{data:o,error:A}=i;if(A||!o)return await hs(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:A});const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(i){if(await hs(this.storage,`${this.storageKey}-code-verifier`),st(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:o,options:A}=t;r=await ht(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:A==null?void 0:A.captchaToken}},xform:Mv})}else if("phone"in t){const{phone:i,password:o,options:A}=t;r=await ht(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:A==null?void 0:A.captchaToken}},xform:Mv})}else throw new $h("You must provide either an email or phone number and a password");const{data:s,error:a}=r;if(a)return this._returnResult({data:{user:null,session:null},error:a});if(!s||!s.session||!s.user){const i=new WA;return this._returnResult({data:{user:null,session:null},error:i})}return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),this._returnResult({data:Object.assign({user:s.user,session:s.session},s.weak_password?{weakPassword:s.weak_password}:null),error:a})}catch(r){if(st(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(t){var r,s,a,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(s=t.options)===null||s===void 0?void 0:s.scopes,queryParams:(a=t.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,s,a,i,o,A,l,c,d,f,m;let h,v;if("message"in t)h=t.message,v=t.signature;else{const{chain:b,wallet:N,statement:w,options:x}=t;let B;if(fs())if(typeof N=="object")B=N;else{const W=window;if("ethereum"in W&&typeof W.ethereum=="object"&&"request"in W.ethereum&&typeof W.ethereum.request=="function")B=W.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof N!="object"||!(x!=null&&x.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");B=N}const C=new URL((r=x==null?void 0:x.url)!==null&&r!==void 0?r:window.location.href),E=await B.request({method:"eth_requestAccounts"}).then(W=>W).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!E||E.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const S=rN(E[0]);let D=(s=x==null?void 0:x.signInWithEthereum)===null||s===void 0?void 0:s.chainId;if(!D){const W=await B.request({method:"eth_chainId"});D=kI(W)}const R={domain:C.host,address:S,statement:w,uri:C.href,version:"1",chainId:D,nonce:(a=x==null?void 0:x.signInWithEthereum)===null||a===void 0?void 0:a.nonce,issuedAt:(o=(i=x==null?void 0:x.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(A=x==null?void 0:x.signInWithEthereum)===null||A===void 0?void 0:A.expirationTime,notBefore:(l=x==null?void 0:x.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(c=x==null?void 0:x.signInWithEthereum)===null||c===void 0?void 0:c.requestId,resources:(d=x==null?void 0:x.signInWithEthereum)===null||d===void 0?void 0:d.resources};h=LI(R),v=await B.request({method:"personal_sign",params:[II(h),S]})}try{const{data:b,error:N}=await ht(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:h,signature:v},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(m=t.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:ha});if(N)throw N;if(!b||!b.session||!b.user){const w=new WA;return this._returnResult({data:{user:null,session:null},error:w})}return b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),this._returnResult({data:Object.assign({},b),error:N})}catch(b){if(st(b))return this._returnResult({data:{user:null,session:null},error:b});throw b}}async signInWithSolana(t){var r,s,a,i,o,A,l,c,d,f,m,h;let v,b;if("message"in t)v=t.message,b=t.signature;else{const{chain:N,wallet:w,statement:x,options:B}=t;let C;if(fs())if(typeof w=="object")C=w;else{const S=window;if("solana"in S&&typeof S.solana=="object"&&("signIn"in S.solana&&typeof S.solana.signIn=="function"||"signMessage"in S.solana&&typeof S.solana.signMessage=="function"))C=S.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof w!="object"||!(B!=null&&B.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");C=w}const E=new URL((r=B==null?void 0:B.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in C&&C.signIn){const S=await C.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},B==null?void 0:B.signInWithSolana),{version:"1",domain:E.host,uri:E.href}),x?{statement:x}:null));let D;if(Array.isArray(S)&&S[0]&&typeof S[0]=="object")D=S[0];else if(S&&typeof S=="object"&&"signedMessage"in S&&"signature"in S)D=S;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in D&&"signature"in D&&(typeof D.signedMessage=="string"||D.signedMessage instanceof Uint8Array)&&D.signature instanceof Uint8Array)v=typeof D.signedMessage=="string"?D.signedMessage:new TextDecoder().decode(D.signedMessage),b=D.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in C)||typeof C.signMessage!="function"||!("publicKey"in C)||typeof C!="object"||!C.publicKey||!("toBase58"in C.publicKey)||typeof C.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");v=[`${E.host} wants you to sign in with your Solana account:`,C.publicKey.toBase58(),...x?["",x,""]:[""],"Version: 1",`URI: ${E.href}`,`Issued At: ${(a=(s=B==null?void 0:B.signInWithSolana)===null||s===void 0?void 0:s.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((i=B==null?void 0:B.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${B.signInWithSolana.notBefore}`]:[],...!((o=B==null?void 0:B.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${B.signInWithSolana.expirationTime}`]:[],...!((A=B==null?void 0:B.signInWithSolana)===null||A===void 0)&&A.chainId?[`Chain ID: ${B.signInWithSolana.chainId}`]:[],...!((l=B==null?void 0:B.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${B.signInWithSolana.nonce}`]:[],...!((c=B==null?void 0:B.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${B.signInWithSolana.requestId}`]:[],...!((f=(d=B==null?void 0:B.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...B.signInWithSolana.resources.map(D=>`- ${D}`)]:[]].join(`
`);const S=await C.signMessage(new TextEncoder().encode(v),"utf8");if(!S||!(S instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");b=S}}try{const{data:N,error:w}=await ht(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:v,signature:Yo(b)},!((m=t.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(h=t.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:ha});if(w)throw w;if(!N||!N.session||!N.user){const x=new WA;return this._returnResult({data:{user:null,session:null},error:x})}return N.session&&(await this._saveSession(N.session),await this._notifyAllSubscribers("SIGNED_IN",N.session)),this._returnResult({data:Object.assign({},N),error:w})}catch(N){if(st(N))return this._returnResult({data:{user:null,session:null},error:N});throw N}}async _exchangeCodeForSession(t){const r=await Ro(this.storage,`${this.storageKey}-code-verifier`),[s,a]=(r??"").split("/");try{if(!s&&this.flowType==="pkce")throw new tI;const{data:i,error:o}=await ht(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:s},xform:ha});if(await hs(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!i||!i.session||!i.user){const A=new WA;return this._returnResult({data:{user:null,session:null,redirectType:null},error:A})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:a??null}),error:o})}catch(i){if(await hs(this.storage,`${this.storageKey}-code-verifier`),st(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(t){try{const{options:r,provider:s,token:a,access_token:i,nonce:o}=t,A=await ht(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:s,id_token:a,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:ha}),{data:l,error:c}=A;if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l||!l.session||!l.user){const d=new WA;return this._returnResult({data:{user:null,session:null},error:d})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:l,error:c})}catch(r){if(st(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(t){var r,s,a,i,o;try{if("email"in t){const{email:A,options:l}=t;let c=null,d=null;this.flowType==="pkce"&&([c,d]=await JA(this.storage,this.storageKey));const{error:f}=await ht(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:A,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(s=l==null?void 0:l.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:d},redirectTo:l==null?void 0:l.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:f})}if("phone"in t){const{phone:A,options:l}=t,{data:c,error:d}=await ht(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:A,data:(a=l==null?void 0:l.data)!==null&&a!==void 0?a:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:d})}throw new $h("You must provide either an email or phone number.")}catch(A){if(await hs(this.storage,`${this.storageKey}-code-verifier`),st(A))return this._returnResult({data:{user:null,session:null},error:A});throw A}}async verifyOtp(t){var r,s;try{let a,i;"options"in t&&(a=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(s=t.options)===null||s===void 0?void 0:s.captchaToken);const{data:o,error:A}=await ht(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:a,xform:ha});if(A)throw A;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,c=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(a){if(st(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithSSO(t){var r,s,a,i,o;try{let A=null,l=null;this.flowType==="pkce"&&([A,l]=await JA(this.storage,this.storageKey));const c=await ht(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&s!==void 0?s:void 0}),!((a=t==null?void 0:t.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:A,code_challenge_method:l}),headers:this.headers,xform:CI});return!((i=c.data)===null||i===void 0)&&i.url&&fs()&&!(!((o=t.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(c.data.url),this._returnResult(c)}catch(A){if(await hs(this.storage,`${this.storageKey}-code-verifier`),st(A))return this._returnResult({data:null,error:A});throw A}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:s}=t;if(s)throw s;if(!r)throw new Bn;const{error:a}=await ht(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:a})})}catch(t){if(st(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:s,type:a,options:i}=t,{error:o}=await ht(this.fetch,"POST",r,{headers:this.headers,body:{email:s,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in t){const{phone:s,type:a,options:i}=t,{data:o,error:A}=await ht(this.fetch,"POST",r,{headers:this.headers,body:{phone:s,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:A})}throw new $h("You must provide either an email or phone number and a type")}catch(r){if(st(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const s=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await s,await r()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const s=r();for(this.pendingInLock.push((async()=>{try{await s}catch{}})()),await s;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await s}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Ro(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const s=t.expires_at?t.expires_at*1e3-Date.now()<fm:!1;if(this._debug("#__loadSession()",`session has${s?"":" not"} expired`,"expires_at",t.expires_at),!s){if(this.userStorage){const o=await Ro(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=gm()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};t.user=yI(t.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:a},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const r=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(t){try{return t?await ht(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Xi}):await this._useSession(async r=>{var s,a,i;const{data:o,error:A}=r;if(A)throw A;return!(!((s=o.session)===null||s===void 0)&&s.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Bn}:await ht(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(a=o.session)===null||a===void 0?void 0:a.access_token)!==null&&i!==void 0?i:void 0,xform:Xi})})}catch(r){if(st(r))return pm(r)&&(await this._removeSession(),await hs(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async s=>{const{data:a,error:i}=s;if(i)throw i;if(!a.session)throw new Bn;const o=a.session;let A=null,l=null;this.flowType==="pkce"&&t.email!=null&&([A,l]=await JA(this.storage,this.storageKey));const{data:c,error:d}=await ht(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:A,code_challenge_method:l}),jwt:o.access_token,xform:Xi});if(d)throw d;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(s){if(await hs(this.storage,`${this.storageKey}-code-verifier`),st(s))return this._returnResult({data:{user:null},error:s});throw s}}async setSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Bn;const r=Date.now()/1e3;let s=r,a=!0,i=null;const{payload:o}=Kh(t.access_token);if(o.exp&&(s=o.exp,a=s<=r),a){const{data:A,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!A)return{data:{user:null,session:null},error:null};i=A}else{const{data:A,error:l}=await this._getUser(t.access_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});i={access_token:t.access_token,refresh_token:t.refresh_token,user:A.user,token_type:"bearer",expires_in:s-r,expires_at:s},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(r){if(st(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var s;if(!t){const{data:o,error:A}=r;if(A)throw A;t=(s=o.session)!==null&&s!==void 0?s:void 0}if(!(t!=null&&t.refresh_token))throw new Bn;const{data:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):a?this._returnResult({data:{user:a.user,session:a},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(st(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(t,r){try{if(!fs())throw new Mh("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Mh(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Tv("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Mh("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Tv("No code detected.");const{data:x,error:B}=await this._exchangeCodeForSession(t.code);if(B)throw B;const C=new URL(window.location.href);return C.searchParams.delete("code"),window.history.replaceState(window.history.state,"",C.toString()),{data:{session:x.session,redirectType:null},error:null}}const{provider_token:s,provider_refresh_token:a,access_token:i,refresh_token:o,expires_in:A,expires_at:l,token_type:c}=t;if(!i||!A||!o||!c)throw new Mh("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(A);let m=d+f;l&&(m=parseInt(l));const h=m-d;h*1e3<=al&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${h}s, should have been closer to ${f}s`);const v=m-f;d-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,m,d):d-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,m,d);const{data:b,error:N}=await this._getUser(i);if(N)throw N;const w={provider_token:s,provider_refresh_token:a,access_token:i,expires_in:f,expires_at:m,refresh_token:o,token_type:c,user:b.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:w,redirectType:t.type},error:null})}catch(s){if(st(s))return this._returnResult({data:{session:null,redirectType:null},error:s});throw s}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Ro(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var s;const{data:a,error:i}=r;if(i&&!pm(i))return this._returnResult({error:i});const o=(s=a.session)===null||s===void 0?void 0:s.access_token;if(o){const{error:A}=await this.admin.signOut(o,t);if(A&&!(Zk(A)&&(A.status===404||A.status===401||A.status===403)||pm(A)))return this._returnResult({error:A})}return t!=="others"&&(await this._removeSession(),await hs(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const r=AI(),s={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,s),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:s}}}async _emitInitialSession(t){return await this._useSession(async r=>{var s,a;try{const{data:{session:i},error:o}=r;if(o)throw o;await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let s=null,a=null;this.flowType==="pkce"&&([s,a]=await JA(this.storage,this.storageKey,!0));try{return await ht(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:s,code_challenge_method:a,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(await hs(this.storage,`${this.storageKey}-code-verifier`),st(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var t;try{const{data:r,error:s}=await this.getUser();if(s)throw s;return this._returnResult({data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(r){if(st(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:s,error:a}=await this._useSession(async i=>{var o,A,l,c,d;const{data:f,error:m}=i;if(m)throw m;const h=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(A=t.options)===null||A===void 0?void 0:A.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await ht(this.fetch,"GET",h,{headers:this.headers,jwt:(d=(c=f.session)===null||c===void 0?void 0:c.access_token)!==null&&d!==void 0?d:void 0})});if(a)throw a;return fs()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(s==null?void 0:s.url),this._returnResult({data:{provider:t.provider,url:s==null?void 0:s.url},error:null})}catch(s){if(st(s))return this._returnResult({data:{provider:t.provider,url:null},error:s});throw s}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var s;try{const{error:a,data:{session:i}}=r;if(a)throw a;const{options:o,provider:A,token:l,access_token:c,nonce:d}=t,f=await ht(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(s=i==null?void 0:i.access_token)!==null&&s!==void 0?s:void 0,body:{provider:A,id_token:l,access_token:c,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:ha}),{data:m,error:h}=f;return h?this._returnResult({data:{user:null,session:null},error:h}):!m||!m.session||!m.user?this._returnResult({data:{user:null,session:null},error:new WA}):(m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("USER_UPDATED",m.session)),this._returnResult({data:m,error:h}))}catch(a){if(await hs(this.storage,`${this.storageKey}-code-verifier`),st(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var s,a;const{data:i,error:o}=r;if(o)throw o;return await ht(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(a=(s=i.session)===null||s===void 0?void 0:s.access_token)!==null&&a!==void 0?a:void 0})})}catch(r){if(st(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const s=Date.now();return await dI(async a=>(a>0&&await uI(200*Math.pow(2,a-1)),this._debug(r,"refreshing attempt",a),await ht(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:ha})),(a,i)=>{const o=200*Math.pow(2,a);return i&&mm(i)&&Date.now()+o-s<al})}catch(s){if(this._debug(r,"error",s),st(s))return this._returnResult({data:{session:null,user:null},error:s});throw s}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const s=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",s),fs()&&!r.skipBrowserRedirect&&window.location.assign(s),{data:{provider:t,url:s},error:null}}async _recoverAndRefresh(){var t,r;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const a=await Ro(this.storage,this.storageKey);if(a&&this.userStorage){let o=await Ro(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:a.user},await il(this.userStorage,this.storageKey+"-user",o)),a.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:gm()}else if(a&&!a.user&&!a.user){const o=await Ro(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(a.user=o.user,await hs(this.storage,this.storageKey+"-user"),await il(this.storage,this.storageKey,a)):a.user=gm()}if(this._debug(s,"session from storage",a),!this._isValidSession(a)){this._debug(s,"session is not valid"),a!==null&&await this._removeSession();return}const i=((r=a.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<fm;if(this._debug(s,`session has${i?"":" not"} expired with margin of ${fm}s`),i){if(this.autoRefreshToken&&a.refresh_token){const{error:o}=await this._callRefreshToken(a.refresh_token);o&&(console.error(o),mm(o)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:A}=await this._getUser(a.access_token);!A&&(o!=null&&o.user)?(a.user=o.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(s,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(s,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(s,"error",a),console.error(a);return}finally{this._debug(s,"end")}}async _callRefreshToken(t){var r,s;if(!t)throw new Bn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new If;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new Bn;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const A={data:i.session,error:null};return this.refreshingDeferred.resolve(A),A}catch(i){if(this._debug(a,"error",i),st(i)){const o={data:null,error:i};return mm(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(s=this.refreshingDeferred)===null||s===void 0||s.reject(i),i}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(t,r,s=!0){const a=`#_notifyAllSubscribers(${t})`;this._debug(a,"begin",r,`broadcast = ${s}`);try{this.broadcastChannel&&s&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async A=>{try{await A.callback(t,r)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let A=0;A<i.length;A+=1)console.error(i[A]);throw i[0]}}finally{this._debug(a,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await hs(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},t),s=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!s&&r.user&&await il(this.userStorage,this.storageKey+"-user",{user:r.user});const a=Object.assign({},r);delete a.user;const i=Hv(a);await il(this.storage,this.storageKey,i)}else{const a=Hv(r);await il(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await hs(this.storage,this.storageKey),await hs(this.storage,this.storageKey+"-code-verifier"),await hs(this.storage,this.storageKey+"-user"),this.userStorage&&await hs(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&fs()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),al);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t);const r=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t);const r=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,r&&clearTimeout(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:s}}=r;if(!s||!s.refresh_token||!s.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((s.expires_at*1e3-t)/al);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${al}ms, refresh threshold is ${tx} ticks`),a<=tx&&await this._callRefreshToken(s.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof tN)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!fs()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(t){this._debug("#visibilityChangedCallback","error",t)}},window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,s){const a=[`provider=${encodeURIComponent(r)}`];if(s!=null&&s.redirectTo&&a.push(`redirect_to=${encodeURIComponent(s.redirectTo)}`),s!=null&&s.scopes&&a.push(`scopes=${encodeURIComponent(s.scopes)}`),this.flowType==="pkce"){const[i,o]=await JA(this.storage,this.storageKey),A=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});a.push(A.toString())}if(s!=null&&s.queryParams){const i=new URLSearchParams(s.queryParams);a.push(i.toString())}return s!=null&&s.skipBrowserRedirect&&a.push(`skip_http_redirect=${s.skipBrowserRedirect}`),`${t}?${a.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var s;const{data:a,error:i}=r;return i?this._returnResult({data:null,error:i}):await ht(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(s=a==null?void 0:a.session)===null||s===void 0?void 0:s.access_token})})}catch(r){if(st(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(t){try{return await this._useSession(async r=>{var s,a;const{data:i,error:o}=r;if(o)return this._returnResult({data:null,error:o});const A=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:l,error:c}=await ht(this.fetch,"POST",`${this.url}/factors`,{body:A,headers:this.headers,jwt:(s=i==null?void 0:i.session)===null||s===void 0?void 0:s.access_token});return c?this._returnResult({data:null,error:c}):(t.factorType==="totp"&&l.type==="totp"&&(!((a=l==null?void 0:l.totp)===null||a===void 0)&&a.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),this._returnResult({data:l,error:null}))})}catch(r){if(st(r))return this._returnResult({data:null,error:r});throw r}}async _verify(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var s;const{data:a,error:i}=r;if(i)return this._returnResult({data:null,error:i});const o=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?$I(t.webauthn.credential_response):MI(t.webauthn.credential_response)})}:{code:t.code}),{data:A,error:l}=await ht(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:o,headers:this.headers,jwt:(s=a==null?void 0:a.session)===null||s===void 0?void 0:s.access_token});return l?this._returnResult({data:null,error:l}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+A.expires_in},A)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",A),this._returnResult({data:A,error:l}))})}catch(r){if(st(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var s;const{data:a,error:i}=r;if(i)return this._returnResult({data:null,error:i});const o=await ht(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(s=a==null?void 0:a.session)===null||s===void 0?void 0:s.access_token});if(o.error)return o;const{data:A}=o;if(A.type!=="webauthn")return{data:A,error:null};switch(A.webauthn.type){case"create":return{data:Object.assign(Object.assign({},A),{webauthn:Object.assign(Object.assign({},A.webauthn),{credential_options:Object.assign(Object.assign({},A.webauthn.credential_options),{publicKey:DI(A.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},A),{webauthn:Object.assign(Object.assign({},A.webauthn),{credential_options:Object.assign(Object.assign({},A.webauthn.credential_options),{publicKey:HI(A.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(st(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(t){const{data:r,error:s}=await this._challenge({factorId:t.factorId});return s?this._returnResult({data:null,error:s}):await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:s}=await this.getUser();if(s)return{data:null,error:s};const a={all:[],phone:[],totp:[],webauthn:[]};for(const i of(t=r==null?void 0:r.factors)!==null&&t!==void 0?t:[])a.all.push(i),i.status==="verified"&&a[i.factor_type].push(i);return{data:a,error:null}}async _getAuthenticatorAssuranceLevel(t){var r,s,a,i;if(t)try{const{payload:h}=Kh(t);let v=null;h.aal&&(v=h.aal);let b=v;const{data:{user:N},error:w}=await this.getUser(t);if(w)return this._returnResult({data:null,error:w});((s=(r=N==null?void 0:N.factors)===null||r===void 0?void 0:r.filter(C=>C.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(b="aal2");const B=h.amr||[];return{data:{currentLevel:v,nextLevel:b,currentAuthenticationMethods:B},error:null}}catch(h){if(st(h))return this._returnResult({data:null,error:h});throw h}const{data:{session:o},error:A}=await this.getSession();if(A)return this._returnResult({data:null,error:A});if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:l}=Kh(o.access_token);let c=null;l.aal&&(c=l.aal);let d=c;((i=(a=o.user.factors)===null||a===void 0?void 0:a.filter(h=>h.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(d="aal2");const m=l.amr||[];return{data:{currentLevel:c,nextLevel:d,currentAuthenticationMethods:m},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:s},error:a}=r;return a?this._returnResult({data:null,error:a}):s?await ht(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:s.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new Bn})})}catch(r){if(st(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async s=>{const{data:{session:a},error:i}=s;if(i)return this._returnResult({data:null,error:i});if(!a)return this._returnResult({data:null,error:new Bn});const o=await ht(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"approve"},xform:A=>({data:A,error:null})});return o.data&&o.data.redirect_url&&fs()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(s){if(st(s))return this._returnResult({data:null,error:s});throw s}}async _denyAuthorization(t,r){try{return await this._useSession(async s=>{const{data:{session:a},error:i}=s;if(i)return this._returnResult({data:null,error:i});if(!a)return this._returnResult({data:null,error:new Bn});const o=await ht(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"deny"},xform:A=>({data:A,error:null})});return o.data&&o.data.redirect_url&&fs()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(s){if(st(s))return this._returnResult({data:null,error:s});throw s}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:r},error:s}=t;return s?this._returnResult({data:null,error:s}):r?await ht(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new Bn})})}catch(t){if(st(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async r=>{const{data:{session:s},error:a}=r;return a?this._returnResult({data:null,error:a}):s?(await ht(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:s.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Bn})})}catch(r){if(st(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(t,r={keys:[]}){let s=r.keys.find(A=>A.kid===t);if(s)return s;const a=Date.now();if(s=this.jwks.keys.find(A=>A.kid===t),s&&this.jwks_cached_at+Xk>a)return s;const{data:i,error:o}=await ht(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=a,s=i.keys.find(A=>A.kid===t),!s)?null:s}async getClaims(t,r={}){try{let s=t;if(!s){const{data:h,error:v}=await this.getSession();if(v||!h.session)return this._returnResult({data:null,error:v});s=h.session.access_token}const{header:a,payload:i,signature:o,raw:{header:A,payload:l}}=Kh(s);r!=null&&r.allowExpired||bI(i.exp);const c=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!c){const{error:h}=await this.getUser(s);if(h)throw h;return{data:{claims:i,header:a,signature:o},error:null}}const d=wI(a.alg),f=await crypto.subtle.importKey("jwk",c,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,o,iI(`${A}.${l}`)))throw new nx("Invalid JWT signature");return{data:{claims:i,header:a,signature:o},error:null}}catch(s){if(st(s))return this._returnResult({data:null,error:s});throw s}}}Zu.nextInstanceID={};const YI=Zu,ZI="2.95.3";let ou="";typeof Deno<"u"?ou="deno":typeof document<"u"?ou="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ou="react-native":ou="node";const e8={"X-Client-Info":`supabase-js-${ou}/${ZI}`},t8={headers:e8},r8={schema:"public"},s8={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},n8={};function ed(e){"@babel/helpers - typeof";return ed=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ed(e)}function a8(e,t){if(ed(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(ed(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function i8(e){var t=a8(e,"string");return ed(t)=="symbol"?t:t+""}function o8(e,t,r){return(t=i8(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Gv(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function yr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Gv(Object(r),!0).forEach(function(s){o8(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Gv(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}const A8=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),l8=()=>Headers,c8=(e,t,r)=>{const s=A8(r),a=l8();return async(i,o)=>{var A;const l=(A=await t())!==null&&A!==void 0?A:e;let c=new a(o==null?void 0:o.headers);return c.has("apikey")||c.set("apikey",e),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),s(i,yr(yr({},o),{},{headers:c}))}};function u8(e){return e.endsWith("/")?e:e+"/"}function d8(e,t){var r,s;const{db:a,auth:i,realtime:o,global:A}=e,{db:l,auth:c,realtime:d,global:f}=t,m={db:yr(yr({},l),a),auth:yr(yr({},c),i),realtime:yr(yr({},d),o),storage:{},global:yr(yr(yr({},f),A),{},{headers:yr(yr({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(s=A==null?void 0:A.headers)!==null&&s!==void 0?s:{})}),accessToken:async()=>""};return e.accessToken?m.accessToken=e.accessToken:delete m.accessToken,m}function h8(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(u8(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var f8=class extends YI{constructor(e){super(e)}},p8=class{constructor(e,t,r){var s,a;this.supabaseUrl=e,this.supabaseKey=t;const i=h8(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",i),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",i),this.storageUrl=new URL("storage/v1",i),this.functionsUrl=new URL("functions/v1",i);const o=`sb-${i.hostname.split(".")[0]}-auth-token`,A={db:r8,realtime:n8,auth:yr(yr({},s8),{},{storageKey:o}),global:t8},l=d8(r??{},A);if(this.storageKey=(s=l.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(a=l.global.headers)!==null&&a!==void 0?a:{},l.accessToken)this.accessToken=l.accessToken,this.auth=new Proxy({},{get:(d,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}});else{var c;this.auth=this._initSupabaseAuthClient((c=l.auth)!==null&&c!==void 0?c:{},this.headers,l.global.fetch)}this.fetch=c8(t,this._getAccessToken.bind(this),l.global.fetch),this.realtime=this._initRealtimeClient(yr({headers:this.headers,accessToken:this._getAccessToken.bind(this)},l.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(d=>this.realtime.setAuth(d)).catch(d=>console.warn("Failed to set initial Realtime auth token:",d)),this.rest=new ZQ(new URL("rest/v1",i).href,{headers:this.headers,schema:l.db.schema,fetch:this.fetch,timeout:l.db.timeout,urlLengthLimit:l.db.urlLengthLimit}),this.storage=new zk(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),l.accessToken||this._listenForAuthEvents()}get functions(){return new VQ(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,r)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,r;if(e.accessToken)return await e.accessToken();const{data:s}=await e.auth.getSession();return(t=(r=s.session)===null||r===void 0?void 0:r.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:s,userStorage:a,storageKey:i,flowType:o,lock:A,debug:l,throwOnError:c},d,f){const m={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new f8({url:this.authUrl.href,headers:yr(yr({},m),d),storageKey:i,autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:s,userStorage:a,flowType:o,lock:A,debug:l,throwOnError:c,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(h=>h.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new mk(this.realtimeUrl.href,yr(yr({},e),{},{params:yr(yr({},{apikey:this.supabaseKey}),e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t==null?void 0:t.access_token)})}_handleTokenChanged(e,t,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const m8=(e,t,r)=>new p8(e,t,r);function g8(){if(typeof window<"u")return!1;const e=globalThis.process;if(!e)return!1;const t=e.version;if(t==null)return!1;const r=t.match(/^v(\d+)\./);return r?parseInt(r[1],10)<=18:!1}g8()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const x8="https://yubyoowsizacodbqgvac.supabase.co",b8="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inl1Ynlvb3dzaXphY29kYnFndmFjIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjI2Mjc0MjIsImV4cCI6MjA3ODIwMzQyMn0.kfOMvBNS6Gl3ekzweswehKWwpttYCTH3vqoNfr2lvOw",je=m8(x8,b8),w8=({onLogin:e,currentTheme:t="blue",setTheme:r})=>{const[s,a]=X.useState(!1),[i,o]=X.useState(!1),[A,l]=X.useState(""),[c,d]=X.useState(""),[f,m]=X.useState(""),[h,v]=X.useState(!1),[b,N]=X.useState(!1),w=async()=>{try{a(!0);const E=window.location.hostname==="localhost"?"http://localhost:5173/CotizappWeb/":"https://wolfbiso-stack.github.io/CotizappWeb";console.log("Intentando redirigir a:",E);const{error:S}=await je.auth.signInWithOAuth({provider:"google",options:{redirectTo:E}});if(S)throw S}catch(E){alert("Error al iniciar con Google: "+E.message),a(!1)}},x=async E=>{E.preventDefault(),a(!0);try{if(i){if(c!==f)throw new Error("Las contraseas no coinciden.");if(c.length<6)throw new Error("La contrasea debe tener al menos 6 caracteres.");const{data:S,error:D}=await je.auth.signUp({email:A,password:c});if(D)throw D;alert("Registro exitoso. Por favor revisa tu correo para confirmar tu cuenta (si es necesario) o inicia sesin."),o(!1)}else{const{data:S,error:D}=await je.auth.signInWithPassword({email:A,password:c});if(D)throw D}}catch(S){alert(S.message||"Error de autenticacin")}finally{a(!1)}},C=(()=>{switch(t){case"dark":return{bg:"bg-slate-900",container:"bg-slate-800/60 backdrop-blur-xl border-slate-700 shadow-2xl shadow-black/50",headerGradient:"bg-gradient-to-r from-slate-900 to-slate-800 border-b border-slate-700",textTitle:"text-white",textSubtitle:"text-slate-400",inputBg:"bg-slate-900/50",inputBorder:"border-slate-600 focus:border-blue-500",inputText:"text-white placeholder-slate-500",iconColor:"text-slate-400",labelColor:"text-slate-300",divider:"border-slate-700",dividerBg:"bg-slate-800/0",dividerText:"text-slate-500",googleBtn:"bg-slate-700 border-slate-600 text-white hover:bg-slate-600",primaryBtn:"bg-blue-600 hover:bg-blue-700 text-white shadow-blue-500/20",linkText:"text-blue-400 hover:text-blue-300"};case"glass":return{bg:"bg-gradient-to-br from-indigo-300 via-purple-300 to-pink-300",container:"bg-white/30 backdrop-blur-2xl border-white/40 shadow-2xl shadow-purple-500/10",headerGradient:"bg-gradient-to-r from-white/40 to-white/20 border-b border-white/20",textTitle:"text-slate-900",textSubtitle:"text-slate-700",inputBg:"bg-white/50",inputBorder:"border-white/50 focus:border-purple-500 focus:bg-white/80",inputText:"text-slate-800 placeholder-slate-500",iconColor:"text-slate-600",labelColor:"text-slate-800",divider:"border-white/40",dividerBg:"bg-transparent",dividerText:"text-slate-600",googleBtn:"bg-white/60 border-white/50 text-slate-800 hover:bg-white/80",primaryBtn:"bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-700 hover:to-purple-700 text-white shadow-purple-500/30",linkText:"text-purple-700 hover:text-purple-900"};case"blue":default:return{bg:"bg-gradient-modern",container:"bg-white/90 backdrop-blur-xl border-white/50 shadow-2xl",headerGradient:"bg-gradient-to-r from-blue-600 to-blue-700",textTitle:"text-white",textSubtitle:"text-blue-100",inputBg:"bg-slate-50",inputBorder:"border-slate-200 focus:border-blue-500",inputText:"text-slate-800 placeholder-slate-400",iconColor:"text-slate-400",labelColor:"text-slate-600",divider:"border-slate-200",dividerBg:"bg-white",dividerText:"text-slate-500",googleBtn:"bg-white border-slate-200 text-slate-700 hover:bg-slate-50",primaryBtn:"bg-blue-600 hover:bg-blue-700 text-white shadow-blue-500/30",linkText:"text-blue-600 hover:text-blue-800"}}})();return n.jsxs("div",{className:`min-h-screen flex items-center justify-center p-4 transition-colors duration-500 ${C.bg}`,children:[n.jsxs("div",{className:"absolute top-6 right-6 flex gap-2 bg-black/10 backdrop-blur-md p-1.5 rounded-full border border-white/10",children:[n.jsx("button",{onClick:()=>r&&r("blue"),className:`p-2 rounded-full transition-all ${t==="blue"?"bg-blue-600 text-white shadow-lg scale-110":"text-white/70 hover:bg-white/10"}`,title:"Modo Azul",children:n.jsx(cA,{className:"w-4 h-4"})}),n.jsx("button",{onClick:()=>r&&r("dark"),className:`p-2 rounded-full transition-all ${t==="dark"?"bg-slate-800 text-white shadow-lg scale-110":"text-white/70 hover:bg-white/10"}`,title:"Modo Oscuro",children:n.jsx(RB,{className:"w-4 h-4"})}),n.jsx("button",{onClick:()=>r&&r("glass"),className:`p-2 rounded-full transition-all ${t==="glass"?"bg-gradient-to-r from-pink-500 to-purple-500 text-white shadow-lg scale-110":"text-white/70 hover:bg-white/10"}`,title:"Modo Glass",children:n.jsx(DB,{className:"w-4 h-4"})})]}),n.jsxs("div",{className:`w-full max-w-md overflow-hidden rounded-2xl border transition-all duration-500 ${C.container}`,children:[n.jsxs("div",{className:`p-8 text-center transition-colors duration-500 ${C.headerGradient}`,children:[n.jsx("div",{className:"w-16 h-16 bg-white/20 backdrop-blur-sm rounded-xl flex items-center justify-center mx-auto mb-4 text-white overflow-hidden shadow-inner",children:n.jsx("img",{src:"logo.png",alt:"Logo",className:"w-full h-full object-contain",onError:E=>{E.target.onerror=null,E.target.style.display="none",E.target.parentNode.innerHTML='<svg class="w-8 h-8 text-white" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M13 2L3 14h9l-1 8 10-12h-9l1-8z"></path></svg>'}})}),n.jsx("h2",{className:`text-2xl font-bold mb-1 transition-colors ${C.textTitle}`,children:i?"Crear Cuenta":"CotizaApp Web"}),n.jsx("p",{className:`text-sm tracking-widest uppercase transition-colors ${C.textSubtitle}`,children:i?"nete hoy mismo":"Soluciones a tu medida"})]}),n.jsxs("div",{className:"p-8",children:[n.jsxs("button",{onClick:w,disabled:s,className:`w-full font-bold py-3 rounded-xl shadow-sm transition-all transform hover:-translate-y-0.5 flex items-center justify-center gap-2 mb-8 ${C.googleBtn}`,children:[n.jsx("img",{src:"https://www.google.com/favicon.ico",alt:"Google",className:"w-5 h-5"}),"Continuar con Google"]}),n.jsxs("div",{className:"relative mb-8",children:[n.jsx("div",{className:"absolute inset-0 flex items-center",children:n.jsx("div",{className:`w-full border-t transition-colors ${C.divider}`})}),n.jsx("div",{className:"relative flex justify-center text-sm",children:n.jsx("span",{className:`px-4 rounded-full transition-colors ${C.dividerText} ${t==="glass"?"backdrop-blur-sm bg-white/30":t==="dark"?"bg-slate-800":"bg-white"}`,children:i?"O regstrate con tu correo":"O ingresa con tu correo"})})]}),n.jsxs("form",{onSubmit:x,className:"space-y-6",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:`text-xs font-bold uppercase tracking-wider transition-colors ${C.labelColor}`,children:"Correo Electrnico"}),n.jsxs("div",{className:"relative group",children:[n.jsx(Ff,{className:`absolute left-3 top-3.5 w-5 h-5 transition-colors ${C.iconColor} group-focus-within:text-blue-500`}),n.jsx("input",{type:"email",required:!0,className:`w-full pl-10 pr-4 py-3 rounded-xl border transition-all outline-none font-medium focus:ring-4 focus:ring-blue-500/10 ${C.inputBg} ${C.inputBorder} ${C.inputText}`,placeholder:"hola@ejemplo.com",value:A,onChange:E=>l(E.target.value)})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("div",{className:"flex justify-between items-center",children:n.jsx("label",{className:`text-xs font-bold uppercase tracking-wider transition-colors ${C.labelColor}`,children:"Contrasea"})}),n.jsxs("div",{className:"relative group",children:[n.jsx(Gg,{className:`absolute left-3 top-3.5 w-5 h-5 transition-colors ${C.iconColor} group-focus-within:text-blue-500`}),n.jsx("input",{type:h?"text":"password",required:!0,className:`w-full pl-10 pr-12 py-3 rounded-xl border transition-all outline-none font-medium focus:ring-4 focus:ring-blue-500/10 ${C.inputBg} ${C.inputBorder} ${C.inputText}`,placeholder:"",value:c,onChange:E=>d(E.target.value)}),n.jsx("button",{type:"button",onClick:()=>v(!h),className:`absolute right-3 top-3.5 p-0.5 rounded-md hover:bg-slate-200/20 transition-colors ${C.iconColor}`,children:h?n.jsx(Bv,{className:"w-5 h-5"}):n.jsx(pr,{className:"w-5 h-5"})})]})]}),i&&n.jsxs("div",{className:"space-y-2 animate-in slide-in-from-top-2 duration-300",children:[n.jsx("div",{className:"flex justify-between items-center",children:n.jsx("label",{className:`text-xs font-bold uppercase tracking-wider transition-colors ${C.labelColor}`,children:"Confirmar Contrasea"})}),n.jsxs("div",{className:"relative group",children:[n.jsx(Gg,{className:`absolute left-3 top-3.5 w-5 h-5 transition-colors ${C.iconColor} group-focus-within:text-blue-500`}),n.jsx("input",{type:b?"text":"password",required:!0,className:`w-full pl-10 pr-12 py-3 rounded-xl border transition-all outline-none font-medium focus:ring-4 focus:ring-blue-500/10 ${C.inputBg} ${C.inputBorder} ${C.inputText}`,placeholder:"",value:f,onChange:E=>m(E.target.value)}),n.jsx("button",{type:"button",onClick:()=>N(!b),className:`absolute right-3 top-3.5 p-0.5 rounded-md hover:bg-slate-200/20 transition-colors ${C.iconColor}`,children:b?n.jsx(Bv,{className:"w-5 h-5"}):n.jsx(pr,{className:"w-5 h-5"})})]})]}),n.jsx("button",{type:"submit",disabled:s,className:`w-full font-bold py-3.5 rounded-xl transition-all transform hover:-translate-y-1 hover:shadow-xl flex items-center justify-center gap-2 mt-4 ${C.primaryBtn}`,children:s?n.jsxs(n.Fragment,{children:[n.jsx(PU,{className:"w-5 h-5 animate-spin"}),i?"Creando cuenta...":"Verificando..."]}):n.jsxs(n.Fragment,{children:[i?n.jsx(kQ,{className:"w-5 h-5"}):n.jsx(HU,{className:"w-5 h-5"}),i?"Crear Cuenta":"Iniciar Sesin"]})})]}),n.jsx("div",{className:"mt-6 text-center",children:n.jsxs("p",{className:`text-sm ${C.labelColor}`,children:[i?"Ya tienes una cuenta?":"No tienes una cuenta?",n.jsx("button",{onClick:()=>{o(!i),d(""),m("")},className:`font-bold ml-2 hover:underline transition-colors ${C.linkText}`,children:i?"Inicia sesin aqu":"Regstrate aqu"})]})})]})]}),n.jsxs("div",{className:"absolute bottom-6 text-center text-white/50 text-xs",children:[" ",new Date().getFullYear()," WolfBiso Stack. All rights reserved."]})]})},v8=()=>n.jsx("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center p-4",children:n.jsxs("div",{className:"bg-white max-w-2xl w-full rounded-2xl shadow-xl border border-red-100 overflow-hidden",children:[n.jsxs("div",{className:"bg-red-600 p-6 text-white text-center",children:[n.jsx(HB,{className:"w-16 h-16 mx-auto mb-4"}),n.jsx("h1",{className:"text-2xl font-bold",children:"Configuracin Incompleta"}),n.jsx("p",{className:"text-red-100 mt-2",children:"No se pudo conectar con Supabase"})]}),n.jsxs("div",{className:"p-8 space-y-6",children:[n.jsxs("div",{className:"bg-red-50 text-red-800 p-4 rounded-lg text-sm border border-red-200",children:[n.jsx("p",{className:"font-bold",children:"Error Crtico:"}),n.jsxs("p",{children:["No se encontraron las variables de entorno ",n.jsx("code",{children:"VITE_SUPABASE_URL"})," y/o ",n.jsx("code",{children:"VITE_SUPABASE_ANON_KEY"}),"."]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("h3",{className:"font-bold text-slate-800 text-lg flex items-center gap-2",children:[n.jsx(Gg,{className:"w-5 h-5 text-blue-600"}),"Cmo solucionar esto en GitHub Pages:"]}),n.jsxs("ol",{className:"list-decimal list-inside space-y-3 text-slate-600 ml-2",children:[n.jsxs("li",{children:["Ve a tu repositorio en ",n.jsx("strong",{children:"GitHub"}),"."]}),n.jsxs("li",{children:["Haz clic en la pestaa ",n.jsx("strong",{children:"Settings"})," (Configuracin)."]}),n.jsxs("li",{children:["En el men lateral, expande ",n.jsx("strong",{children:"Secrets and variables"})," y selecciona ",n.jsx("strong",{children:"Actions"}),"."]}),n.jsxs("li",{children:["Haz clic en el botn verde ",n.jsx("strong",{children:"New repository secret"}),"."]}),n.jsxs("li",{children:["Agrega las siguientes dos claves (tmalas de tu archivo ",n.jsx("code",{children:".env"})," local):",n.jsxs("div",{className:"mt-2 space-y-2",children:[n.jsxs("div",{className:"flex items-center gap-2 bg-slate-100 p-2 rounded font-mono text-sm border",children:[n.jsx(Nv,{className:"w-4 h-4 text-slate-400"}),n.jsx("strong",{children:"VITE_SUPABASE_URL"})]}),n.jsxs("div",{className:"flex items-center gap-2 bg-slate-100 p-2 rounded font-mono text-sm border",children:[n.jsx(Nv,{className:"w-4 h-4 text-slate-400"}),n.jsx("strong",{children:"VITE_SUPABASE_ANON_KEY"})]})]})]}),n.jsxs("li",{children:["Una vez agregadas, ve a la pestaa ",n.jsx("strong",{children:"Actions"})," y re-ejecuta el ltimo workflow fallido o haz un nuevo commit."]})]})]}),n.jsx("div",{className:"border-t pt-6 text-center",children:n.jsxs("p",{className:"text-xs text-slate-400",children:["Si ests viendo esto en localhost, asegrate de tener tu archivo ",n.jsx("code",{children:".env"})," correctamente configurado."]})})]})]})}),Tl=[{value:"recibido",label:"Recibido",color:"black",progress:20},{value:"diagnosticado",label:"Diagnosticado",color:"yellow",progress:40},{value:"listo_para_entregar",label:"Listo para Entregar",color:"blue",progress:80},{value:"entregado",label:"Entregado",color:"green",progress:100},{value:"no_reparable",label:"No fue posible reparar",color:"red",progress:100}],y8=e=>{if(!e)return 0;const t=Tl.find(r=>r.value===e.toLowerCase());return t?t.progress:0},Wv=()=>{const t=(()=>{let b=null;const N=decodeURIComponent(window.location.hash);if(N.includes("/track/")){const w=N.split("/track/");w.length>1&&(b=w[1])}if(!b){const w=decodeURIComponent(window.location.pathname);if(w.includes("/track/")){const x=w.split("/track/");x.length>1&&(b=x[1])}}return b&&(b=b.split("?")[0],b=b.split("#")[0],b.endsWith("/")&&(b=b.slice(0,-1)),b.includes("&")&&(b=b.split("&")[0])),console.log("Extracted Token:",b),b})(),[r,s]=X.useState(null),[a,i]=X.useState(null),[o,A]=X.useState(!0),[l,c]=X.useState(null);X.useEffect(()=>{t?d():(c("Token no proporcionado en la URL"),A(!1))},[t]);const d=async()=>{try{A(!0);const{data:b,error:N}=await je.rpc("get_service_by_token",{token_input:t});let w=null;if(N){console.error("RPC Error:",N);const x=["servicios_pc","servicios_impresoras","servicios_celulares"];for(const B of x){const{data:C,error:E}=await je.from(B).select("*, user_id").eq("token",t).single();if(C&&!E){w=C;break}}if(!w)throw new Error("Servicio no encontrado (Fallback)")}else if(b)w=b;else throw new Error("Servicio no encontrado");if(s(w),w&&w.user_id)try{const{data:x}=await je.from("configuracion_empresa").select("*").eq("user_id",w.user_id);x&&x.length>0&&i(x[0])}catch{console.log("No company data available")}}catch(b){console.error("Error fetching service:",b),c("No se pudo encontrar el servicio. Verifica el cdigo QR.")}finally{A(!1)}},f=b=>new Intl.NumberFormat("es-MX",{minimumFractionDigits:2,maximumFractionDigits:2}).format(b||0);if(o)return n.jsx("div",{className:"min-h-screen bg-slate-50 bg-[radial-gradient(ellipse_at_top_right,_var(--tw-gradient-stops))] from-blue-100 via-slate-50 to-slate-100 flex items-center justify-center p-4",children:n.jsxs("div",{className:"bg-white/80 backdrop-blur-xl p-8 rounded-2xl shadow-xl border border-white/50 text-center",children:[n.jsx(Mr,{className:"w-12 h-12 animate-spin text-blue-600 mx-auto mb-4"}),n.jsx("p",{className:"text-slate-600 font-medium animate-pulse",children:"Cargando informacin del servicio..."}),n.jsxs("div",{className:"mt-4 p-2 bg-slate-100 rounded text-[10px] text-slate-500 font-mono text-left max-w-xs overflow-auto max-h-32",children:[n.jsxs("p",{children:["Token: ",t||"null"]}),n.jsxs("p",{children:["Hash: ",window.location.hash]}),n.jsxs("p",{children:["Path: ",window.location.pathname]})]})]})});if(l||!r)return n.jsx("div",{className:"min-h-screen bg-slate-50 bg-[radial-gradient(ellipse_at_top_right,_var(--tw-gradient-stops))] from-red-50 via-slate-50 to-slate-100 flex items-center justify-center p-4",children:n.jsxs("div",{className:"bg-white/80 backdrop-blur-xl rounded-2xl shadow-2xl p-10 text-center max-w-md border border-white/50",children:[n.jsx("div",{className:"w-20 h-20 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-6",children:n.jsx(Ph,{className:"w-10 h-10 text-red-500"})}),n.jsx("h1",{className:"text-2xl font-bold text-slate-800 mb-2",children:"Servicio No Encontrado"}),n.jsx("p",{className:"text-slate-600 mb-8 leading-relaxed",children:l||"No pudimos encontrar la informacin de este servicio. Verifica que el enlace sea correcto."}),n.jsxs("div",{className:"mb-6 p-3 bg-red-50 border border-red-100 rounded-lg text-left",children:[n.jsx("p",{className:"text-xs font-bold text-red-800 mb-1",children:"Informacin de Depuracin:"}),n.jsxs("div",{className:"text-[10px] font-mono text-slate-600 space-y-1 break-all",children:[n.jsxs("p",{children:[n.jsx("span",{className:"font-bold",children:"Token Intentado:"})," ",t||"No detectado"]}),n.jsxs("p",{children:[n.jsx("span",{className:"font-bold",children:"URL Hash:"})," ",window.location.hash]}),n.jsxs("p",{children:[n.jsx("span",{className:"font-bold",children:"URL Path:"})," ",window.location.pathname]})]})]}),n.jsx("button",{onClick:()=>window.location.href="/",className:"w-full px-6 py-3.5 bg-slate-900 text-white rounded-xl font-bold shadow-lg shadow-slate-900/20 hover:shadow-xl hover:-translate-y-0.5 transition-all",children:"Volver al Inicio"})]})});const m=y8(r.status),h=Tl.findIndex(b=>{var N;return b.value===((N=r.status)==null?void 0:N.toLowerCase())}),v=Tl.filter(b=>b.value!=="no_reparable").slice(0,4);return n.jsx("div",{className:"min-h-screen bg-slate-50 bg-[radial-gradient(ellipse_at_top_right,_var(--tw-gradient-stops))] from-blue-100 via-slate-50 to-slate-100 py-4 px-3 sm:py-8 sm:px-6 lg:px-8 font-sans text-slate-800 pb-20",children:n.jsxs("div",{className:"max-w-5xl mx-auto space-y-4 sm:space-y-8",children:[n.jsxs("div",{className:"bg-white/70 backdrop-blur-xl rounded-2xl sm:rounded-3xl shadow-xl border border-white/40 overflow-hidden relative group hover:bg-white/80 transition-all duration-500",children:[n.jsx("div",{className:"absolute top-0 left-0 right-0 h-1.5 bg-gradient-to-r from-blue-500 via-purple-500 to-pink-500"}),n.jsxs("div",{className:"p-5 sm:p-10 flex flex-col md:flex-row justify-between items-center gap-6 sm:gap-8 relative z-10",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-4 sm:gap-6 w-full md:w-auto text-center sm:text-left",children:[a!=null&&a.logo_uri?n.jsx("div",{className:"w-20 h-20 sm:w-24 sm:h-24 bg-white rounded-2xl shadow-md p-2 flex items-center justify-center flex-shrink-0 border border-slate-100",children:n.jsx("img",{src:a.logo_uri,alt:"Logo",className:"w-full h-full object-contain"})}):n.jsx("div",{className:"w-20 h-20 sm:w-24 sm:h-24 bg-gradient-to-br from-blue-600 to-indigo-600 rounded-2xl shadow-lg shadow-blue-500/30 flex items-center justify-center flex-shrink-0 text-white",children:n.jsx(nA,{className:"w-8 h-8 sm:w-10 sm:h-10"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-xl sm:text-3xl font-black text-slate-800 tracking-tight mb-2 leading-tight",children:(a==null?void 0:a.nombre)||"Centro de Reparaciones"}),n.jsxs("div",{className:"space-y-1 flex flex-col items-center sm:items-start text-sm",children:[(a==null?void 0:a.telefono)&&n.jsxs("div",{className:"flex items-center gap-2 text-slate-600 font-medium",children:[n.jsx("div",{className:"p-1 bg-blue-100 rounded-full text-blue-600",children:n.jsx(Il,{className:"w-3 h-3"})}),a.telefono]}),(a==null?void 0:a.correo)&&n.jsxs("div",{className:"flex items-center gap-2 text-slate-600 font-medium break-all",children:[n.jsx("div",{className:"p-1 bg-blue-100 rounded-full text-blue-600",children:n.jsx(Ff,{className:"w-3 h-3"})}),a.correo]})]})]})]}),n.jsxs("div",{className:"bg-slate-50/50 backdrop-blur-md px-6 py-3 sm:px-8 sm:py-5 rounded-xl sm:rounded-2xl border border-slate-200/60 text-center transform transition-transform group-hover:scale-105 duration-300 shadow-sm w-full md:w-auto",children:[n.jsx("p",{className:"text-[10px] sm:text-xs font-bold text-slate-400 uppercase tracking-widest mb-1 sm:mb-2",children:"Orden de Servicio"}),n.jsxs("p",{className:"text-3xl sm:text-5xl font-black text-slate-800 tracking-tight",children:["#",r.orden_numero]})]})]})]}),n.jsxs("div",{className:"bg-white/70 backdrop-blur-xl rounded-2xl sm:rounded-3xl shadow-lg border border-white/40 p-5 sm:p-10",children:[r.status==="no_reparable"?n.jsxs("h2",{className:"text-lg sm:text-xl font-bold text-red-600 mb-6 sm:mb-10 flex items-center gap-3",children:[n.jsx("div",{className:"p-2 sm:p-2.5 bg-red-100 rounded-xl text-red-600 shadow-sm",children:n.jsx(Ph,{className:"w-5 h-5 sm:w-6 sm:h-6"})}),"NO se pudo reparar"]}):n.jsxs("h2",{className:"text-lg sm:text-xl font-bold text-slate-800 mb-6 sm:mb-10 flex items-center gap-3",children:[n.jsx("div",{className:"p-2 sm:p-2.5 bg-green-100 rounded-xl text-green-600 shadow-sm",children:n.jsx(PB,{className:"w-5 h-5 sm:w-6 sm:h-6"})}),"Estado del Servicio"]}),n.jsxs("div",{className:"relative py-2 sm:py-4",children:[n.jsx("div",{className:"absolute top-1/2 left-0 right-0 h-2 sm:h-3 bg-slate-100 rounded-full -translate-y-1/2 z-0"}),n.jsx("div",{className:`absolute top-1/2 left-0 h-2 sm:h-3 rounded-full -translate-y-1/2 z-0 transition-all duration-1000 ease-out shadow-[0_0_10px_rgba(34,197,94,0.4)] ${r.status==="no_reparable"?"bg-red-500 shadow-red-500/40":"bg-green-500 shadow-green-500/40"}`,style:{width:`${m}%`}}),n.jsx("div",{className:"flex justify-between items-center relative z-10 w-full",children:v.map((b,N)=>{const w=m>=b.progress,x=h===Tl.findIndex(C=>C.value===b.value),B=r.status==="no_reparable";return n.jsxs("div",{className:"flex flex-col items-center gap-2 sm:gap-3 relative group flex-1",children:[n.jsx("div",{className:`w-8 h-8 sm:w-14 sm:h-14 rounded-full flex items-center justify-center transition-all duration-500 z-10 border-2 sm:border-4 ${w?B?"bg-red-500 border-red-500 shadow-md scale-110":"bg-green-500 border-green-500 shadow-md scale-110":"bg-white border-slate-200"}`,children:w?B?n.jsx(Ph,{className:"w-5 h-5 sm:w-8 sm:h-8 text-white",strokeWidth:3}):n.jsx(mU,{className:"w-5 h-5 sm:w-8 sm:h-8 text-white",strokeWidth:3}):n.jsx("div",{className:"w-2 h-2 sm:w-4 sm:h-4 rounded-full bg-slate-200"})}),n.jsx("div",{className:`text-center transition-all duration-300 absolute top-full mt-2 sm:mt-4 w-20 sm:w-32 ${w?"opacity-100":"opacity-40"}`,children:n.jsx("p",{className:`font-bold text-[10px] sm:text-sm uppercase tracking-wide leading-tight ${x?B?"text-red-600":"text-green-600":"text-slate-500"}`,children:b.label})})]},b.value)})})]})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-4 sm:gap-8 mt-8 sm:mt-0",children:[n.jsxs("div",{className:"lg:col-span-8 space-y-4 sm:space-y-8 order-2 lg:order-1 pt-6 sm:pt-0",children:[n.jsxs("div",{className:"bg-white/70 backdrop-blur-xl rounded-3xl shadow-xl border border-white/40 overflow-hidden hover:shadow-2xl transition-shadow duration-300",children:[n.jsxs("div",{className:"bg-slate-50/50 px-8 py-5 border-b border-white/50 flex items-center justify-between",children:[n.jsxs("h2",{className:"text-lg font-bold text-slate-800 flex items-center gap-3",children:[n.jsx("div",{className:"p-2 bg-blue-100 rounded-lg text-blue-600",children:n.jsx(ld,{className:"w-5 h-5"})}),"Informacin del Equipo"]}),n.jsxs("span",{className:"px-3 py-1 bg-slate-200/50 text-slate-600 text-xs font-bold rounded-full uppercase tracking-wide",children:["ID: ",r.id]})]}),n.jsx("div",{className:"p-8",children:n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-8",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest",children:"Tipo"}),n.jsx("p",{className:"text-lg font-bold text-slate-800",children:r.equipo_tipo})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest",children:"Modelo"}),n.jsx("p",{className:"text-lg font-bold text-slate-800",children:r.equipo_modelo})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest",children:"N/S"}),n.jsx("p",{className:"text-lg font-bold text-slate-800 font-mono bg-slate-100 inline-block px-2 py-0.5 rounded text-sm",children:r.equipo_serie||"No reg."})]})]})})]}),r.repuestos_descripcion&&r.repuestos_descripcion.startsWith("[")&&n.jsxs("div",{className:"bg-white/70 backdrop-blur-xl rounded-3xl shadow-xl border border-white/40 overflow-hidden hover:shadow-2xl transition-shadow duration-300",children:[n.jsx("div",{className:"bg-slate-50/50 px-8 py-5 border-b border-white/50",children:n.jsxs("h2",{className:"text-lg font-bold text-slate-800 flex items-center gap-3",children:[n.jsx("div",{className:"p-2 bg-slate-100 rounded-lg text-slate-600",children:n.jsx(db,{className:"w-5 h-5"})}),"Repuestos Utilizados"]})}),n.jsx("div",{className:"p-8",children:n.jsxs("div",{className:"w-full",children:[n.jsxs("div",{className:"flex text-xs font-bold text-slate-400 uppercase tracking-wider border-b border-slate-200 pb-2 mb-2",children:[n.jsx("div",{className:"w-16 text-center",children:"Cant"}),n.jsx("div",{className:"flex-1",children:"Artculo"}),n.jsx("div",{className:"w-24 text-right",children:"Precio"})]}),n.jsx("div",{className:"space-y-1",children:JSON.parse(r.repuestos_descripcion).map((b,N)=>n.jsxs("div",{className:"flex items-center text-sm py-2 border-b border-slate-100 last:border-0",children:[n.jsx("div",{className:"w-16 text-center text-slate-500 font-bold",children:b.cantidad||1}),n.jsx("div",{className:"flex-1 text-slate-700 font-medium",children:b.producto||b.descripcion}),n.jsxs("div",{className:"w-24 text-right text-slate-600 font-mono",children:["$",f(b.costoPublico||b.precio_publico)]})]},N))})]})})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[n.jsxs("div",{className:"bg-white/70 backdrop-blur-xl rounded-3xl shadow-xl border border-white/40 p-6 flex items-start gap-5 hover:shadow-2xl transition-shadow duration-300 group",children:[n.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-2xl flex items-center justify-center flex-shrink-0 shadow-lg shadow-blue-500/20 text-white group-hover:scale-110 transition-transform",children:n.jsx(Ls,{className:"w-7 h-7"})}),n.jsxs("div",{className:"min-w-0",children:[n.jsx("p",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest mb-1",children:"Propietario"}),n.jsx("p",{className:"text-lg font-bold text-slate-800 truncate mb-1",children:r.cliente_nombre}),n.jsxs("div",{className:"flex items-center gap-2 text-slate-500 text-sm font-medium",children:[n.jsx(Il,{className:"w-3.5 h-3.5"}),r.cliente_telefono]})]})]}),n.jsxs("div",{className:"bg-white/70 backdrop-blur-xl rounded-3xl shadow-xl border border-white/40 p-6 flex items-start gap-5 hover:shadow-2xl transition-shadow duration-300 group",children:[n.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-orange-400 to-amber-500 rounded-2xl flex items-center justify-center flex-shrink-0 shadow-lg shadow-orange-500/20 text-white group-hover:scale-110 transition-transform",children:n.jsx(OQ,{className:"w-7 h-7"})}),n.jsxs("div",{className:"min-w-0",children:[n.jsx("p",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest mb-1",children:"Tcnico Asignado"}),n.jsx("p",{className:"text-lg font-bold text-slate-800 truncate mb-1",children:r.tecnico_nombre||"Pendiente"}),r.tecnico_celular&&n.jsxs("div",{className:"flex items-center gap-2 text-slate-500 text-sm font-medium",children:[n.jsx(Il,{className:"w-3.5 h-3.5"}),r.tecnico_celular]})]})]})]}),r.problema_reportado&&n.jsxs("div",{className:"bg-white/80 backdrop-blur-xl rounded-3xl shadow-xl border border-red-100 overflow-hidden relative group",children:[n.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-2 bg-red-400 group-hover:w-3 transition-all"}),n.jsxs("div",{className:"p-8 pl-10",children:[n.jsxs("h3",{className:"text-sm font-bold text-red-500 uppercase tracking-widest mb-4 flex items-center gap-2",children:[n.jsx(Ph,{className:"w-4 h-4"}),"Reporte de Falla"]}),n.jsxs("p",{className:"text-slate-700 text-lg leading-relaxed font-medium italic",children:['"',r.problema_reportado,'"']})]})]}),n.jsxs("div",{className:"text-center text-slate-400 text-sm font-medium pt-8 pb-12",children:[n.jsx("p",{children:"Esta es una pgina pblica de seguimiento. No requiere inicio de sesin."}),n.jsxs("p",{className:"mt-2 text-xs opacity-60",children:[" ",new Date().getFullYear()," CotizApp - Sistema de Gestin"]})]})]}),n.jsx("div",{className:"lg:col-span-4 space-y-8 order-1 lg:order-2",children:n.jsxs("div",{className:"bg-white/80 backdrop-blur-xl rounded-3xl shadow-2xl border border-white/50 p-8 relative overflow-hidden group hover:bg-white/90 transition-all duration-300",children:[n.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-blue-500/10 rounded-full blur-3xl -mr-32 -mt-32 pointer-events-none"}),n.jsx("h3",{className:"text-sm font-bold uppercase tracking-wider mb-2 text-slate-500 flex items-center gap-2",children:"Costo Estimado"}),n.jsxs("div",{className:"flex items-baseline gap-1 mb-8 relative z-10",children:[n.jsxs("span",{className:"text-6xl font-black tracking-tight text-slate-800",children:["$",f(r.total).split(".")[0]]}),n.jsxs("span",{className:"text-2xl font-bold text-slate-400",children:[".",f(r.total).split(".")[1]]})]}),r.anticipo>0&&n.jsxs("div",{className:"space-y-4 pt-6 border-t border-slate-100 relative z-10",children:[n.jsxs("div",{className:"flex justify-between text-sm items-center",children:[n.jsx("span",{className:"text-slate-500 font-medium",children:"Anticipo realizado"}),n.jsxs("span",{className:"font-bold text-green-600 bg-green-50 px-2 py-1 rounded-md",children:["-$",f(r.anticipo)]})]}),n.jsxs("div",{className:"flex justify-between text-lg items-center pt-2",children:[n.jsx("span",{className:"font-bold text-slate-700",children:"Restante por pagar"}),n.jsxs("span",{className:"font-black text-blue-600 text-xl",children:["$",f((r.total||0)-(r.anticipo||0))]})]})]})]})})]})]})})};var B8=Object.defineProperty,Z0=Object.getOwnPropertySymbols,nN=Object.prototype.hasOwnProperty,aN=Object.prototype.propertyIsEnumerable,Jv=(e,t,r)=>t in e?B8(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,ax=(e,t)=>{for(var r in t||(t={}))nN.call(t,r)&&Jv(e,r,t[r]);if(Z0)for(var r of Z0(t))aN.call(t,r)&&Jv(e,r,t[r]);return e},ix=(e,t)=>{var r={};for(var s in e)nN.call(e,s)&&t.indexOf(s)<0&&(r[s]=e[s]);if(e!=null&&Z0)for(var s of Z0(e))t.indexOf(s)<0&&aN.call(e,s)&&(r[s]=e[s]);return r};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var uA;(e=>{const t=class Nt{constructor(l,c,d,f){if(this.version=l,this.errorCorrectionLevel=c,this.modules=[],this.isFunction=[],l<Nt.MIN_VERSION||l>Nt.MAX_VERSION)throw new RangeError("Version value out of range");if(f<-1||f>7)throw new RangeError("Mask value out of range");this.size=l*4+17;let m=[];for(let v=0;v<this.size;v++)m.push(!1);for(let v=0;v<this.size;v++)this.modules.push(m.slice()),this.isFunction.push(m.slice());this.drawFunctionPatterns();const h=this.addEccAndInterleave(d);if(this.drawCodewords(h),f==-1){let v=1e9;for(let b=0;b<8;b++){this.applyMask(b),this.drawFormatBits(b);const N=this.getPenaltyScore();N<v&&(f=b,v=N),this.applyMask(b)}}a(0<=f&&f<=7),this.mask=f,this.applyMask(f),this.drawFormatBits(f),this.isFunction=[]}static encodeText(l,c){const d=e.QrSegment.makeSegments(l);return Nt.encodeSegments(d,c)}static encodeBinary(l,c){const d=e.QrSegment.makeBytes(l);return Nt.encodeSegments([d],c)}static encodeSegments(l,c,d=1,f=40,m=-1,h=!0){if(!(Nt.MIN_VERSION<=d&&d<=f&&f<=Nt.MAX_VERSION)||m<-1||m>7)throw new RangeError("Invalid value");let v,b;for(v=d;;v++){const B=Nt.getNumDataCodewords(v,c)*8,C=o.getTotalBits(l,v);if(C<=B){b=C;break}if(v>=f)throw new RangeError("Data too long")}for(const B of[Nt.Ecc.MEDIUM,Nt.Ecc.QUARTILE,Nt.Ecc.HIGH])h&&b<=Nt.getNumDataCodewords(v,B)*8&&(c=B);let N=[];for(const B of l){r(B.mode.modeBits,4,N),r(B.numChars,B.mode.numCharCountBits(v),N);for(const C of B.getData())N.push(C)}a(N.length==b);const w=Nt.getNumDataCodewords(v,c)*8;a(N.length<=w),r(0,Math.min(4,w-N.length),N),r(0,(8-N.length%8)%8,N),a(N.length%8==0);for(let B=236;N.length<w;B^=253)r(B,8,N);let x=[];for(;x.length*8<N.length;)x.push(0);return N.forEach((B,C)=>x[C>>>3]|=B<<7-(C&7)),new Nt(v,c,x,m)}getModule(l,c){return 0<=l&&l<this.size&&0<=c&&c<this.size&&this.modules[c][l]}getModules(){return this.modules}drawFunctionPatterns(){for(let d=0;d<this.size;d++)this.setFunctionModule(6,d,d%2==0),this.setFunctionModule(d,6,d%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const l=this.getAlignmentPatternPositions(),c=l.length;for(let d=0;d<c;d++)for(let f=0;f<c;f++)d==0&&f==0||d==0&&f==c-1||d==c-1&&f==0||this.drawAlignmentPattern(l[d],l[f]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(l){const c=this.errorCorrectionLevel.formatBits<<3|l;let d=c;for(let m=0;m<10;m++)d=d<<1^(d>>>9)*1335;const f=(c<<10|d)^21522;a(f>>>15==0);for(let m=0;m<=5;m++)this.setFunctionModule(8,m,s(f,m));this.setFunctionModule(8,7,s(f,6)),this.setFunctionModule(8,8,s(f,7)),this.setFunctionModule(7,8,s(f,8));for(let m=9;m<15;m++)this.setFunctionModule(14-m,8,s(f,m));for(let m=0;m<8;m++)this.setFunctionModule(this.size-1-m,8,s(f,m));for(let m=8;m<15;m++)this.setFunctionModule(8,this.size-15+m,s(f,m));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let l=this.version;for(let d=0;d<12;d++)l=l<<1^(l>>>11)*7973;const c=this.version<<12|l;a(c>>>18==0);for(let d=0;d<18;d++){const f=s(c,d),m=this.size-11+d%3,h=Math.floor(d/3);this.setFunctionModule(m,h,f),this.setFunctionModule(h,m,f)}}drawFinderPattern(l,c){for(let d=-4;d<=4;d++)for(let f=-4;f<=4;f++){const m=Math.max(Math.abs(f),Math.abs(d)),h=l+f,v=c+d;0<=h&&h<this.size&&0<=v&&v<this.size&&this.setFunctionModule(h,v,m!=2&&m!=4)}}drawAlignmentPattern(l,c){for(let d=-2;d<=2;d++)for(let f=-2;f<=2;f++)this.setFunctionModule(l+f,c+d,Math.max(Math.abs(f),Math.abs(d))!=1)}setFunctionModule(l,c,d){this.modules[c][l]=d,this.isFunction[c][l]=!0}addEccAndInterleave(l){const c=this.version,d=this.errorCorrectionLevel;if(l.length!=Nt.getNumDataCodewords(c,d))throw new RangeError("Invalid argument");const f=Nt.NUM_ERROR_CORRECTION_BLOCKS[d.ordinal][c],m=Nt.ECC_CODEWORDS_PER_BLOCK[d.ordinal][c],h=Math.floor(Nt.getNumRawDataModules(c)/8),v=f-h%f,b=Math.floor(h/f);let N=[];const w=Nt.reedSolomonComputeDivisor(m);for(let B=0,C=0;B<f;B++){let E=l.slice(C,C+b-m+(B<v?0:1));C+=E.length;const S=Nt.reedSolomonComputeRemainder(E,w);B<v&&E.push(0),N.push(E.concat(S))}let x=[];for(let B=0;B<N[0].length;B++)N.forEach((C,E)=>{(B!=b-m||E>=v)&&x.push(C[B])});return a(x.length==h),x}drawCodewords(l){if(l.length!=Math.floor(Nt.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let c=0;for(let d=this.size-1;d>=1;d-=2){d==6&&(d=5);for(let f=0;f<this.size;f++)for(let m=0;m<2;m++){const h=d-m,b=(d+1&2)==0?this.size-1-f:f;!this.isFunction[b][h]&&c<l.length*8&&(this.modules[b][h]=s(l[c>>>3],7-(c&7)),c++)}}a(c==l.length*8)}applyMask(l){if(l<0||l>7)throw new RangeError("Mask value out of range");for(let c=0;c<this.size;c++)for(let d=0;d<this.size;d++){let f;switch(l){case 0:f=(d+c)%2==0;break;case 1:f=c%2==0;break;case 2:f=d%3==0;break;case 3:f=(d+c)%3==0;break;case 4:f=(Math.floor(d/3)+Math.floor(c/2))%2==0;break;case 5:f=d*c%2+d*c%3==0;break;case 6:f=(d*c%2+d*c%3)%2==0;break;case 7:f=((d+c)%2+d*c%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[c][d]&&f&&(this.modules[c][d]=!this.modules[c][d])}}getPenaltyScore(){let l=0;for(let m=0;m<this.size;m++){let h=!1,v=0,b=[0,0,0,0,0,0,0];for(let N=0;N<this.size;N++)this.modules[m][N]==h?(v++,v==5?l+=Nt.PENALTY_N1:v>5&&l++):(this.finderPenaltyAddHistory(v,b),h||(l+=this.finderPenaltyCountPatterns(b)*Nt.PENALTY_N3),h=this.modules[m][N],v=1);l+=this.finderPenaltyTerminateAndCount(h,v,b)*Nt.PENALTY_N3}for(let m=0;m<this.size;m++){let h=!1,v=0,b=[0,0,0,0,0,0,0];for(let N=0;N<this.size;N++)this.modules[N][m]==h?(v++,v==5?l+=Nt.PENALTY_N1:v>5&&l++):(this.finderPenaltyAddHistory(v,b),h||(l+=this.finderPenaltyCountPatterns(b)*Nt.PENALTY_N3),h=this.modules[N][m],v=1);l+=this.finderPenaltyTerminateAndCount(h,v,b)*Nt.PENALTY_N3}for(let m=0;m<this.size-1;m++)for(let h=0;h<this.size-1;h++){const v=this.modules[m][h];v==this.modules[m][h+1]&&v==this.modules[m+1][h]&&v==this.modules[m+1][h+1]&&(l+=Nt.PENALTY_N2)}let c=0;for(const m of this.modules)c=m.reduce((h,v)=>h+(v?1:0),c);const d=this.size*this.size,f=Math.ceil(Math.abs(c*20-d*10)/d)-1;return a(0<=f&&f<=9),l+=f*Nt.PENALTY_N4,a(0<=l&&l<=2568888),l}getAlignmentPatternPositions(){if(this.version==1)return[];{const l=Math.floor(this.version/7)+2,c=this.version==32?26:Math.ceil((this.version*4+4)/(l*2-2))*2;let d=[6];for(let f=this.size-7;d.length<l;f-=c)d.splice(1,0,f);return d}}static getNumRawDataModules(l){if(l<Nt.MIN_VERSION||l>Nt.MAX_VERSION)throw new RangeError("Version number out of range");let c=(16*l+128)*l+64;if(l>=2){const d=Math.floor(l/7)+2;c-=(25*d-10)*d-55,l>=7&&(c-=36)}return a(208<=c&&c<=29648),c}static getNumDataCodewords(l,c){return Math.floor(Nt.getNumRawDataModules(l)/8)-Nt.ECC_CODEWORDS_PER_BLOCK[c.ordinal][l]*Nt.NUM_ERROR_CORRECTION_BLOCKS[c.ordinal][l]}static reedSolomonComputeDivisor(l){if(l<1||l>255)throw new RangeError("Degree out of range");let c=[];for(let f=0;f<l-1;f++)c.push(0);c.push(1);let d=1;for(let f=0;f<l;f++){for(let m=0;m<c.length;m++)c[m]=Nt.reedSolomonMultiply(c[m],d),m+1<c.length&&(c[m]^=c[m+1]);d=Nt.reedSolomonMultiply(d,2)}return c}static reedSolomonComputeRemainder(l,c){let d=c.map(f=>0);for(const f of l){const m=f^d.shift();d.push(0),c.forEach((h,v)=>d[v]^=Nt.reedSolomonMultiply(h,m))}return d}static reedSolomonMultiply(l,c){if(l>>>8||c>>>8)throw new RangeError("Byte out of range");let d=0;for(let f=7;f>=0;f--)d=d<<1^(d>>>7)*285,d^=(c>>>f&1)*l;return a(d>>>8==0),d}finderPenaltyCountPatterns(l){const c=l[1];a(c<=this.size*3);const d=c>0&&l[2]==c&&l[3]==c*3&&l[4]==c&&l[5]==c;return(d&&l[0]>=c*4&&l[6]>=c?1:0)+(d&&l[6]>=c*4&&l[0]>=c?1:0)}finderPenaltyTerminateAndCount(l,c,d){return l&&(this.finderPenaltyAddHistory(c,d),c=0),c+=this.size,this.finderPenaltyAddHistory(c,d),this.finderPenaltyCountPatterns(d)}finderPenaltyAddHistory(l,c){c[0]==0&&(l+=this.size),c.pop(),c.unshift(l)}};t.MIN_VERSION=1,t.MAX_VERSION=40,t.PENALTY_N1=3,t.PENALTY_N2=3,t.PENALTY_N3=40,t.PENALTY_N4=10,t.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],t.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],e.QrCode=t;function r(A,l,c){if(l<0||l>31||A>>>l)throw new RangeError("Value out of range");for(let d=l-1;d>=0;d--)c.push(A>>>d&1)}function s(A,l){return(A>>>l&1)!=0}function a(A){if(!A)throw new Error("Assertion error")}const i=class wr{constructor(l,c,d){if(this.mode=l,this.numChars=c,this.bitData=d,c<0)throw new RangeError("Invalid argument");this.bitData=d.slice()}static makeBytes(l){let c=[];for(const d of l)r(d,8,c);return new wr(wr.Mode.BYTE,l.length,c)}static makeNumeric(l){if(!wr.isNumeric(l))throw new RangeError("String contains non-numeric characters");let c=[];for(let d=0;d<l.length;){const f=Math.min(l.length-d,3);r(parseInt(l.substring(d,d+f),10),f*3+1,c),d+=f}return new wr(wr.Mode.NUMERIC,l.length,c)}static makeAlphanumeric(l){if(!wr.isAlphanumeric(l))throw new RangeError("String contains unencodable characters in alphanumeric mode");let c=[],d;for(d=0;d+2<=l.length;d+=2){let f=wr.ALPHANUMERIC_CHARSET.indexOf(l.charAt(d))*45;f+=wr.ALPHANUMERIC_CHARSET.indexOf(l.charAt(d+1)),r(f,11,c)}return d<l.length&&r(wr.ALPHANUMERIC_CHARSET.indexOf(l.charAt(d)),6,c),new wr(wr.Mode.ALPHANUMERIC,l.length,c)}static makeSegments(l){return l==""?[]:wr.isNumeric(l)?[wr.makeNumeric(l)]:wr.isAlphanumeric(l)?[wr.makeAlphanumeric(l)]:[wr.makeBytes(wr.toUtf8ByteArray(l))]}static makeEci(l){let c=[];if(l<0)throw new RangeError("ECI assignment value out of range");if(l<128)r(l,8,c);else if(l<16384)r(2,2,c),r(l,14,c);else if(l<1e6)r(6,3,c),r(l,21,c);else throw new RangeError("ECI assignment value out of range");return new wr(wr.Mode.ECI,0,c)}static isNumeric(l){return wr.NUMERIC_REGEX.test(l)}static isAlphanumeric(l){return wr.ALPHANUMERIC_REGEX.test(l)}getData(){return this.bitData.slice()}static getTotalBits(l,c){let d=0;for(const f of l){const m=f.mode.numCharCountBits(c);if(f.numChars>=1<<m)return 1/0;d+=4+m+f.bitData.length}return d}static toUtf8ByteArray(l){l=encodeURI(l);let c=[];for(let d=0;d<l.length;d++)l.charAt(d)!="%"?c.push(l.charCodeAt(d)):(c.push(parseInt(l.substring(d+1,d+3),16)),d+=2);return c}};i.NUMERIC_REGEX=/^[0-9]*$/,i.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,i.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let o=i;e.QrSegment=i})(uA||(uA={}));(e=>{(t=>{const r=class{constructor(a,i){this.ordinal=a,this.formatBits=i}};r.LOW=new r(0,1),r.MEDIUM=new r(1,0),r.QUARTILE=new r(2,3),r.HIGH=new r(3,2),t.Ecc=r})(e.QrCode||(e.QrCode={}))})(uA||(uA={}));(e=>{(t=>{const r=class{constructor(a,i){this.modeBits=a,this.numBitsCharCount=i}numCharCountBits(a){return this.numBitsCharCount[Math.floor((a+7)/17)]}};r.NUMERIC=new r(1,[10,12,14]),r.ALPHANUMERIC=new r(2,[9,11,13]),r.BYTE=new r(4,[8,16,16]),r.KANJI=new r(8,[8,10,12]),r.ECI=new r(7,[0,0,0]),t.Mode=r})(e.QrSegment||(e.QrSegment={}))})(uA||(uA={}));var yl=uA;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var N8={L:yl.QrCode.Ecc.LOW,M:yl.QrCode.Ecc.MEDIUM,Q:yl.QrCode.Ecc.QUARTILE,H:yl.QrCode.Ecc.HIGH},iN=128,oN="L",AN="#FFFFFF",lN="#000000",cN=!1,uN=1,j8=4,C8=0,_8=.1;function dN(e,t=0){const r=[];return e.forEach(function(s,a){let i=null;s.forEach(function(o,A){if(!o&&i!==null){r.push(`M${i+t} ${a+t}h${A-i}v1H${i+t}z`),i=null;return}if(A===s.length-1){if(!o)return;i===null?r.push(`M${A+t},${a+t} h1v1H${A+t}z`):r.push(`M${i+t},${a+t} h${A+1-i}v1H${i+t}z`);return}o&&i===null&&(i=A)})}),r.join("")}function hN(e,t){return e.slice().map((r,s)=>s<t.y||s>=t.y+t.h?r:r.map((a,i)=>i<t.x||i>=t.x+t.w?a:!1))}function S8(e,t,r,s){if(s==null)return null;const a=e.length+r*2,i=Math.floor(t*_8),o=a/t,A=(s.width||i)*o,l=(s.height||i)*o,c=s.x==null?e.length/2-A/2:s.x*o,d=s.y==null?e.length/2-l/2:s.y*o,f=s.opacity==null?1:s.opacity;let m=null;if(s.excavate){let v=Math.floor(c),b=Math.floor(d),N=Math.ceil(A+c-v),w=Math.ceil(l+d-b);m={x:v,y:b,w:N,h:w}}const h=s.crossOrigin;return{x:c,y:d,h:l,w:A,excavation:m,opacity:f,crossOrigin:h}}function E8(e,t){return t!=null?Math.max(Math.floor(t),0):e?j8:C8}function fN({value:e,level:t,minVersion:r,includeMargin:s,marginSize:a,imageSettings:i,size:o,boostLevel:A}){let l=Pt.useMemo(()=>{const v=(Array.isArray(e)?e:[e]).reduce((b,N)=>(b.push(...yl.QrSegment.makeSegments(N)),b),[]);return yl.QrCode.encodeSegments(v,N8[t],r,void 0,void 0,A)},[e,t,r,A]);const{cells:c,margin:d,numCells:f,calculatedImageSettings:m}=Pt.useMemo(()=>{let h=l.getModules();const v=E8(s,a),b=h.length+v*2,N=S8(h,o,v,i);return{cells:h,margin:v,numCells:b,calculatedImageSettings:N}},[l,o,i,s,a]);return{qrcode:l,margin:d,cells:c,numCells:f,calculatedImageSettings:m}}var F8=function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0}(),U8=Pt.forwardRef(function(t,r){const s=t,{value:a,size:i=iN,level:o=oN,bgColor:A=AN,fgColor:l=lN,includeMargin:c=cN,minVersion:d=uN,boostLevel:f,marginSize:m,imageSettings:h}=s,b=ix(s,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:N}=b,w=ix(b,["style"]),x=h==null?void 0:h.src,B=Pt.useRef(null),C=Pt.useRef(null),E=Pt.useCallback(_=>{B.current=_,typeof r=="function"?r(_):r&&(r.current=_)},[r]),[S,D]=Pt.useState(!1),{margin:R,cells:W,numCells:ne,calculatedImageSettings:k}=fN({value:a,level:o,minVersion:d,boostLevel:f,includeMargin:c,marginSize:m,imageSettings:h,size:i});Pt.useEffect(()=>{if(B.current!=null){const _=B.current,K=_.getContext("2d");if(!K)return;let Q=W;const I=C.current,U=k!=null&&I!==null&&I.complete&&I.naturalHeight!==0&&I.naturalWidth!==0;U&&k.excavation!=null&&(Q=hN(W,k.excavation));const V=window.devicePixelRatio||1;_.height=_.width=i*V;const Z=i/ne*V;K.scale(Z,Z),K.fillStyle=A,K.fillRect(0,0,ne,ne),K.fillStyle=l,F8?K.fill(new Path2D(dN(Q,R))):W.forEach(function(me,F){me.forEach(function(G,q){G&&K.fillRect(q+R,F+R,1,1)})}),k&&(K.globalAlpha=k.opacity),U&&K.drawImage(I,k.x+R,k.y+R,k.w,k.h)}}),Pt.useEffect(()=>{D(!1)},[x]);const L=ax({height:i,width:i},N);let O=null;return x!=null&&(O=Pt.createElement("img",{src:x,key:x,style:{display:"none"},onLoad:()=>{D(!0)},ref:C,crossOrigin:k==null?void 0:k.crossOrigin})),Pt.createElement(Pt.Fragment,null,Pt.createElement("canvas",ax({style:L,height:i,width:i,ref:E,role:"img"},w)),O)});U8.displayName="QRCodeCanvas";var gb=Pt.forwardRef(function(t,r){const s=t,{value:a,size:i=iN,level:o=oN,bgColor:A=AN,fgColor:l=lN,includeMargin:c=cN,minVersion:d=uN,boostLevel:f,title:m,marginSize:h,imageSettings:v}=s,b=ix(s,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:N,cells:w,numCells:x,calculatedImageSettings:B}=fN({value:a,level:o,minVersion:d,boostLevel:f,includeMargin:c,marginSize:h,imageSettings:v,size:i});let C=w,E=null;v!=null&&B!=null&&(B.excavation!=null&&(C=hN(w,B.excavation)),E=Pt.createElement("image",{href:v.src,height:B.h,width:B.w,x:B.x+N,y:B.y+N,preserveAspectRatio:"none",opacity:B.opacity,crossOrigin:B.crossOrigin}));const S=dN(C,N);return Pt.createElement("svg",ax({height:i,width:i,viewBox:`0 0 ${x} ${x}`,ref:r,role:"img"},b),!!m&&Pt.createElement("title",null,m),Pt.createElement("path",{fill:A,d:`M0,0 h${x}v${x}H0z`,shapeRendering:"crispEdges"}),Pt.createElement("path",{fill:l,d:S,shapeRendering:"crispEdges"}),E)});gb.displayName="QRCodeSVG";const Ca=({service:e,company:t,onClose:r,darkMode:s})=>{var v,b;const a=X.useRef(null),[i,o]=X.useState(t||null),[A,l]=X.useState(!1);X.useEffect(()=>{t||c()},[t]);const c=async()=>{try{const{data:{user:N}}=await je.auth.getUser();if(!N)return;const{data:w,error:x}=await je.from("configuracion_empresa").select("*").eq("user_id",N.id).single();!x&&w&&o(w)}catch(N){console.error("Error fetching company:",N)}},d=((v=document.querySelector("base"))==null?void 0:v.getAttribute("href"))||"/CotizappWeb/",f=`${window.location.origin}${d}#/track/${e.token}`,m=N=>{if(!N)return new Date;if(N instanceof Date)return N;if(/^\d{4}-\d{2}-\d{2}$/.test(N))return new Date(`${N}T00:00:00`);if(/^\d{1,2}\/\d{1,2}\/\d{4}$/.test(N)){const[x,B,C]=N.split("/");return new Date(`${C}-${B.padStart(2,"0")}-${x.padStart(2,"0")}T00:00:00`)}const w=new Date(N);return isNaN(w.getTime())?new Date:w},h=async()=>{if(a.current){l(!0);try{const w=a.current.cloneNode(!0);Object.assign(w.style,{position:"fixed",top:"-10000px",left:"-10000px",width:"380px",height:"auto",minHeight:"600px",overflow:"visible",maxHeight:"none",zIndex:"-1000"}),document.body.appendChild(w);const x=await V0(w,{scale:2,useCORS:!0,backgroundColor:"#ffffff",logging:!1,windowWidth:380});document.body.removeChild(w);const B=x.toDataURL("image/jpeg",.95),C=x.width,E=x.height,S=100,D=E*S/C,R=new lt("p","mm",[S,D]);R.addImage(B,"JPEG",0,0,S,D,void 0,"FAST"),R.save(`Ticket-${e.orden_numero}.pdf`)}catch(N){console.error("Error generating PDF:",N),alert("Error al generar el PDF")}finally{l(!1)}}};return n.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center bg-black/60 backdrop-blur-md p-4 animate-in fade-in duration-300",children:n.jsxs("div",{className:`relative w-full max-w-md max-h-[90vh] flex flex-col rounded-3xl overflow-hidden shadow-2xl transition-all ${s?"bg-slate-800":"bg-white"}`,children:[n.jsxs("div",{className:`p-4 border-b flex justify-between items-center z-10 ${s?"bg-slate-900 border-slate-700":"bg-white border-slate-200"}`,children:[n.jsxs("h3",{className:`font-bold text-lg flex items-center gap-2 ${s?"text-slate-100":"text-slate-800"}`,children:[n.jsx("div",{className:"p-2 bg-blue-100 rounded-lg text-blue-600",children:n.jsx(Is,{className:"w-5 h-5"})}),"Ticket QR"]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("button",{onClick:h,disabled:A,className:`p-2 rounded-xl transition-all ${A?"bg-slate-100 text-slate-400 cursor-wait":"bg-blue-600 hover:bg-blue-700 text-white shadow-md"}`,title:"Descargar PDF",children:n.jsx($o,{className:"w-5 h-5"})}),n.jsx("button",{onClick:r,className:`p-2 rounded-xl transition-colors ${s?"text-slate-400 hover:bg-slate-700 hover:text-white":"text-slate-400 hover:bg-slate-200 hover:text-slate-800"}`,children:n.jsx(Kr,{className:"w-6 h-6"})})]})]}),n.jsx("div",{className:"flex-1 overflow-y-auto bg-gray-100 p-4 flex justify-center",children:n.jsxs("div",{ref:a,className:"bg-white w-full max-w-[380px] shadow-xl overflow-hidden relative flex flex-col text-sm",style:{minHeight:"600px"},children:[n.jsxs("div",{className:"relative bg-gradient-to-r from-[#1e3a8a] to-[#2563eb] text-white p-6 pb-12 rounded-br-[60px]",children:[n.jsxs("div",{className:"flex justify-between items-start mb-4",children:[n.jsx("div",{className:"w-24 h-20 bg-white/20 rounded-lg overflow-hidden flex items-center justify-center backdrop-blur-sm border border-white/10",children:i!=null&&i.logo_uri?n.jsx("img",{src:i.logo_uri,alt:"Logo",className:"w-full h-full object-cover"}):n.jsx("span",{className:"font-bold text-3xl",children:((b=i==null?void 0:i.nombre)==null?void 0:b.charAt(0))||"C"})}),n.jsxs("div",{className:"text-right",children:[n.jsxs("div",{className:"bg-white/20 backdrop-blur-md px-3 py-1 rounded-full text-xs font-bold mb-1 inline-block border border-white/10",children:["#",e.orden_numero]}),n.jsx("p",{className:"text-[10px] font-medium opacity-90",children:m(e.fecha).toLocaleDateString("es-MX",{day:"2-digit",month:"2-digit",year:"numeric"})})]})]}),n.jsx("h1",{className:"text-xl font-black uppercase tracking-wide mb-3 leading-tight",children:(i==null?void 0:i.nombre)||"MI EMPRESA"}),n.jsxs("div",{className:"space-y-1 text-[10px] font-medium opacity-90",children:[(i==null?void 0:i.direccion)&&n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(zU,{className:"w-3 h-3 text-red-400 shrink-0"}),n.jsx("span",{className:"truncate",children:i.direccion})]}),(i==null?void 0:i.telefono)&&n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Il,{className:"w-3 h-3 text-orange-400 shrink-0"}),n.jsx("span",{children:i.telefono})]}),(i==null?void 0:i.correo)&&n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Ff,{className:"w-3 h-3 text-blue-300 shrink-0"}),n.jsx("span",{children:i.correo})]})]})]}),n.jsxs("div",{className:"px-6 py-6 space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-gray-400 text-xs font-medium mb-0.5",children:"Cliente"}),n.jsx("p",{className:"font-bold text-gray-900 text-base leading-tight",children:e.cliente_nombre||"Cliente General"})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-gray-400 text-xs font-medium mb-0.5",children:"Telfono"}),n.jsx("p",{className:"font-bold text-gray-900 text-base leading-tight",children:e.cliente_telefono||"N/A"})]}),n.jsxs("div",{className:"col-span-2",children:[n.jsx("p",{className:"text-gray-400 text-xs font-medium mb-0.5",children:"Tcnico Responsable"}),n.jsx("p",{className:"font-bold text-gray-900 text-base leading-tight",children:e.tecnico_nombre||"Sin asignar"})]})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-gray-400 text-xs font-medium mb-0.5",children:"Equipo / Modelo"}),n.jsxs("p",{className:"font-bold text-gray-900 text-base",children:[e.equipo_tipo?`${e.equipo_tipo} `:"",e.equipo_modelo||e.marca_principal||e.modelo||"Equipo Genrico"]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-[#1e3a8a] font-bold text-lg mb-3",children:"Detalles del Servicio"}),n.jsxs("div",{className:"mb-3",children:[n.jsx("p",{className:"text-blue-600 text-xs font-bold mb-1",children:"Problema Reportado"}),n.jsxs("p",{className:"text-gray-800 italic font-medium",children:['"',e.problema_reportado||e.falla_reportada||"Sin reporte",'"']})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-gray-400 text-xs font-medium mb-1",children:"Observaciones de Recepcin"}),n.jsx("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-3 bg-gray-50 min-h-[60px]",children:n.jsx("p",{className:"text-gray-600 text-xs leading-relaxed",children:e.observaciones||e.comentarios||"Sin observaciones adicionales."})})]})]}),n.jsxs("div",{className:"flex flex-col items-center justify-center pt-4 pb-2",children:[n.jsx(gb,{value:f,size:180,level:"H",className:"mb-3"}),n.jsx("p",{className:"text-gray-500 text-xs font-bold text-center",children:"Escanee para ver el estado de su equipo"})]}),n.jsx("div",{className:"border-t border-dashed border-gray-200 pt-4",children:n.jsxs("p",{className:"text-[9px] text-gray-400 text-justify leading-tight",children:[n.jsx("span",{className:"font-bold text-gray-500",children:"Trminos y Condiciones:"})," Despus de 30 das naturales a partir de la fecha de recepcin, no nos hacemos responsables por equipos olvidados, pudiendo estos ser desechados o vendidos para recuperar costos de mano de obra y/o materiales. No hay garanta en software ni virus."]})})]})]})})]})})},_a=({service:e,onClose:t,company:r,darkMode:s})=>{var m;const[a,i]=X.useState(r||null);X.useEffect(()=>{r||(async()=>{const{data:{user:v}}=await je.auth.getUser();if(v){const{data:b}=await je.from("configuracion_empresa").select("*").eq("user_id",v.id).single();b&&i(b)}})()},[r]);const o=()=>{window.print()},A=h=>new Intl.NumberFormat("es-MX",{style:"currency",currency:"MXN"}).format(h||0),l=h=>h?new Date(h).toLocaleDateString("es-MX",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}):"",c=((m=document.querySelector("base"))==null?void 0:m.getAttribute("href"))||"/CotizappWeb/",d=`${window.location.origin}${c}#/track/${e.token}`,f=(e.total||0)-(e.anticipo||0);return n.jsxs("div",{className:"fixed inset-0 z-[200] flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 animate-in fade-in duration-200",children:[n.jsxs("div",{className:"bg-white rounded-lg shadow-2xl w-full max-w-md overflow-hidden flex flex-col max-h-[90vh]",children:[n.jsxs("div",{className:`p-4 border-b flex justify-between items-center no-print ${s?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"}`,children:[n.jsx("h3",{className:`font-bold ${s?"text-white":"text-slate-800"}`,children:"Vista Previa del Ticket"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{onClick:o,className:"p-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition",title:"Imprimir",children:n.jsx(zu,{size:20})}),n.jsx("button",{onClick:t,className:`p-2 rounded hover:bg-slate-200 transition ${s?"text-slate-300 hover:bg-slate-700":"text-slate-500"}`,children:n.jsx(Kr,{size:20})})]})]}),n.jsx("div",{className:"overflow-y-auto p-4 bg-gray-100 flex justify-center",children:n.jsxs("div",{id:"printable-ticket",className:"bg-white w-[80mm] min-h-[100mm] p-2 shadow-sm text-black font-mono text-[10px] leading-tight",style:{fontFamily:"'Courier New', Courier, monospace"},children:[n.jsxs("div",{className:"text-center mb-2",children:[(a==null?void 0:a.logo_uri)&&n.jsx("img",{src:a.logo_uri,alt:"Logo",className:"h-12 mx-auto mb-1 object-contain grayscale"}),n.jsx("h2",{className:"font-bold text-sm uppercase",children:(a==null?void 0:a.nombre)||"SERVICIO TCNICO"}),n.jsx("p",{children:a==null?void 0:a.direccion}),n.jsx("p",{children:a==null?void 0:a.telefono}),(a==null?void 0:a.correo)&&n.jsx("p",{children:a.correo})]}),n.jsx("div",{className:"border-b-2 border-dashed border-black my-2"}),n.jsxs("div",{className:"text-center mb-2",children:[n.jsxs("h3",{className:"font-bold text-xs",children:["TICKET: #",e.orden_numero]}),n.jsx("p",{children:l(new Date().toISOString())})]}),n.jsxs("div",{className:"mb-2",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"font-bold",children:"Cliente:"}),n.jsx("span",{className:"text-right max-w-[60%] truncate",children:e.cliente_nombre})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"font-bold",children:"Tel:"}),n.jsx("span",{children:e.cliente_telefono})]}),n.jsxs("div",{className:"mt-1",children:[n.jsx("span",{className:"font-bold block",children:"Equipo / Modelo:"}),n.jsxs("span",{children:[e.equipo_tipo," - ",e.equipo_modelo]})]})]}),n.jsx("div",{className:"border-b border-black my-2"}),n.jsxs("div",{className:"mb-2",children:[n.jsx("p",{className:"font-bold",children:"Descripcin / Problema:"}),n.jsx("p",{className:"whitespace-pre-wrap",children:e.problema_reportado||"Revisin general"})]}),n.jsx("div",{className:"border-b border-black my-2"}),(()=>{let h=[];try{h=JSON.parse(e.repuestos_descripcion||"[]"),Array.isArray(h)||(h=[])}catch{e.repuestos_descripcion&&typeof e.repuestos_descripcion=="string"&&e.repuestos_descripcion.trim().length>0&&(h=[{cantidad:1,producto:e.repuestos_descripcion,costoPublico:e.repuestos_costo||0}])}return h.length===0?null:n.jsxs("div",{className:"mb-2",children:[n.jsx("p",{className:"font-bold mb-1",children:"Refacciones:"}),n.jsx("div",{className:"space-y-1",children:h.map((v,b)=>n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsxs("span",{className:"flex-1",children:[v.cantidad," x ",v.producto||v.descripcion]}),n.jsx("span",{className:"ml-2",children:A((v.cantidad||0)*(v.costoPublico||v.precio_publico||0))})]},b))}),n.jsx("div",{className:"border-b border-dotted border-black my-1"})]})})(),n.jsxs("div",{className:"mb-2 space-y-1",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:"Precio:"}),n.jsx("span",{children:A(e.total)})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:"Anticipo:"}),n.jsx("span",{children:A(e.anticipo)})]}),n.jsxs("div",{className:"flex justify-between font-bold text-xs pt-1 border-t border-dotted border-gray-400",children:[n.jsx("span",{children:"TOTAL:"}),n.jsx("span",{children:A(e.total)})]}),n.jsxs("div",{className:"flex justify-between font-bold text-xs",children:[n.jsx("span",{children:"RESTA:"}),n.jsx("span",{children:A(f)})]})]}),n.jsx("div",{className:"border-b-2 border-dashed border-black my-4"}),n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"font-bold mb-1",children:"Escanear para seguimiento:"}),n.jsx("div",{className:"flex justify-center p-1 bg-white mb-2",children:n.jsx(gb,{value:d,size:100,level:"M",includeMargin:!1})}),n.jsx("p",{className:"text-[8px] break-all",children:e.token})]}),n.jsx("div",{className:"mt-4 text-[8px] text-center text-justify",children:n.jsx("p",{children:"GARANTA: 30 das en mano de obra. No cubre partes mojadas o mal uso. Equipos sin reclamar causan abandono en 60 das."})}),n.jsx("div",{className:"mt-4 text-center font-bold",children:"GRACIAS POR SU PREFERENCIA!"})]})})]}),n.jsx("style",{dangerouslySetInnerHTML:{__html:`
                    @media print {
                        body * {
                            visibility: hidden;
                        }
                        #printable-ticket, #printable-ticket * {
                            visibility: visible;
                        }
                        #printable-ticket {
                            position: absolute;
                            left: 0;
                            top: 0;
                            width: 80mm !important; /* Force typical receipt width */
                            margin: 0;
                            padding: 2mm;
                            box-shadow: none;
                        }
                        @page {
                            size: 80mm auto; /* Variable height based on content */
                            margin: 0;
                        }
                    }
                `}})]})},ct=e=>Number(e).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}),Xr=e=>{if(!e)return"-";if(/^\d{2}\/\d{2}\/\d{4}$/.test(e))return e;if(/^\d{4}-\d{2}-\d{2}$/.test(e)){const[r,s,a]=e.split("-");return`${a}/${s}/${r}`}const t=new Date(e);if(!isNaN(t.getTime())){const r=String(t.getDate()).padStart(2,"0"),s=String(t.getMonth()+1).padStart(2,"0"),a=t.getFullYear();return`${r}/${s}/${a}`}return e},dA=e=>{if(!e)return new Date().toLocaleDateString("en-CA");try{if(/^\d{4}-\d{2}-\d{2}$/.test(e))return e;if(/^\d{2}\/\d{2}\/\d{4}$/.test(e)){const[r,s,a]=e.split("/");return`${a}-${s}-${r}`}const t=new Date(e);return isNaN(t.getTime())?new Date().toLocaleDateString("en-CA"):t.toLocaleDateString("en-CA")}catch(t){return console.error("Error formatting date for input:",t),new Date().toLocaleDateString("en-CA")}},ud=({onSelect:e,onClose:t,darkMode:r})=>{const[s,a]=X.useState([]),[i,o]=X.useState(!0),[A,l]=X.useState("");X.useEffect(()=>{c()},[]);const c=async()=>{try{o(!0);const{data:m,error:h}=await je.from("cotizaciones").select("*").order("created_at",{ascending:!1}).limit(50);if(h)throw h;a(m||[])}catch(m){console.error("Error fetching quotes:",m),alert("Error al cargar cotizaciones")}finally{o(!1)}},d=m=>{let h=m.articulos;if(typeof h=="string")try{h=JSON.parse(h)}catch(v){console.error("Error parsing quote items:",v),h=[]}if(!h||!Array.isArray(h)){alert("Esta cotizacin no contiene artculos validos.");return}e(h),t()},f=s.filter(m=>m.nombre_cliente&&m.nombre_cliente.toLowerCase().includes(A.toLowerCase())||m.folio&&m.folio.toString().toLowerCase().includes(A.toLowerCase()));return n.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 animate-in fade-in duration-200",children:n.jsxs("div",{className:`w-full max-w-3xl max-h-[80vh] flex flex-col rounded-2xl shadow-2xl animate-in zoom-in-95 duration-200 overflow-hidden ${r?"bg-slate-800 border border-slate-700":"bg-white"}`,children:[n.jsxs("div",{className:`px-6 py-4 border-b flex justify-between items-center ${r?"border-slate-700 bg-slate-800":"border-slate-100 bg-slate-50"}`,children:[n.jsxs("div",{children:[n.jsx("h2",{className:`text-xl font-bold ${r?"text-slate-100":"text-slate-800"}`,children:"Seleccionar Cotizacin"}),n.jsx("p",{className:`text-xs ${r?"text-slate-400":"text-slate-500"}`,children:"Carga los productos de una cotizacin existente."})]}),n.jsx("button",{onClick:t,className:"p-2 rounded-full hover:bg-slate-100 dark:hover:bg-slate-700 transition-colors text-slate-400",children:n.jsx(Kr,{className:"w-5 h-5"})})]}),n.jsx("div",{className:`p-4 border-b ${r?"border-slate-700":"border-slate-100"}`,children:n.jsxs("div",{className:"relative",children:[n.jsx(Vl,{className:`absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 ${r?"text-slate-500":"text-slate-400"}`}),n.jsx("input",{type:"text",placeholder:"Buscar por cliente o folio...",value:A,onChange:m=>l(m.target.value),className:`w-full pl-9 pr-4 py-2 rounded-lg border text-sm transition-all outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 ${r?"bg-slate-700 border-slate-600 text-slate-100 placeholder-slate-500":"bg-white border-slate-200 text-slate-900 placeholder-slate-400"}`})]})}),n.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-3",children:i?n.jsx("div",{className:"flex justify-center py-12",children:n.jsx(Mr,{className:"animate-spin w-8 h-8 text-blue-600"})}):f.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx(jr,{className:`w-12 h-12 mx-auto mb-3 ${r?"text-slate-700":"text-slate-200"}`}),n.jsx("p",{className:`text-sm ${r?"text-slate-500":"text-slate-400"}`,children:"No se encontraron cotizaciones."})]}):f.map(m=>n.jsxs("div",{onClick:()=>d(m),className:`group flex items-center justify-between p-4 rounded-xl border border-transparent transition-all cursor-pointer ${r?"bg-slate-700/30 hover:bg-slate-700 hover:border-slate-600":"bg-slate-50 hover:bg-blue-50 hover:border-blue-200"}`,children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center font-bold text-sm ${r?"bg-slate-600 text-slate-300":"bg-white text-blue-600 shadow-sm"}`,children:["#",m.folio]}),n.jsxs("div",{children:[n.jsx("h3",{className:`font-bold text-sm mb-0.5 ${r?"text-slate-200":"text-slate-800"}`,children:m.nombre_cliente||"Cliente sin nombre"}),n.jsxs("div",{className:"flex items-center gap-3 text-xs",children:[n.jsxs("span",{className:`flex items-center gap-1 ${r?"text-slate-400":"text-slate-500"}`,children:[n.jsx(ea,{className:"w-3 h-3"}),new Date(m.fecha).toLocaleDateString()]}),n.jsxs("span",{className:`flex items-center gap-1 ${r?"text-slate-400":"text-slate-500"}`,children:[n.jsx(W0,{className:"w-3 h-3"}),ct(m.total)]})]})]})]}),n.jsx("div",{className:`opacity-0 group-hover:opacity-100 transition-opacity p-2 rounded-full ${r?"bg-blue-500/20 text-blue-400":"bg-blue-100 text-blue-600"}`,children:n.jsx(Wn,{className:"w-4 h-4"})})]},m.id))})]})})},Q8=({service:e,onSave:t,onCancel:r,darkMode:s})=>{const[a,i]=X.useState({orden_numero:"",fecha:new Date().toLocaleDateString("en-CA"),cliente_nombre:"",cliente_telefono:"",equipo_tipo:"Laptop",equipo_modelo:"",equipo_serie:"",equipo_password:"",tecnico_nombre:"",problema_reportado:"",diagnostico_tecnico:"",trabajo_realizado:"",observaciones:"",repuestos_descripcion:"",mano_obra:0,repuestos_costo:0,anticipo:0,incluir_iva:!1,iva:0,subtotal:0,total:0,pagado:!1,entregado:!1}),[o,A]=X.useState([]),[l,c]=X.useState(!1),[d,f]=X.useState(!1),[m,h]=X.useState([]),[v,b]=X.useState([]),[N,w]=X.useState([]);X.useEffect(()=>{if(e){let U=[];try{e.repuestos_descripcion&&e.repuestos_descripcion.trim().startsWith("[")?(U=JSON.parse(e.repuestos_descripcion),U=U.map(F=>({id:F.id||Date.now()+Math.random(),cantidad:F.cantidad||1,producto:F.producto||F.descripcion||"",costoPublico:F.costoPublico||F.precio_publico||0,costoEmpresa:F.costoEmpresa||F.costo_empresa||0,numeroSerie:F.numeroSerie||""}))):e.repuestos_descripcion&&e.repuestos_descripcion.trim()!==""&&(U=[{id:Date.now(),cantidad:1,producto:e.repuestos_descripcion,costoEmpresa:0,costoPublico:e.repuestos_costo||0,numeroSerie:""}])}catch(F){console.error("Error parsing parts:",F)}A(U);let V=e.observaciones||"",Z=e.equipo_password||"";const me=V.match(/\[Contrasea: (.*?)\]/);me&&!Z&&(Z=me[1],V=V.replace(me[0],"").trim()),i({...a,...e,observaciones:V,equipo_password:Z,fecha:dA(e.fecha),mano_obra:e.mano_obra||0,repuestos_costo:e.repuestos_costo||0,anticipo:e.anticipo||0,trabajo_realizado:Array.isArray(e.trabajo_realizado)?e.trabajo_realizado.join(", "):e.trabajo_realizado||""}),e.id&&(async()=>{const{data:G}=await je.from("servicio_fotos").select("*").eq("servicio_id",e.id);G&&b(G)})()}},[e]),X.useEffect(()=>{const U=o.reduce((V,Z)=>V+(parseFloat(Z.costoPublico)||0)*(parseFloat(Z.cantidad)||1),0);i(V=>({...V,repuestos_costo:U}))},[o]);const x=U=>{const{name:V,value:Z,type:me,checked:F}=U.target;i(G=>({...G,[V]:me==="checkbox"?F:Z}))},B=U=>{const{name:V,value:Z}=U.target;i(me=>({...me,[V]:Math.max(0,parseFloat(Z)||0)}))},C=()=>{A([...o,{id:Date.now(),cantidad:1,producto:"",costoEmpresa:0,costoPublico:0,numeroSerie:""}])},E=U=>{A(o.filter(V=>V.id!==U))},S=(U,V,Z)=>{A(o.map(me=>{if(me.id===U){const G=["cantidad","costoPublico","costoEmpresa"].includes(V)?Math.max(0,parseFloat(Z)||0):Z;return{...me,[V]:G}}return me}))},D=U=>{U.target.files&&h(V=>[...V,...Array.from(U.target.files)])},R=U=>{h(V=>V.filter((Z,me)=>me!==U))},W=U=>{w(V=>[...V,U]),b(V=>V.filter(Z=>Z.id!==U))},ne=U=>{U.preventDefault();const V=parseFloat(a.mano_obra)||0,Z=parseFloat(a.repuestos_costo)||0,me=V+Z,F=a.incluir_iva?me*.16:0,G=me+F,q={...a,repuestos_descripcion:JSON.stringify(o),subtotal:me,iva:F,total:G,files:m,photosToDelete:N};t(q)},k=(parseFloat(a.mano_obra)||0)+(parseFloat(a.repuestos_costo)||0),L=a.incluir_iva?k*.16:0,O=k+L,_=O-(parseFloat(a.anticipo)||0),K=`w-full px-4 py-2 rounded-lg border focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all ${s?"bg-slate-700/50 border-slate-600 text-slate-100 placeholder-slate-400":"bg-white/50 border-slate-200 text-slate-800 placeholder-slate-400"}`,Q=`block text-xs font-bold uppercase tracking-wider mb-2 ${s?"text-slate-400":"text-slate-500"}`,I=U=>{const V=U.map(Z=>({id:Date.now()+Math.random(),cantidad:Z.cantidad||1,producto:Z.articulo||Z.producto||"",costoEmpresa:Z.costoEmpresa||0,costoPublico:Z.precioUnitario||Z.precio||0,numeroSerie:""}));A([...o,...V])};return Wl.createPortal(n.jsxs("div",{className:"fixed inset-0 z-[110] flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 animate-in fade-in duration-200",children:[d&&n.jsx(ud,{onSelect:I,onClose:()=>f(!1),darkMode:s}),n.jsxs("div",{className:`w-full max-w-5xl max-h-[90vh] flex flex-col rounded-3xl shadow-2xl overflow-hidden animate-in zoom-in-95 duration-200 ${s?"bg-slate-800 border border-slate-700":"bg-white"}`,children:[n.jsxs("div",{className:`px-8 py-6 flex justify-between items-center border-b sticky top-0 z-10 ${s?"border-slate-700 bg-slate-800/90":"border-slate-100 bg-white/90"} backdrop-blur-md`,children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"p-3 bg-blue-600 rounded-2xl shadow-lg shadow-blue-500/20 text-white",children:n.jsx(ld,{className:"w-6 h-6"})}),n.jsxs("div",{children:[n.jsxs("h2",{className:`text-2xl font-black tracking-tight ${s?"text-white":"text-slate-800"}`,children:[e?"Editar Servicio":"Nuevo Servicio"," ",n.jsx("span",{className:"text-blue-600",children:"PC"})]}),n.jsx("p",{className:`text-sm font-medium ${s?"text-slate-400":"text-slate-500"}`,children:e?`Orden: #${e.orden_numero}`:"Complete los datos del equipo"})]})]}),n.jsx("button",{onClick:r,className:`p-2 rounded-full transition-colors ${s?"hover:bg-slate-700":"hover:bg-slate-100"}`,children:n.jsx(Kr,{className:"w-6 h-6 text-slate-400"})})]}),n.jsxs("form",{onSubmit:ne,className:"flex-1 overflow-y-auto px-8 py-6 space-y-8",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"col-span-2",children:[n.jsx("label",{className:Q,children:"Nombre del Cliente"}),n.jsxs("div",{className:"relative",children:[n.jsx(Ls,{className:"absolute left-3 top-2.5 w-5 h-5 text-slate-400"}),n.jsx("input",{type:"text",name:"cliente_nombre",value:a.cliente_nombre,onChange:x,className:`${K} pl-10`,placeholder:"Nombre completo",required:!0})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:Q,children:"Telfono"}),n.jsx("input",{type:"text",name:"cliente_telefono",value:a.cliente_telefono,onChange:x,className:K,placeholder:"WhatsApp / Celular"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:Q,children:"Fecha de Ingreso"}),n.jsxs("div",{className:"relative",children:[n.jsx(ea,{className:"absolute left-3 top-2.5 w-5 h-5 text-slate-400"}),n.jsx("input",{type:"date",name:"fecha",value:a.fecha,onChange:x,className:`${K} pl-10`,required:!0})]})]}),n.jsxs("div",{className:"col-span-2",children:[n.jsx("label",{className:Q,children:"Tcnico Responsable"}),n.jsx("input",{type:"text",name:"tecnico_nombre",value:a.tecnico_nombre,onChange:x,className:K,placeholder:"Nombre del tcnico experto"})]})]}),n.jsxs("div",{className:`p-6 rounded-2xl border ${s?"bg-slate-900/50 border-slate-700":"bg-blue-50/30 border-blue-100"}`,children:[n.jsxs("div",{className:"flex items-center gap-2 mb-6 text-blue-600",children:[n.jsx(kU,{className:"w-5 h-5"}),n.jsx("h3",{className:"font-bold uppercase text-xs tracking-widest",children:"Especificaciones del Equipo"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:Q,children:"Tipo de Equipo"}),n.jsxs("select",{name:"equipo_tipo",value:a.equipo_tipo,onChange:x,className:K,children:[n.jsx("option",{value:"Laptop",children:"Laptop"}),n.jsx("option",{value:"Desktop",children:"Desktop / All-in-One"}),n.jsx("option",{value:"Server",children:"Servidor"}),n.jsx("option",{value:"Monitor",children:"Monitor"}),n.jsx("option",{value:"Other",children:"Otro"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:Q,children:"Modelo / Marca"}),n.jsx("input",{type:"text",name:"equipo_modelo",value:a.equipo_modelo,onChange:x,className:K,placeholder:"Ej: Dell Latitude 5420",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:Q,children:"Nmero de Serie"}),n.jsx("input",{type:"text",name:"equipo_serie",value:a.equipo_serie,onChange:x,className:K,placeholder:"S/N o Service Tag"})]}),n.jsxs("div",{children:[n.jsx("label",{className:Q,children:"Contrasea/PIN Acceso"}),n.jsxs("div",{className:"relative",children:[n.jsx(OB,{className:"absolute left-3 top-2.5 w-5 h-5 text-slate-400"}),n.jsx("input",{type:"text",name:"equipo_password",value:a.equipo_password,onChange:x,className:`${K} pl-10`,placeholder:"Clave de pantalla"})]})]})]})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center gap-2 mb-4 text-amber-500",children:[n.jsx(Nr,{className:"w-5 h-5"}),n.jsx("h3",{className:"font-bold uppercase text-xs tracking-widest",children:"Problema Reportado"})]}),n.jsx("textarea",{name:"problema_reportado",value:a.problema_reportado,onChange:x,className:`${K} h-24 resize-none`,placeholder:"Falla comentada por el cliente..."})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center gap-2 mb-4 text-indigo-500",children:[n.jsx(Nr,{className:"w-5 h-5"}),n.jsx("h3",{className:"font-bold uppercase text-xs tracking-widest",children:"Diagnstico Tcnico"})]}),n.jsx("textarea",{name:"diagnostico_tecnico",value:a.diagnostico_tecnico,onChange:x,className:`${K} h-32 resize-none`,placeholder:"Lo que se encontr al revisar..."})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center gap-2 mb-4 text-emerald-500",children:[n.jsx(Nr,{className:"w-5 h-5"}),n.jsx("h3",{className:"font-bold uppercase text-xs tracking-widest",children:"Trabajo Realizado"})]}),n.jsx("textarea",{name:"trabajo_realizado",value:a.trabajo_realizado,onChange:x,className:`${K} h-32 resize-none`,placeholder:"Acciones correctivas aplicadas..."})]})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center gap-2 mb-4 text-slate-500",children:[n.jsx(Nr,{className:"w-5 h-5"}),n.jsx("h3",{className:"font-bold uppercase text-xs tracking-widest",children:"Observaciones Internas"})]}),n.jsx("textarea",{name:"observaciones",value:a.observaciones,onChange:x,className:`${K} h-20 resize-none`,placeholder:"Notas internas que no ve el cliente..."})]})]}),n.jsxs("div",{className:`p-8 rounded-3xl border transition-all ${s?"bg-slate-900/40 border-slate-700":"bg-gray-50/50 border-slate-100"}`,children:[n.jsxs("div",{className:"flex justify-between items-center mb-6",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:`p-2 rounded-xl ${s?"bg-blue-500/10 text-blue-400":"bg-blue-50 text-blue-600"}`,children:n.jsx(Js,{className:"w-5 h-5"})}),n.jsxs("div",{children:[n.jsx("h3",{className:`font-bold ${s?"text-white":"text-slate-800"}`,children:"Repuestos y Materiales"}),n.jsx("p",{className:`text-xs ${s?"text-slate-400":"text-slate-500"}`,children:"Desglose de refacciones utilizadas"})]})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs("button",{type:"button",onClick:C,className:`flex items-center gap-2 px-4 py-2 rounded-xl text-sm font-bold transition-all shadow-sm ${s?"bg-slate-700 text-white hover:bg-slate-600":"bg-white text-slate-700 hover:bg-slate-50 border border-slate-200"}`,children:[n.jsx(Gs,{className:"w-4 h-4"})," Agregar"]}),n.jsxs("button",{type:"button",onClick:()=>f(!0),className:`flex items-center gap-2 px-4 py-2 rounded-xl text-sm font-bold transition-all shadow-sm ${s?"bg-purple-900/50 text-purple-300 hover:bg-purple-900/70":"bg-purple-50 text-purple-700 hover:bg-purple-100 border border-purple-200"}`,children:[n.jsx(Ad,{className:"w-4 h-4"})," Desde Cotizacin"]})]})]}),n.jsxs("div",{className:"space-y-3",children:[o.map(U=>n.jsxs("div",{className:`flex flex-col md:flex-row gap-3 p-4 md:p-3 rounded-2xl border items-center transition-all ${s?"bg-slate-800/50 border-slate-700":"bg-white border-slate-200 shadow-sm"}`,children:[n.jsxs("div",{className:"w-full md:w-20",children:[n.jsx("label",{className:"block text-[10px] uppercase font-black text-slate-400 mb-1 ml-1 md:text-center",children:"Cant."}),n.jsx("input",{type:"number",value:U.cantidad,onChange:V=>S(U.id,"cantidad",V.target.value),className:`${K} text-center px-1`,min:"0"})]}),n.jsxs("div",{className:"w-full md:flex-1",children:[n.jsx("label",{className:"block text-[10px] uppercase font-black text-slate-400 mb-1 ml-1",children:"Producto / Material"}),n.jsx("input",{type:"text",value:U.producto,onChange:V=>S(U.id,"producto",V.target.value),className:K,placeholder:"Descripcin del artculo..."})]}),n.jsxs("div",{className:"w-full md:w-32",children:[n.jsx("label",{className:"block text-[10px] uppercase font-black text-rose-400 mb-1 ml-1",children:"Costo Empresa"}),n.jsxs("div",{className:"relative",children:[n.jsx("span",{className:"absolute left-3 top-2.5 text-slate-400 text-sm",children:"$"}),n.jsx("input",{type:"number",min:"0",value:U.costoEmpresa,onChange:V=>S(U.id,"costoEmpresa",V.target.value),className:`${K} pl-6 border-rose-100 focus:border-rose-300`})]})]}),n.jsxs("div",{className:"w-full md:w-32",children:[n.jsx("label",{className:"block text-[10px] uppercase font-black text-blue-400 mb-1 ml-1",children:"Costo Pblico"}),n.jsxs("div",{className:"relative",children:[n.jsx("span",{className:"absolute left-3 top-2.5 text-slate-400 text-sm",children:"$"}),n.jsx("input",{type:"number",min:"0",value:U.costoPublico,onChange:V=>S(U.id,"costoPublico",V.target.value),className:`${K} pl-6 border-blue-100 focus:border-blue-300`})]})]}),n.jsxs("div",{className:"w-full md:w-32",children:[n.jsx("label",{className:"block text-[10px] uppercase font-black text-green-500 mb-1 ml-1",children:"Subtotal"}),n.jsxs("div",{className:"relative",children:[n.jsx("span",{className:"absolute left-3 top-2.5 text-slate-400 text-sm",children:"$"}),n.jsx("input",{type:"text",value:((parseFloat(U.cantidad)||0)*(parseFloat(U.costoPublico)||0)).toFixed(2),readOnly:!0,className:`${K} pl-6 bg-slate-50 font-bold text-slate-600`})]})]}),n.jsx("div",{className:"w-full md:w-auto flex justify-end md:self-end md:mb-1",children:n.jsx("button",{type:"button",onClick:()=>E(U.id),className:"p-2 text-red-500 hover:bg-red-50 rounded-lg transition-colors",title:"Eliminar Item",children:n.jsx(Wt,{className:"w-5 h-5"})})})]},U.id)),o.length===0&&n.jsx("div",{className:"text-center py-10 rounded-2xl border-2 border-dashed border-slate-200 text-slate-400",children:"No hay repuestos agregados an."})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center gap-2 text-purple-500",children:[n.jsx(bs,{className:"w-5 h-5"}),n.jsx("h3",{className:"font-bold uppercase text-xs tracking-widest",children:"Evidencia Fotogrfica"})]}),n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4",children:[m.map((U,V)=>n.jsxs("div",{className:"relative aspect-square rounded-xl overflow-hidden border border-slate-200 bg-slate-50 group",children:[n.jsx("img",{src:URL.createObjectURL(U),alt:"preview",className:"w-full h-full object-cover"}),n.jsx("button",{type:"button",onClick:()=>R(V),className:"absolute top-1 right-1 p-1 bg-red-500 text-white rounded-full shadow-sm hover:bg-red-600 transition-colors",children:n.jsx(Kr,{className:"w-3 h-3"})}),n.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-blue-600/80 text-[8px] text-white text-center py-0.5",children:"NUEVA"})]},V)),v.map(U=>n.jsxs("div",{className:"relative aspect-square rounded-xl overflow-hidden border border-slate-200 bg-slate-50 group",children:[n.jsx("img",{src:U.uri,alt:"Existing",className:"w-full h-full object-cover"}),n.jsx("button",{type:"button",onClick:()=>W(U.id),className:"absolute top-1 right-1 p-1 bg-red-500 text-white rounded-full shadow-sm hover:bg-red-600 transition-colors",children:n.jsx(Wt,{className:"w-3 h-3"})})]},U.id)),n.jsxs("label",{className:"aspect-square flex flex-col items-center justify-center border-2 border-dashed border-slate-300 rounded-xl hover:bg-slate-50 cursor-pointer transition-all hover:border-blue-400 group",children:[n.jsx(bs,{className:"w-8 h-8 text-slate-300 group-hover:text-blue-400 mb-2"}),n.jsx("span",{className:"text-[10px] font-bold text-slate-400 uppercase group-hover:text-blue-500",children:"Subir Foto"}),n.jsx("input",{type:"file",multiple:!0,accept:"image/*",onChange:D,className:"hidden"})]})]})]})]}),n.jsx("div",{className:`p-8 border-t sticky bottom-0 z-10 ${s?"border-slate-700 bg-slate-800/90":"bg-gray-50/90 border-slate-100"} backdrop-blur-md`,children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:[n.jsxs("div",{children:[n.jsx("label",{className:Q,children:"Mano de Obra"}),n.jsxs("div",{className:"relative",children:[n.jsx("span",{className:"absolute left-3 top-2.5 text-slate-400 font-bold",children:"$"}),n.jsx("input",{type:"number",min:"0",name:"mano_obra",value:a.mano_obra,onChange:B,className:`${K} pl-7 font-bold text-blue-600`})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:Q,children:"Anticipo"}),n.jsxs("div",{className:"relative",children:[n.jsx("span",{className:"absolute left-3 top-2.5 text-slate-400 font-bold",children:"$"}),n.jsx("input",{type:"number",min:"0",name:"anticipo",value:a.anticipo,onChange:B,className:`${K} pl-7 font-bold text-rose-600`})]})]}),n.jsx("div",{className:"lg:col-span-2 flex flex-col justify-end",children:n.jsxs("div",{className:`flex flex-col sm:flex-row items-center justify-between p-4 rounded-2xl ${s?"bg-slate-900 border border-slate-700":"bg-white border border-slate-200"} shadow-sm gap-4`,children:[n.jsxs("div",{className:"flex flex-col",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:`text-[10px] font-black uppercase tracking-widest ${s?"text-slate-500":"text-slate-400"}`,children:"Por Pagar"}),a.incluir_iva&&n.jsx("span",{className:"bg-blue-100 text-blue-600 text-[8px] px-1.5 py-0.5 rounded-full font-black tracking-tighter uppercase",children:"Con IVA"})]}),n.jsxs("div",{className:"flex items-baseline gap-2",children:[n.jsxs("span",{className:`text-4xl font-black ${_>0?"text-slate-800":"text-green-500"}`,children:["$",ct(_)]}),n.jsxs("span",{className:`text-xs font-bold ${s?"text-slate-500":"text-slate-400"}`,children:["Total: $",ct(O)]})]})]}),n.jsxs("div",{className:"flex flex-col gap-2",children:[n.jsxs("div",{className:"flex items-center gap-2 justify-end",children:[n.jsx("span",{className:`text-[10px] font-bold ${s?"text-slate-400":"text-slate-500"}`,children:"IVA 16%"}),n.jsx("button",{type:"button",onClick:()=>i(U=>({...U,incluir_iva:!U.incluir_iva})),className:`relative inline-flex h-5 w-9 items-center rounded-full transition-colors ${a.incluir_iva?"bg-blue-600":"bg-slate-300"}`,children:n.jsx("span",{className:`inline-block h-3 w-3 transform rounded-full bg-white transition-transform ${a.incluir_iva?"translate-x-5":"translate-x-1"}`})})]}),n.jsxs("button",{type:"button",onClick:ne,className:"btn bg-blue-600 text-white hover:bg-blue-700 shadow-xl shadow-blue-500/20 transform hover:-translate-y-0.5 px-8 py-3 rounded-2xl font-black text-sm transition-all flex items-center justify-center gap-3",children:[n.jsx(Xl,{className:"w-5 h-5"}),"GUARDAR"]})]})]})})]})})]})]}),document.body)},k8=({service:e,onSave:t,onCancel:r,darkMode:s})=>{const[a,i]=X.useState({orden_numero:"",fecha:new Date().toLocaleDateString("en-CA"),cliente_nombre:"",cliente_telefono:"",equipo_tipo:"Multifuncional",equipo_modelo:"",equipo_serie:"",equipo_contador:0,accesorios:"",estado_consumibles:"",tecnico_nombre:"",problema_reportado:"",diagnostico:"",trabajo_realizado:"",observaciones:"",repuestos_descripcion:"",mano_obra:0,costo_repuestos:0,anticipo:0,incluir_iva:!1,iva:0,subtotal:0,total:0,costo_total:0,pagado:!1,entregado:!1}),[o,A]=X.useState([]),[l,c]=X.useState([]),[d,f]=X.useState([]),[m,h]=X.useState([]),[v,b]=X.useState(!1);X.useEffect(()=>{if(e){let Q=[];try{e.repuestos_descripcion&&e.repuestos_descripcion.trim().startsWith("[")?(Q=JSON.parse(e.repuestos_descripcion),Q=Q.map(V=>({id:V.id||Date.now()+Math.random(),cantidad:V.cantidad||1,producto:V.producto||V.descripcion||"",costoPublico:V.costoPublico||V.precio_publico||0,costoEmpresa:V.costoEmpresa||V.costo_empresa||0,numeroSerie:V.numeroSerie||""}))):e.repuestos_descripcion&&e.repuestos_descripcion.trim()!==""&&(Q=[{id:Date.now(),cantidad:1,producto:e.repuestos_descripcion,costoEmpresa:0,costoPublico:e.costo_repuestos||0,numeroSerie:""}])}catch(V){console.error("Error parsing parts:",V)}A(Q);let I="";if(e.accesorios){if(Array.isArray(e.accesorios))I=e.accesorios.join(", ");else if(typeof e.accesorios=="string")try{const V=JSON.parse(e.accesorios);Array.isArray(V)?I=V.join(", "):I=e.accesorios}catch{I=e.accesorios}}let U="";if(e.trabajo_realizado){if(Array.isArray(e.trabajo_realizado))U=e.trabajo_realizado.join(", ");else if(typeof e.trabajo_realizado=="string")try{const V=JSON.parse(e.trabajo_realizado);Array.isArray(V)?U=V.join(", "):U=e.trabajo_realizado}catch{U=e.trabajo_realizado}}i({...a,...e,accesorios:I,trabajo_realizado:U,fecha:dA(e.fecha),mano_obra:e.mano_obra||0,costo_repuestos:e.costo_repuestos||0,anticipo:e.anticipo||0,costo_total:e.costo_total||0,total:e.total||0}),e.id&&(async()=>{const{data:Z}=await je.from("servicio_fotos").select("*").eq("servicio_id",e.id).eq("tipo_servicio","servicios_impresoras");Z&&f(Z)})()}},[e]),X.useEffect(()=>{const Q=o.reduce((I,U)=>I+(parseFloat(U.costoPublico)||0)*(parseFloat(U.cantidad)||1),0);i(I=>{const U=(parseFloat(I.mano_obra)||0)+Q,V=I.incluir_iva?U*.16:0,Z=U+V;return{...I,costo_repuestos:Q,subtotal:U,iva:V,total:Z,costo_total:Z}})},[o,a.mano_obra,a.incluir_iva]);const N=Q=>{const{name:I,value:U,type:V,checked:Z}=Q.target;i(me=>({...me,[I]:V==="checkbox"?Z:U}))},w=Q=>{const{name:I,value:U}=Q.target;i(V=>({...V,[I]:Math.max(0,parseFloat(U)||0)}))},x=()=>{A([...o,{id:Date.now(),cantidad:1,producto:"",costoEmpresa:0,costoPublico:0,numeroSerie:""}])},B=Q=>{A(o.filter(I=>I.id!==Q))},C=(Q,I,U)=>{A(o.map(V=>{if(V.id===Q){const Z=I==="cantidad"||I==="costoEmpresa"||I==="costoPublico";return{...V,[I]:Z?Math.max(I==="cantidad"?1:0,parseFloat(U)||0):U}}return V}))},E=Q=>{Q.target.files&&c(I=>[...I,...Array.from(Q.target.files)])},S=Q=>{c(I=>I.filter((U,V)=>V!==Q))},D=Q=>{h(I=>[...I,Q]),f(I=>I.filter(U=>U.id!==Q))},R=Q=>{Q.preventDefault();const I=parseFloat(a.mano_obra)||0,U=parseFloat(a.costo_repuestos)||0,V=I+U,Z=a.incluir_iva?V*.16:0,me=V+Z,F=a.accesorios?a.accesorios.split(",").map(ee=>ee.trim()).filter(ee=>ee):[],G=a.trabajo_realizado?a.trabajo_realizado.split(",").map(ee=>ee.trim()).filter(ee=>ee):[],q={...a,repuestos_descripcion:JSON.stringify(o),accesorios:JSON.stringify(F),trabajo_realizado:JSON.stringify(G),subtotal:V,iva:Z,total:me,costo_total:me,files:l,photosToDelete:m};t(q)},W=(parseFloat(a.mano_obra)||0)+(parseFloat(a.costo_repuestos)||0),ne=a.incluir_iva?W*.16:0,k=W+ne,L=k-(parseFloat(a.anticipo)||0),O=`w-full px-4 py-2 rounded-lg border focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all ${s?"bg-slate-700/50 border-slate-600 text-slate-100 placeholder-slate-400":"bg-white/50 border-slate-200 text-slate-800 placeholder-slate-400"}`,_=`block text-xs font-bold uppercase tracking-wider mb-2 ${s?"text-slate-400":"text-slate-500"}`,K=Q=>{const I=Q.map(U=>({id:Date.now()+Math.random(),cantidad:U.cantidad||1,producto:U.articulo||U.producto||"",costoEmpresa:U.costoEmpresa||0,costoPublico:U.precioUnitario||U.precio||0,numeroSerie:""}));A([...o,...I])};return Wl.createPortal(n.jsxs("div",{className:"fixed inset-0 z-[110] flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 animate-in fade-in duration-200",children:[v&&n.jsx(ud,{onSelect:K,onClose:()=>b(!1),darkMode:s}),n.jsxs("div",{className:`w-full max-w-5xl max-h-[90vh] flex flex-col rounded-3xl shadow-2xl overflow-hidden animate-in zoom-in-95 duration-200 ${s?"bg-slate-800 border border-slate-700":"bg-white"}`,children:[n.jsxs("div",{className:`px-8 py-6 flex justify-between items-center border-b sticky top-0 z-10 ${s?"border-slate-700 bg-slate-800/90":"border-slate-100 bg-white/90"} backdrop-blur-md`,children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"p-3 bg-purple-600 rounded-2xl shadow-lg shadow-purple-500/20 text-white",children:n.jsx(zu,{className:"w-6 h-6"})}),n.jsxs("div",{children:[n.jsxs("h2",{className:`text-2xl font-black tracking-tight ${s?"text-white":"text-slate-800"}`,children:[e?"Editar Servicio":"Nuevo Servicio"," ",n.jsx("span",{className:"text-purple-600",children:"Impresora"})]}),n.jsx("p",{className:`text-sm font-medium ${s?"text-slate-400":"text-slate-500"}`,children:e?`Orden: #${e.orden_numero}`:"Complete los datos del equipo"})]})]}),n.jsx("button",{onClick:r,className:`p-2 rounded-full transition-colors ${s?"hover:bg-slate-700":"hover:bg-slate-100"}`,children:n.jsx(Kr,{className:"w-6 h-6 text-slate-400"})})]}),n.jsxs("form",{onSubmit:R,className:"flex-1 overflow-y-auto px-8 py-6 space-y-8",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"col-span-2",children:[n.jsx("label",{className:_,children:"Nombre del Cliente"}),n.jsxs("div",{className:"relative",children:[n.jsx(Ls,{className:"absolute left-3 top-2.5 w-5 h-5 text-slate-400"}),n.jsx("input",{type:"text",name:"cliente_nombre",value:a.cliente_nombre,onChange:N,className:`${O} pl-10`,placeholder:"Nombre completo",required:!0})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:_,children:"Telfono"}),n.jsx("input",{type:"text",name:"cliente_telefono",value:a.cliente_telefono,onChange:N,className:O,placeholder:"WhatsApp / Celular"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:_,children:"Fecha de Ingreso"}),n.jsxs("div",{className:"relative",children:[n.jsx(ea,{className:"absolute left-3 top-2.5 w-5 h-5 text-slate-400"}),n.jsx("input",{type:"date",name:"fecha",value:a.fecha,onChange:N,className:`${O} pl-10`,required:!0})]})]}),n.jsxs("div",{className:"col-span-2",children:[n.jsx("label",{className:_,children:"Tcnico Responsable"}),n.jsx("input",{type:"text",name:"tecnico_nombre",value:a.tecnico_nombre,onChange:N,className:O,placeholder:"Nombre del tcnico experto"})]})]}),n.jsxs("div",{className:`p-6 rounded-2xl border ${s?"bg-slate-900/50 border-slate-700":"bg-purple-50/30 border-purple-100"}`,children:[n.jsxs("div",{className:"flex items-center gap-2 mb-6 text-purple-600",children:[n.jsx(zu,{className:"w-5 h-5"}),n.jsx("h3",{className:"font-bold uppercase text-xs tracking-widest",children:"Especificaciones del Equipo"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:_,children:"Tipo de Equipo"}),n.jsxs("select",{name:"equipo_tipo",value:a.equipo_tipo,onChange:N,className:O,children:[n.jsx("option",{value:"Multifuncional",children:"Multifuncional"}),n.jsx("option",{value:"Laser",children:"Lser"}),n.jsx("option",{value:"Inyeccin",children:"Inyeccin de Tinta"}),n.jsx("option",{value:"Matricial",children:"Matricial"}),n.jsx("option",{value:"Plotter",children:"Plotter"}),n.jsx("option",{value:"Termica",children:"Trmica / Tickets"}),n.jsx("option",{value:"3D",children:"Impresora 3D"}),n.jsx("option",{value:"Scanner",children:"Escner"}),n.jsx("option",{value:"Otro",children:"Otro"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:_,children:"Modelo / Marca"}),n.jsx("input",{type:"text",name:"equipo_modelo",value:a.equipo_modelo,onChange:N,className:O,placeholder:"Ej: Epson L3110",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:_,children:"Nmero de Serie"}),n.jsx("input",{type:"text",name:"equipo_serie",value:a.equipo_serie,onChange:N,className:O,placeholder:"S/N"})]}),n.jsxs("div",{children:[n.jsx("label",{className:_,children:"Contador de Impresiones"}),n.jsx("input",{type:"number",name:"equipo_contador",value:a.equipo_contador,onChange:w,className:O,placeholder:"0",min:"0"})]}),n.jsxs("div",{className:"col-span-2",children:[n.jsx("label",{className:_,children:"Accesorios Recibidos"}),n.jsxs("div",{className:"relative",children:[n.jsx(G0,{className:"absolute left-3 top-2.5 w-5 h-5 text-slate-400"}),n.jsx("input",{type:"text",name:"accesorios",value:a.accesorios,onChange:N,className:`${O} pl-10`,placeholder:"Cables, bandejas, tner extra (separar por comas)"})]})]})]}),n.jsxs("div",{className:"mt-4",children:[n.jsx("label",{className:_,children:"Estado de Consumibles"}),n.jsxs("div",{className:"relative",children:[n.jsx(cA,{className:"absolute left-3 top-2.5 w-5 h-5 text-slate-400"}),n.jsx("input",{type:"text",name:"estado_consumibles",value:a.estado_consumibles,onChange:N,className:`${O} pl-10`,placeholder:"Niveles de tinta/tner, estado de fusor, etc."})]})]})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center gap-2 mb-4 text-amber-500",children:[n.jsx(Nr,{className:"w-5 h-5"}),n.jsx("h3",{className:"font-bold uppercase text-xs tracking-widest",children:"Problema Reportado"})]}),n.jsx("textarea",{name:"problema_reportado",value:a.problema_reportado,onChange:N,className:`${O} h-24 resize-none`,placeholder:"Falla comentada por el cliente..."})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center gap-2 mb-4 text-indigo-500",children:[n.jsx(Nr,{className:"w-5 h-5"}),n.jsx("h3",{className:"font-bold uppercase text-xs tracking-widest",children:"Diagnstico Tcnico"})]}),n.jsx("textarea",{name:"diagnostico",value:a.diagnostico,onChange:N,className:`${O} h-32 resize-none`,placeholder:"Lo que se encontr al revisar..."})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center gap-2 mb-4 text-emerald-500",children:[n.jsx(Nr,{className:"w-5 h-5"}),n.jsx("h3",{className:"font-bold uppercase text-xs tracking-widest",children:"Trabajo Realizado"})]}),n.jsx("textarea",{name:"trabajo_realizado",value:a.trabajo_realizado,onChange:N,className:`${O} h-32 resize-none`,placeholder:"Acciones correctivas aplicadas (separar por comas)..."})]})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center gap-2 mb-4 text-slate-500",children:[n.jsx(Nr,{className:"w-5 h-5"}),n.jsx("h3",{className:"font-bold uppercase text-xs tracking-widest",children:"Observaciones Internas"})]}),n.jsx("textarea",{name:"observaciones",value:a.observaciones,onChange:N,className:`${O} h-20 resize-none`,placeholder:"Notas internas que no ve el cliente..."})]})]}),n.jsxs("div",{className:`p-8 rounded-3xl border transition-all ${s?"bg-slate-900/40 border-slate-700":"bg-gray-50/50 border-slate-100"}`,children:[n.jsxs("div",{className:"flex justify-between items-center mb-6",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:`p-2 rounded-xl ${s?"bg-blue-500/10 text-blue-400":"bg-blue-50 text-blue-600"}`,children:n.jsx(Js,{className:"w-5 h-5"})}),n.jsxs("div",{children:[n.jsx("h3",{className:`font-bold ${s?"text-white":"text-slate-800"}`,children:"Repuestos y Materiales"}),n.jsx("p",{className:`text-xs ${s?"text-slate-400":"text-slate-500"}`,children:"Desglose de refacciones utilizadas"})]})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs("button",{type:"button",onClick:x,className:`flex items-center gap-2 px-4 py-2 rounded-xl text-sm font-bold transition-all shadow-sm ${s?"bg-slate-700 text-white hover:bg-slate-600":"bg-white text-slate-700 hover:bg-slate-50 border border-slate-200"}`,children:[n.jsx(Gs,{className:"w-4 h-4"})," Agregar"]}),n.jsxs("button",{type:"button",onClick:()=>b(!0),className:`flex items-center gap-2 px-4 py-2 rounded-xl text-sm font-bold transition-all shadow-sm ${s?"bg-purple-900/50 text-purple-300 hover:bg-purple-900/70":"bg-purple-50 text-purple-700 hover:bg-purple-100 border border-purple-200"}`,children:[n.jsx(Ad,{className:"w-4 h-4"})," Desde Cotizacin"]})]})]}),n.jsxs("div",{className:"space-y-3",children:[o.map(Q=>n.jsxs("div",{className:`flex flex-col md:flex-row gap-3 p-4 md:p-3 rounded-2xl border items-center transition-all ${s?"bg-slate-800/50 border-slate-700":"bg-white border-slate-200 shadow-sm"}`,children:[n.jsxs("div",{className:"w-full md:w-20",children:[n.jsx("label",{className:"block text-[10px] uppercase font-black text-slate-400 mb-1 ml-1 md:text-center",children:"Cant."}),n.jsx("input",{type:"number",value:Q.cantidad,onChange:I=>C(Q.id,"cantidad",I.target.value),className:`${O} text-center px-1`,min:"1"})]}),n.jsxs("div",{className:"w-full md:flex-1",children:[n.jsx("label",{className:"block text-[10px] uppercase font-black text-slate-400 mb-1 ml-1",children:"Producto / Material"}),n.jsx("input",{type:"text",value:Q.producto,onChange:I=>C(Q.id,"producto",I.target.value),className:O,placeholder:"Descripcin del artculo..."})]}),n.jsxs("div",{className:"w-full md:w-32",children:[n.jsx("label",{className:"block text-[10px] uppercase font-black text-rose-400 mb-1 ml-1",children:"Costo Empresa"}),n.jsxs("div",{className:"relative",children:[n.jsx("span",{className:"absolute left-3 top-2.5 text-slate-400 text-sm",children:"$"}),n.jsx("input",{type:"number",value:Q.costoEmpresa,onChange:I=>C(Q.id,"costoEmpresa",I.target.value),className:`${O} pl-6 border-rose-100 focus:border-rose-300`,min:"0"})]})]}),n.jsxs("div",{className:"w-full md:w-32",children:[n.jsx("label",{className:"block text-[10px] uppercase font-black text-blue-400 mb-1 ml-1",children:"Costo Pblico"}),n.jsxs("div",{className:"relative",children:[n.jsx("span",{className:"absolute left-3 top-2.5 text-slate-400 text-sm",children:"$"}),n.jsx("input",{type:"number",value:Q.costoPublico,onChange:I=>C(Q.id,"costoPublico",I.target.value),className:`${O} pl-6 border-blue-100 focus:border-blue-300`,min:"0"})]})]}),n.jsxs("div",{className:"w-full md:w-32",children:[n.jsx("label",{className:"block text-[10px] uppercase font-black text-green-500 mb-1 ml-1",children:"Subtotal"}),n.jsxs("div",{className:"relative",children:[n.jsx("span",{className:"absolute left-3 top-2.5 text-slate-400 text-sm",children:"$"}),n.jsx("input",{type:"text",value:((parseFloat(Q.cantidad)||0)*(parseFloat(Q.costoPublico)||0)).toFixed(2),readOnly:!0,className:`${O} pl-6 bg-slate-50 font-bold text-slate-600`})]})]}),n.jsx("div",{className:"w-full md:w-auto flex justify-end md:self-end md:mb-1",children:n.jsx("button",{type:"button",onClick:()=>B(Q.id),className:"p-2 text-red-500 hover:bg-red-50 rounded-lg transition-colors",title:"Eliminar Item",children:n.jsx(Wt,{className:"w-5 h-5"})})})]},Q.id)),o.length===0&&n.jsx("div",{className:"text-center py-10 rounded-2xl border-2 border-dashed border-slate-200 text-slate-400",children:"No hay repuestos agregados an."})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center gap-2 text-purple-500",children:[n.jsx(bs,{className:"w-5 h-5"}),n.jsx("h3",{className:"font-bold uppercase text-xs tracking-widest",children:"Evidencia Fotogrfica"})]}),n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4",children:[l.map((Q,I)=>n.jsxs("div",{className:"relative aspect-square rounded-xl overflow-hidden border border-slate-200 bg-slate-50 group",children:[n.jsx("img",{src:URL.createObjectURL(Q),alt:"preview",className:"w-full h-full object-cover"}),n.jsx("button",{type:"button",onClick:()=>S(I),className:"absolute top-1 right-1 p-1 bg-red-500 text-white rounded-full shadow-sm hover:bg-red-600 transition-colors",children:n.jsx(Kr,{className:"w-3 h-3"})}),n.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-purple-600/80 text-[8px] text-white text-center py-0.5",children:"NUEVA"})]},I)),d.map(Q=>n.jsxs("div",{className:"relative aspect-square rounded-xl overflow-hidden border border-slate-200 bg-slate-50 group",children:[n.jsx("img",{src:Q.uri,alt:"Existing",className:"w-full h-full object-cover"}),n.jsx("button",{type:"button",onClick:()=>D(Q.id),className:"absolute top-1 right-1 p-1 bg-red-500 text-white rounded-full shadow-sm hover:bg-red-600 transition-colors",children:n.jsx(Wt,{className:"w-3 h-3"})})]},Q.id)),n.jsxs("label",{className:"aspect-square flex flex-col items-center justify-center border-2 border-dashed border-slate-300 rounded-xl hover:bg-slate-50 cursor-pointer transition-all hover:border-purple-400 group",children:[n.jsx(bs,{className:"w-8 h-8 text-slate-300 group-hover:text-purple-400 mb-2"}),n.jsx("span",{className:"text-[10px] font-bold text-slate-400 uppercase group-hover:text-purple-500",children:"Subir Foto"}),n.jsx("input",{type:"file",multiple:!0,accept:"image/*",onChange:E,className:"hidden"})]})]})]})]}),n.jsx("div",{className:`p-8 border-t sticky bottom-0 z-10 ${s?"border-slate-700 bg-slate-800/90":"bg-gray-50/90 border-slate-100"} backdrop-blur-md`,children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:[n.jsxs("div",{children:[n.jsx("label",{className:_,children:"Mano de Obra"}),n.jsxs("div",{className:"relative",children:[n.jsx("span",{className:"absolute left-3 top-2.5 text-slate-400 font-bold",children:"$"}),n.jsx("input",{type:"number",name:"mano_obra",value:a.mano_obra,onChange:w,className:`${O} pl-7 font-bold text-blue-600`,min:"0"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:_,children:"Anticipo"}),n.jsxs("div",{className:"relative",children:[n.jsx("span",{className:"absolute left-3 top-2.5 text-slate-400 font-bold",children:"$"}),n.jsx("input",{type:"number",name:"anticipo",value:a.anticipo,onChange:w,className:`${O} pl-7 font-bold text-rose-600`,min:"0"})]})]}),n.jsx("div",{className:"lg:col-span-2 flex flex-col justify-end",children:n.jsxs("div",{className:`flex flex-col sm:flex-row items-center justify-between p-4 rounded-2xl ${s?"bg-slate-900 border border-slate-700":"bg-white border border-slate-200"} shadow-sm gap-4`,children:[n.jsxs("div",{className:"flex flex-col",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:`text-[10px] font-black uppercase tracking-widest ${s?"text-slate-500":"text-slate-400"}`,children:"Por Pagar"}),a.incluir_iva&&n.jsx("span",{className:"bg-blue-100 text-blue-600 text-[8px] px-1.5 py-0.5 rounded-full font-black tracking-tighter uppercase",children:"Con IVA"})]}),n.jsxs("div",{className:"flex items-baseline gap-2",children:[n.jsxs("span",{className:`text-4xl font-black ${L>0?"text-slate-800":"text-green-500"}`,children:["$",ct(L)]}),n.jsxs("span",{className:`text-xs font-bold ${s?"text-slate-500":"text-slate-400"}`,children:["Total: $",ct(k)]})]})]}),n.jsxs("div",{className:"flex flex-col gap-2",children:[n.jsxs("div",{className:"flex items-center gap-2 justify-end",children:[n.jsx("span",{className:`text-[10px] font-bold ${s?"text-slate-400":"text-slate-500"}`,children:"IVA 16%"}),n.jsx("button",{type:"button",onClick:()=>i(Q=>({...Q,incluir_iva:!Q.incluir_iva})),className:`relative inline-flex h-5 w-9 items-center rounded-full transition-colors ${a.incluir_iva?"bg-blue-600":"bg-slate-300"}`,children:n.jsx("span",{className:`inline-block h-3 w-3 transform rounded-full bg-white transition-transform ${a.incluir_iva?"translate-x-5":"translate-x-1"}`})})]}),n.jsxs("button",{type:"button",onClick:R,className:"btn bg-purple-600 text-white hover:bg-purple-700 shadow-xl shadow-purple-500/20 transform hover:-translate-y-0.5 px-8 py-3 rounded-2xl font-black text-sm transition-all flex items-center justify-center gap-3",children:[n.jsx(Xl,{className:"w-5 h-5"}),"GUARDAR"]})]})]})})]})})]})]}),document.body)},I8=({service:e,onSave:t,onCancel:r,darkMode:s})=>{const[a,i]=X.useState({orden_numero:"",fecha:new Date().toLocaleDateString("en-CA"),cliente_nombre:"",cliente_telefono:"",tipo_servicio:"Instalacin",wifi_ssid:"",wifi_password:"",wifi_portal_password:"",wifi_gateway_ip:"",velocidad_bajada:"",velocidad_subida:"",velocidad_ping:"",tecnico_nombre:"",trabajo_realizado:"",observaciones:"",materiales_descripcion:"",mano_obra:0,costo_materiales:0,anticipo:0,incluir_iva:!1,iva:0,subtotal:0,total:0,pagado:!1,entregado:!1}),[o,A]=X.useState([]),[l,c]=X.useState([]),[d,f]=X.useState([]),[m,h]=X.useState([]),[v,b]=X.useState(!1);X.useEffect(()=>{if(e){let Q=[];try{e.materiales_descripcion&&e.materiales_descripcion.trim().startsWith("[")?(Q=JSON.parse(e.materiales_descripcion),Q=Q.map(I=>({id:I.id||Date.now()+Math.random(),cantidad:I.cantidad||1,producto:I.producto||I.descripcion||"",costoPublico:I.costoPublico||I.precio_publico||0,costoEmpresa:I.costoEmpresa||I.costo_empresa||0,numeroSerie:I.numeroSerie||""}))):e.materiales_descripcion&&e.materiales_descripcion.trim()!==""&&(Q=[{id:Date.now(),cantidad:1,producto:e.materiales_descripcion,costoEmpresa:0,costoPublico:e.costo_materiales||0,numeroSerie:""}])}catch(I){console.error("Error parsing parts:",I)}A(Q),i({...a,...e,fecha:dA(e.fecha),mano_obra:e.mano_obra||0,costo_materiales:e.costo_materiales||0,anticipo:e.anticipo||0,total:e.total||0}),e.id&&(async()=>{const{data:U}=await je.from("servicio_fotos").select("*").eq("servicio_id",e.id).eq("tipo_servicio","servicios_redes");U&&f(U)})()}},[e]),X.useEffect(()=>{const Q=o.reduce((I,U)=>I+(parseFloat(U.costoPublico)||0)*(parseFloat(U.cantidad)||1),0);i(I=>{const U=(parseFloat(I.mano_obra)||0)+Q,V=I.incluir_iva?U*.16:0,Z=U+V;return{...I,costo_materiales:Q,subtotal:U,iva:V,total:Z}})},[o,a.mano_obra,a.incluir_iva]);const N=Q=>{const{name:I,value:U,type:V,checked:Z}=Q.target;i(me=>({...me,[I]:V==="checkbox"?Z:U}))},w=Q=>{const{name:I,value:U}=Q.target;i(V=>({...V,[I]:Math.max(0,parseFloat(U)||0)}))},x=()=>{A([...o,{id:Date.now(),cantidad:1,producto:"",costoEmpresa:0,costoPublico:0,numeroSerie:""}])},B=Q=>{A(o.filter(I=>I.id!==Q))},C=(Q,I,U)=>{A(o.map(V=>{if(V.id===Q){const Z=I==="cantidad"||I==="costoEmpresa"||I==="costoPublico";return{...V,[I]:Z?Math.max(I==="cantidad"?1:0,parseFloat(U)||0):U}}return V}))},E=Q=>{Q.target.files&&c(I=>[...I,...Array.from(Q.target.files)])},S=Q=>{c(I=>I.filter((U,V)=>V!==Q))},D=Q=>{h(I=>[...I,Q]),f(I=>I.filter(U=>U.id!==Q))},R=Q=>{Q.preventDefault();const I=parseFloat(a.mano_obra)||0,U=parseFloat(a.costo_materiales)||0,V=I+U,Z=a.incluir_iva?V*.16:0,me=V+Z,F={...a,materiales_descripcion:JSON.stringify(o),subtotal:V,iva:Z,total:me,files:l,photosToDelete:m};t(F)},W=(parseFloat(a.mano_obra)||0)+(parseFloat(a.costo_materiales)||0),ne=a.incluir_iva?W*.16:0,k=W+ne,L=k-(parseFloat(a.anticipo)||0),O=`w-full px-4 py-2 rounded-lg border focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 outline-none transition-all ${s?"bg-slate-700/50 border-slate-600 text-slate-100 placeholder-slate-400":"bg-white/50 border-slate-200 text-slate-800 placeholder-slate-400"}`,_=`block text-xs font-bold uppercase tracking-wider mb-2 ${s?"text-slate-400":"text-slate-500"}`,K=Q=>{const I=Q.map(U=>({id:Date.now()+Math.random(),cantidad:U.cantidad||1,producto:U.articulo||U.producto||"",costoEmpresa:U.costoEmpresa||0,costoPublico:U.precioUnitario||U.precio||0,numeroSerie:""}));A([...o,...I])};return Wl.createPortal(n.jsxs("div",{className:"fixed inset-0 z-[110] flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 animate-in fade-in duration-200",children:[v&&n.jsx(ud,{onSelect:K,onClose:()=>b(!1),darkMode:s}),n.jsxs("div",{className:`w-full max-w-4xl max-h-[90vh] flex flex-col rounded-3xl shadow-2xl overflow-hidden animate-in zoom-in-95 duration-200 ${s?"bg-slate-800 border border-slate-700":"bg-white"}`,children:[n.jsxs("div",{className:`px-8 py-6 flex justify-between items-center border-b sticky top-0 z-10 ${s?"border-slate-700 bg-slate-800/90":"border-slate-100 bg-white/90"} backdrop-blur-md`,children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"p-3 bg-cyan-600 rounded-2xl shadow-lg shadow-cyan-500/20 text-white",children:n.jsx(fb,{className:"w-6 h-6"})}),n.jsxs("div",{children:[n.jsxs("h2",{className:`text-2xl font-black tracking-tight ${s?"text-white":"text-slate-800"}`,children:[e?"Editar Servicio":"Nuevo Servicio"," ",n.jsx("span",{className:"text-cyan-600",children:"Redes"})]}),n.jsx("p",{className:`text-sm font-medium ${s?"text-slate-400":"text-slate-500"}`,children:e?`Orden: #${e.orden_numero}`:"Detalles de la instalacin o servicio"})]})]}),n.jsx("button",{onClick:r,className:`p-2 rounded-full transition-colors ${s?"hover:bg-slate-700":"hover:bg-slate-100"}`,children:n.jsx(Kr,{className:"w-6 h-6 text-slate-400"})})]}),n.jsxs("form",{onSubmit:R,className:"flex-1 overflow-y-auto px-8 py-6 space-y-8",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"col-span-2",children:[n.jsx("label",{className:_,children:"Nombre del Cliente"}),n.jsxs("div",{className:"relative",children:[n.jsx(Ls,{className:"absolute left-3 top-2.5 w-5 h-5 text-slate-400"}),n.jsx("input",{type:"text",name:"cliente_nombre",value:a.cliente_nombre,onChange:N,className:`${O} pl-10`,placeholder:"Nombre completo",required:!0})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:_,children:"Telfono"}),n.jsx("input",{type:"text",name:"cliente_telefono",value:a.cliente_telefono,onChange:N,className:O,placeholder:"WhatsApp / Celular"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:_,children:"Fecha"}),n.jsxs("div",{className:"relative",children:[n.jsx(ea,{className:"absolute left-3 top-2.5 w-5 h-5 text-slate-400"}),n.jsx("input",{type:"date",name:"fecha",value:a.fecha,onChange:N,className:`${O} pl-10`,required:!0})]})]}),n.jsxs("div",{className:"col-span-2",children:[n.jsx("label",{className:_,children:"Tcnico Responsable"}),n.jsx("input",{type:"text",name:"tecnico_nombre",value:a.tecnico_nombre,onChange:N,className:O,placeholder:"Nombre del tcnico"})]})]}),n.jsxs("div",{className:`p-6 rounded-2xl border ${s?"bg-slate-900/50 border-slate-700":"bg-cyan-50/30 border-cyan-100"}`,children:[n.jsxs("div",{className:"flex items-center gap-2 mb-6 text-cyan-600",children:[n.jsx(lQ,{className:"w-5 h-5"}),n.jsx("h3",{className:"font-bold uppercase text-xs tracking-widest",children:"Configuracin de Red"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:_,children:"Tipo de Servicio"}),n.jsxs("select",{name:"tipo_servicio",value:a.tipo_servicio,onChange:N,className:O,children:[n.jsx("option",{value:"Instalacin",children:"Instalacin"}),n.jsx("option",{value:"Mantenimiento",children:"Mantenimiento"}),n.jsx("option",{value:"Configuracin",children:"Configuracin"}),n.jsx("option",{value:"Diagnstico",children:"Diagnstico"}),n.jsx("option",{value:"Cableado Estructurado",children:"Cableado Estructurado"}),n.jsx("option",{value:"Otro",children:"Otro"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:_,children:"SSID (Nombre WiFi)"}),n.jsx("input",{type:"text",name:"wifi_ssid",value:a.wifi_ssid,onChange:N,className:O,placeholder:"Nombre de la red"})]}),n.jsxs("div",{children:[n.jsx("label",{className:_,children:"Contrasea WiFi"}),n.jsx("input",{type:"text",name:"wifi_password",value:a.wifi_password,onChange:N,className:O,placeholder:"Clave de red"})]}),n.jsxs("div",{children:[n.jsx("label",{className:_,children:"Portal Password"}),n.jsx("input",{type:"text",name:"wifi_portal_password",value:a.wifi_portal_password,onChange:N,className:O,placeholder:"Acceso al router"})]}),n.jsxs("div",{children:[n.jsx("label",{className:_,children:"Gateway IP"}),n.jsx("input",{type:"text",name:"wifi_gateway_ip",value:a.wifi_gateway_ip,onChange:N,className:O,placeholder:"Ej: 192.168.1.1"})]})]}),n.jsxs("div",{className:"mt-6 pt-6 border-t border-dashed border-cyan-200/50",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-4 text-cyan-600",children:[n.jsx(vv,{className:"w-5 h-5"}),n.jsx("h3",{className:"font-bold uppercase text-xs tracking-widest",children:"Pruebas de Velocidad"})]}),n.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:_,children:"Bajada (Download)"}),n.jsxs("div",{className:"relative",children:[n.jsx(Vs,{className:"absolute left-3 top-2.5 w-4 h-4 text-slate-400"}),n.jsx("input",{type:"text",name:"velocidad_bajada",value:a.velocidad_bajada,onChange:N,className:`${O} pl-9`,placeholder:"Mbps"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:_,children:"Subida (Upload)"}),n.jsxs("div",{className:"relative",children:[n.jsx(zs,{className:"absolute left-3 top-2.5 w-4 h-4 text-slate-400"}),n.jsx("input",{type:"text",name:"velocidad_subida",value:a.velocidad_subida,onChange:N,className:`${O} pl-9`,placeholder:"Mbps"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:_,children:"Ping / Latencia"}),n.jsxs("div",{className:"relative",children:[n.jsx(vv,{className:"absolute left-3 top-2.5 w-4 h-4 text-slate-400"}),n.jsx("input",{type:"text",name:"velocidad_ping",value:a.velocidad_ping,onChange:N,className:`${O} pl-9`,placeholder:"ms"})]})]})]})]})]}),n.jsx("div",{className:"space-y-6",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center gap-2 mb-4 text-indigo-500",children:[n.jsx(Nr,{className:"w-5 h-5"}),n.jsx("h3",{className:"font-bold uppercase text-xs tracking-widest",children:"Trabajo Realizado"})]}),n.jsx("textarea",{name:"trabajo_realizado",value:a.trabajo_realizado,onChange:N,className:`${O} h-32 resize-none`,placeholder:"Descripcin del trabajo..."})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center gap-2 mb-4 text-slate-500",children:[n.jsx(Nr,{className:"w-5 h-5"}),n.jsx("h3",{className:"font-bold uppercase text-xs tracking-widest",children:"Observaciones"})]}),n.jsx("textarea",{name:"observaciones",value:a.observaciones,onChange:N,className:`${O} h-32 resize-none`,placeholder:"Notas adicionales..."})]})]})}),n.jsxs("div",{className:`p-8 rounded-3xl border transition-all ${s?"bg-slate-900/40 border-slate-700":"bg-gray-50/50 border-slate-100"}`,children:[n.jsxs("div",{className:"flex justify-between items-center mb-6",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:`p-2 rounded-xl ${s?"bg-cyan-500/10 text-cyan-400":"bg-cyan-50 text-cyan-600"}`,children:n.jsx(Js,{className:"w-5 h-5"})}),n.jsxs("div",{children:[n.jsx("h3",{className:`font-bold ${s?"text-white":"text-slate-800"}`,children:"Materiales Utilizados"}),n.jsx("p",{className:`text-xs ${s?"text-slate-400":"text-slate-500"}`,children:"Desglose de materiales y equipos"})]})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs("button",{type:"button",onClick:x,className:`flex items-center gap-2 px-4 py-2 rounded-xl text-sm font-bold transition-all shadow-sm ${s?"bg-slate-700 text-white hover:bg-slate-600":"bg-white text-slate-700 hover:bg-slate-50 border border-slate-200"}`,children:[n.jsx(Gs,{className:"w-4 h-4"})," Agregar"]}),n.jsxs("button",{type:"button",onClick:()=>b(!0),className:`flex items-center gap-2 px-4 py-2 rounded-xl text-sm font-bold transition-all shadow-sm ${s?"bg-purple-900/40 text-purple-300 hover:bg-purple-900/60":"bg-purple-50 text-purple-700 hover:bg-purple-100 border border-purple-200"}`,children:[n.jsx(Ad,{className:"w-4 h-4"})," Desde Cotizacin"]})]})]}),n.jsxs("div",{className:"space-y-4",children:[o.map(Q=>n.jsxs("div",{className:`flex flex-col md:flex-row gap-3 p-4 md:p-3 rounded-2xl border items-center transition-all ${s?"bg-slate-800/50 border-slate-700":"bg-white border-slate-200 shadow-sm"}`,children:[n.jsxs("div",{className:"w-full md:w-20",children:[n.jsx("label",{className:"block text-[10px] uppercase font-black text-slate-400 mb-1 ml-1 md:text-center",children:"Cant."}),n.jsx("input",{type:"number",value:Q.cantidad,onChange:I=>C(Q.id,"cantidad",I.target.value),className:`${O} text-center px-1`,min:"1"})]}),n.jsxs("div",{className:"w-full md:flex-1",children:[n.jsx("label",{className:"block text-[10px] uppercase font-black text-slate-400 mb-1 ml-1",children:"Producto / Material"}),n.jsx("input",{type:"text",value:Q.producto,onChange:I=>C(Q.id,"producto",I.target.value),className:O,placeholder:"Cmara, Cable, Balun..."})]}),n.jsxs("div",{className:"w-full md:w-32",children:[n.jsx("label",{className:"block text-[10px] uppercase font-black text-rose-400 mb-1 ml-1",children:"Costo Empresa"}),n.jsxs("div",{className:"relative",children:[n.jsx("span",{className:"absolute left-3 top-2.5 text-slate-400 text-sm",children:"$"}),n.jsx("input",{type:"number",value:Q.costoEmpresa,onChange:I=>C(Q.id,"costoEmpresa",I.target.value),className:`${O} pl-6 border-rose-100 focus:border-rose-300`,min:"0"})]})]}),n.jsxs("div",{className:"w-full md:w-32",children:[n.jsx("label",{className:"block text-[10px] uppercase font-black text-blue-400 mb-1 ml-1",children:"Costo Pblico"}),n.jsxs("div",{className:"relative",children:[n.jsx("span",{className:"absolute left-3 top-2.5 text-slate-400 text-sm",children:"$"}),n.jsx("input",{type:"number",value:Q.costoPublico,onChange:I=>C(Q.id,"costoPublico",I.target.value),className:`${O} pl-6 border-blue-100 focus:border-blue-300`,min:"0"})]})]}),n.jsxs("div",{className:"w-full md:w-32",children:[n.jsx("label",{className:"block text-[10px] uppercase font-black text-green-500 mb-1 ml-1",children:"Subtotal"}),n.jsxs("div",{className:"relative",children:[n.jsx("span",{className:"absolute left-3 top-2.5 text-slate-400 text-sm",children:"$"}),n.jsx("input",{type:"text",value:((parseFloat(Q.cantidad)||0)*(parseFloat(Q.costoPublico)||0)).toFixed(2),readOnly:!0,className:`${O} pl-6 bg-slate-50 font-bold text-slate-600`})]})]}),n.jsx("div",{className:"w-full md:w-auto flex justify-end md:self-end md:mb-1",children:n.jsx("button",{type:"button",onClick:()=>B(Q.id),className:"p-2 text-red-500 hover:bg-red-50 rounded-lg transition-colors",title:"Eliminar Item",children:n.jsx(Wt,{className:"w-5 h-5"})})})]},Q.id)),o.length===0&&n.jsx("div",{className:"text-center py-10 rounded-2xl border-2 border-dashed border-slate-200 text-slate-400",children:"No hay materiales agregados an."})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center gap-2 text-cyan-500",children:[n.jsx(bs,{className:"w-5 h-5"}),n.jsx("h3",{className:"font-bold uppercase text-xs tracking-widest",children:"Evidencia Fotogrfica"})]}),n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4",children:[l.map((Q,I)=>n.jsxs("div",{className:"relative aspect-square rounded-xl overflow-hidden border border-slate-200 bg-slate-50 group",children:[n.jsx("img",{src:URL.createObjectURL(Q),alt:"preview",className:"w-full h-full object-cover"}),n.jsx("button",{type:"button",onClick:()=>S(I),className:"absolute top-1 right-1 p-1 bg-red-500 text-white rounded-full shadow-sm hover:bg-red-600 transition-colors",children:n.jsx(Kr,{className:"w-3 h-3"})}),n.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-cyan-600/80 text-[8px] text-white text-center py-0.5",children:"NUEVA"})]},I)),d.map(Q=>n.jsxs("div",{className:"relative aspect-square rounded-xl overflow-hidden border border-slate-200 bg-slate-50 group",children:[n.jsx("img",{src:Q.uri,alt:"Existing",className:"w-full h-full object-cover"}),n.jsx("button",{type:"button",onClick:()=>D(Q.id),className:"absolute top-1 right-1 p-1 bg-red-500 text-white rounded-full shadow-sm hover:bg-red-600 transition-colors",children:n.jsx(Wt,{className:"w-3 h-3"})})]},Q.id)),n.jsxs("label",{className:"aspect-square flex flex-col items-center justify-center border-2 border-dashed border-slate-300 rounded-xl hover:bg-slate-50 cursor-pointer transition-all hover:border-cyan-400 group",children:[n.jsx(bs,{className:"w-8 h-8 text-slate-300 group-hover:text-cyan-400 mb-2"}),n.jsx("span",{className:"text-[10px] font-bold text-slate-400 uppercase group-hover:text-cyan-500",children:"Subir Foto"}),n.jsx("input",{type:"file",multiple:!0,accept:"image/*",onChange:E,className:"hidden"})]})]})]})]}),n.jsx("div",{className:`p-8 border-t sticky bottom-0 z-10 ${s?"border-slate-700 bg-slate-800/90":"bg-gray-50/90 border-slate-100"} backdrop-blur-md`,children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:[n.jsxs("div",{children:[n.jsx("label",{className:_,children:"Mano de Obra"}),n.jsxs("div",{className:"relative",children:[n.jsx("span",{className:"absolute left-3 top-2.5 text-slate-400 font-bold",children:"$"}),n.jsx("input",{type:"number",name:"mano_obra",value:a.mano_obra,onChange:w,className:`${O} pl-7 font-bold text-blue-600`,min:"0"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:_,children:"Anticipo"}),n.jsxs("div",{className:"relative",children:[n.jsx("span",{className:"absolute left-3 top-2.5 text-slate-400 font-bold",children:"$"}),n.jsx("input",{type:"number",name:"anticipo",value:a.anticipo,onChange:w,className:`${O} pl-7 font-bold text-rose-600`,min:"0"})]})]}),n.jsx("div",{className:"lg:col-span-2 flex flex-col justify-end",children:n.jsxs("div",{className:`flex flex-col sm:flex-row items-center justify-between p-4 rounded-2xl ${s?"bg-slate-900 border border-slate-700":"bg-white border border-slate-200"} shadow-sm gap-4`,children:[n.jsxs("div",{className:"flex flex-col",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:`text-[10px] font-black uppercase tracking-widest ${s?"text-slate-500":"text-slate-400"}`,children:"Por Pagar"}),a.incluir_iva&&n.jsx("span",{className:"bg-blue-100 text-blue-600 text-[8px] px-1.5 py-0.5 rounded-full font-black tracking-tighter uppercase",children:"Con IVA"})]}),n.jsxs("div",{className:"flex items-baseline gap-2",children:[n.jsxs("span",{className:`text-4xl font-black ${L>0?"text-slate-800":"text-green-500"}`,children:["$",ct(L)]}),n.jsxs("span",{className:`text-xs font-bold ${s?"text-slate-500":"text-slate-400"}`,children:["Total: $",ct(k)]})]})]}),n.jsxs("div",{className:"flex flex-col gap-2",children:[n.jsxs("div",{className:"flex items-center gap-2 justify-end",children:[n.jsx("span",{className:`text-[10px] font-bold ${s?"text-slate-400":"text-slate-500"}`,children:"IVA 16%"}),n.jsx("button",{type:"button",onClick:()=>i(Q=>({...Q,incluir_iva:!Q.incluir_iva})),className:`relative inline-flex h-5 w-9 items-center rounded-full transition-colors ${a.incluir_iva?"bg-blue-600":"bg-slate-300"}`,children:n.jsx("span",{className:`inline-block h-3 w-3 transform rounded-full bg-white transition-transform ${a.incluir_iva?"translate-x-5":"translate-x-1"}`})})]}),n.jsxs("button",{type:"button",onClick:R,className:"btn bg-cyan-600 text-white hover:bg-cyan-700 shadow-xl shadow-cyan-500/20 transform hover:-translate-y-0.5 px-8 py-3 rounded-2xl font-black text-sm transition-all flex items-center justify-center gap-3",children:[n.jsx(Xl,{className:"w-5 h-5"}),"GUARDAR"]})]})]})})]})})]})]}),document.body)},L8=({service:e,onSave:t,onCancel:r,darkMode:s})=>{const[a,i]=X.useState({orden_numero:"",fecha:new Date().toLocaleDateString("en-CA"),cliente_nombre:"",cliente_telefono:"",equipo_modelo:"",equipo_imei:"",equipo_pass:"",estado_fisico:"",tecnico_nombre:"",trabajo_realizado:"",observaciones:"",repuestos_descripcion:"",mano_obra:0,repuestos_costo:0,anticipo:0,incluir_iva:!1,iva:0,subtotal:0,total:0,pagado:!1,entregado:!1,status:"recibido"}),[o,A]=X.useState([]),[l,c]=X.useState([]),[d,f]=X.useState([]),[m,h]=X.useState([]),[v,b]=X.useState(!1);X.useEffect(()=>{if(e){let Q=[];try{e.repuestos_descripcion&&e.repuestos_descripcion.trim().startsWith("[")?(Q=JSON.parse(e.repuestos_descripcion),Q=Q.map(I=>({id:I.id||Date.now()+Math.random(),cantidad:I.cantidad||1,producto:I.producto||I.descripcion||"",costoPublico:I.costoPublico||I.precio_publico||0,costoEmpresa:I.costoEmpresa||I.costo_empresa||0,numeroSerie:I.numeroSerie||""}))):e.repuestos_descripcion&&e.repuestos_descripcion.trim()!==""&&(Q=[{id:Date.now(),cantidad:1,producto:e.repuestos_descripcion,costoEmpresa:0,costoPublico:e.repuestos_costo||0,numeroSerie:""}])}catch(I){console.error("Error parsing parts:",I)}A(Q),i({...a,...e,fecha:dA(e.fecha),mano_obra:e.mano_obra||0,repuestos_costo:e.repuestos_costo||0,anticipo:e.anticipo||0,trabajo_realizado:Array.isArray(e.trabajo_realizado)?e.trabajo_realizado.join(", "):e.trabajo_realizado||""}),e.id&&(async()=>{const{data:U}=await je.from("servicio_fotos").select("*").eq("servicio_id",e.id);U&&f(U)})()}},[e]),X.useEffect(()=>{const Q=o.reduce((I,U)=>I+(parseFloat(U.costoPublico)||0)*(parseFloat(U.cantidad)||1),0);i(I=>({...I,repuestos_costo:Q}))},[o]);const N=Q=>{const{name:I,value:U,type:V,checked:Z}=Q.target;i(me=>({...me,[I]:V==="checkbox"?Z:U}))},w=Q=>{const{name:I,value:U}=Q.target;i(V=>({...V,[I]:Math.max(0,parseFloat(U)||0)}))},x=()=>{A([...o,{id:Date.now(),cantidad:1,producto:"",costoEmpresa:0,costoPublico:0,numeroSerie:""}])},B=Q=>{A(o.filter(I=>I.id!==Q))},C=(Q,I,U)=>{A(o.map(V=>{if(V.id===Q){const me=["cantidad","costoPublico","costoEmpresa"].includes(I)?Math.max(0,parseFloat(U)||0):U;return{...V,[I]:me}}return V}))},E=Q=>{Q.target.files&&c(I=>[...I,...Array.from(Q.target.files)])},S=Q=>{c(I=>I.filter((U,V)=>V!==Q))},D=Q=>{h(I=>[...I,Q]),f(I=>I.filter(U=>U.id!==Q))},R=Q=>{Q.preventDefault();const I=parseFloat(a.mano_obra)||0,U=parseFloat(a.repuestos_costo)||0,V=I+U,Z=a.incluir_iva?V*.16:0,me=V+Z,F={...a,repuestos_descripcion:JSON.stringify(o),subtotal:V,iva:Z,total:me,files:l,photosToDelete:m};t(F)},W=(parseFloat(a.mano_obra)||0)+(parseFloat(a.repuestos_costo)||0),ne=a.incluir_iva?W*.16:0,k=W+ne,L=k-(parseFloat(a.anticipo)||0),O=`w-full px-4 py-2 rounded-lg border focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all ${s?"bg-slate-700/50 border-slate-600 text-slate-100 placeholder-slate-400":"bg-white/50 border-slate-200 text-slate-800 placeholder-slate-400"}`,_=`block text-xs font-bold uppercase tracking-wider mb-2 ${s?"text-slate-400":"text-slate-500"}`,K=Q=>{const I=Q.map(U=>({id:Date.now()+Math.random(),cantidad:U.cantidad||1,producto:U.articulo||U.producto||"",costoEmpresa:U.costoEmpresa||0,costoPublico:U.precioUnitario||U.precio||0,numeroSerie:""}));A([...o,...I])};return Wl.createPortal(n.jsxs("div",{className:"fixed inset-0 z-[110] flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 animate-in fade-in duration-200",children:[v&&n.jsx(ud,{onSelect:K,onClose:()=>b(!1),darkMode:s}),n.jsxs("div",{className:`w-full max-w-4xl max-h-[90vh] flex flex-col rounded-3xl shadow-2xl overflow-hidden animate-in zoom-in-95 duration-200 ${s?"bg-slate-800 border border-slate-700":"bg-white"}`,children:[n.jsxs("div",{className:`px-8 py-6 flex justify-between items-center border-b sticky top-0 z-10 ${s?"border-slate-700 bg-slate-800/90":"border-slate-100 bg-white/90"} backdrop-blur-md`,children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"p-3 bg-rose-500 rounded-2xl shadow-lg shadow-rose-500/20 text-white",children:n.jsx(qu,{className:"w-6 h-6"})}),n.jsxs("div",{children:[n.jsxs("h2",{className:`text-2xl font-black tracking-tight ${s?"text-white":"text-slate-800"}`,children:[e?"Editar Servicio":"Nuevo Servicio"," ",n.jsx("span",{className:"text-rose-500",children:"Celular"})]}),n.jsx("p",{className:`text-sm font-medium ${s?"text-slate-400":"text-slate-500"}`,children:e?`Orden: #${e.orden_numero}`:"Complete los datos del dispositivo"})]})]}),n.jsx("button",{onClick:r,className:`p-2 rounded-full transition-colors ${s?"hover:bg-slate-700":"hover:bg-slate-100"}`,children:n.jsx(Kr,{className:"w-6 h-6 text-slate-400"})})]}),n.jsxs("form",{onSubmit:R,className:"flex-1 overflow-y-auto px-8 py-6 space-y-8",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"col-span-2",children:[n.jsx("label",{className:_,children:"Nombre del Cliente"}),n.jsxs("div",{className:"relative",children:[n.jsx(Ls,{className:"absolute left-3 top-2.5 w-5 h-5 text-slate-400"}),n.jsx("input",{type:"text",name:"cliente_nombre",value:a.cliente_nombre,onChange:N,className:`${O} pl-10`,placeholder:"Nombre completo",required:!0})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:_,children:"Telfono"}),n.jsx("input",{type:"text",name:"cliente_telefono",value:a.cliente_telefono,onChange:N,className:O,placeholder:"WhatsApp / Celular"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:_,children:"Fecha de Ingreso"}),n.jsxs("div",{className:"relative",children:[n.jsx(ea,{className:"absolute left-3 top-2.5 w-5 h-5 text-slate-400"}),n.jsx("input",{type:"date",name:"fecha",value:a.fecha,onChange:N,className:`${O} pl-10`,required:!0})]})]}),n.jsxs("div",{className:"col-span-2",children:[n.jsx("label",{className:_,children:"Tcnico Responsable"}),n.jsx("input",{type:"text",name:"tecnico_nombre",value:a.tecnico_nombre,onChange:N,className:O,placeholder:"Nombre del tcnico que repara"})]})]}),n.jsxs("div",{className:`p-6 rounded-2xl border ${s?"bg-slate-900/50 border-slate-700":"bg-rose-50/30 border-rose-100"}`,children:[n.jsxs("div",{className:"flex items-center gap-2 mb-6 text-rose-500",children:[n.jsx(qu,{className:"w-5 h-5"}),n.jsx("h3",{className:"font-bold uppercase text-xs tracking-widest",children:"Especificaciones del Dispositivo"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:_,children:"Modelo del Equipo"}),n.jsx("input",{type:"text",name:"equipo_modelo",value:a.equipo_modelo,onChange:N,className:O,placeholder:"Ej: iPhone 13 Pro, Samsung S21...",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:_,children:"IMEI"}),n.jsx("input",{type:"text",name:"equipo_imei",value:a.equipo_imei,onChange:N,className:O,placeholder:"15 dgitos"})]}),n.jsxs("div",{children:[n.jsx("label",{className:_,children:"Contrasea/Patrn"}),n.jsxs("div",{className:"relative",children:[n.jsx(OB,{className:"absolute left-3 top-2.5 w-5 h-5 text-slate-400"}),n.jsx("input",{type:"text",name:"equipo_pass",value:a.equipo_pass,onChange:N,className:`${O} pl-10`,placeholder:"Acceso"})]})]})]}),n.jsxs("div",{className:"mt-6",children:[n.jsx("label",{className:_,children:"Estado Fsico / Esttico"}),n.jsx("textarea",{name:"estado_fisico",value:a.estado_fisico,onChange:N,className:`${O} h-20 resize-none`,placeholder:"Rayones, golpes, falta de botones..."})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center gap-2 mb-4 text-orange-500",children:[n.jsx(Nr,{className:"w-5 h-5"}),n.jsx("h3",{className:"font-bold uppercase text-xs tracking-widest",children:"Trabajo Realizado / Notas"})]}),n.jsx("textarea",{name:"trabajo_realizado",value:a.trabajo_realizado,onChange:N,className:`${O} h-40 resize-none`,placeholder:"Describe el trabajo realizado..."})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center gap-2 mb-4 text-blue-500",children:[n.jsx(Nr,{className:"w-5 h-5"}),n.jsx("h3",{className:"font-bold uppercase text-xs tracking-widest",children:"Observaciones Internas"})]}),n.jsx("textarea",{name:"observaciones",value:a.observaciones,onChange:N,className:`${O} h-40 resize-none`,placeholder:"Notas adicionales del equipo..."})]})]}),n.jsxs("div",{className:`p-8 rounded-3xl border transition-all ${s?"bg-slate-900/40 border-slate-700":"bg-gray-50/50 border-slate-100"}`,children:[n.jsxs("div",{className:"flex justify-between items-center mb-6",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:`p-2 rounded-xl ${s?"bg-blue-500/10 text-blue-400":"bg-blue-50 text-blue-600"}`,children:n.jsx(Js,{className:"w-5 h-5"})}),n.jsxs("div",{children:[n.jsx("h3",{className:`font-bold ${s?"text-white":"text-slate-800"}`,children:"Repuestos y Materiales"}),n.jsx("p",{className:`text-xs ${s?"text-slate-400":"text-slate-500"}`,children:"Desglose de refacciones utilizadas"})]})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs("button",{type:"button",onClick:x,className:`flex items-center gap-2 px-4 py-2 rounded-xl text-sm font-bold transition-all shadow-sm ${s?"bg-slate-700 text-white hover:bg-slate-600":"bg-white text-slate-700 hover:bg-slate-50 border border-slate-200"}`,children:[n.jsx(Gs,{className:"w-4 h-4"})," Agregar"]}),n.jsxs("button",{type:"button",onClick:()=>b(!0),className:`flex items-center gap-2 px-4 py-2 rounded-xl text-sm font-bold transition-all shadow-sm ${s?"bg-purple-900/50 text-purple-300 hover:bg-purple-900/70":"bg-purple-50 text-purple-700 hover:bg-purple-100 border border-purple-200"}`,children:[n.jsx(Ad,{className:"w-4 h-4"})," Desde Cotizacin"]})]})]}),n.jsxs("div",{className:"space-y-3",children:[o.map(Q=>n.jsxs("div",{className:`flex flex-col md:flex-row gap-3 p-4 md:p-3 rounded-2xl border items-center transition-all ${s?"bg-slate-800/50 border-slate-700":"bg-white border-slate-200 shadow-sm"}`,children:[n.jsxs("div",{className:"w-full md:w-20",children:[n.jsx("label",{className:"block text-[10px] uppercase font-black text-slate-400 mb-1 ml-1 md:text-center",children:"Cant."}),n.jsx("input",{type:"number",value:Q.cantidad,onChange:I=>C(Q.id,"cantidad",I.target.value),className:`${O} text-center px-1`,min:"0"})]}),n.jsxs("div",{className:"w-full md:flex-1",children:[n.jsx("label",{className:"block text-[10px] uppercase font-black text-slate-400 mb-1 ml-1",children:"Producto / Material"}),n.jsx("input",{type:"text",value:Q.producto,onChange:I=>C(Q.id,"producto",I.target.value),className:O,placeholder:"Descripcin del artculo..."})]}),n.jsxs("div",{className:"w-full md:w-32",children:[n.jsx("label",{className:"block text-[10px] uppercase font-black text-rose-400 mb-1 ml-1",children:"Costo Empresa"}),n.jsxs("div",{className:"relative",children:[n.jsx("span",{className:"absolute left-3 top-2.5 text-slate-400 text-sm",children:"$"}),n.jsx("input",{type:"number",min:"0",value:Q.costoEmpresa,onChange:I=>C(Q.id,"costoEmpresa",I.target.value),className:`${O} pl-6 border-rose-100 focus:border-rose-300`})]})]}),n.jsxs("div",{className:"w-full md:w-32",children:[n.jsx("label",{className:"block text-[10px] uppercase font-black text-blue-400 mb-1 ml-1",children:"Costo Pblico"}),n.jsxs("div",{className:"relative",children:[n.jsx("span",{className:"absolute left-3 top-2.5 text-slate-400 text-sm",children:"$"}),n.jsx("input",{type:"number",min:"0",value:Q.costoPublico,onChange:I=>C(Q.id,"costoPublico",I.target.value),className:`${O} pl-6 border-blue-100 focus:border-blue-300`})]})]}),n.jsxs("div",{className:"w-full md:w-32",children:[n.jsx("label",{className:"block text-[10px] uppercase font-black text-green-500 mb-1 ml-1",children:"Subtotal"}),n.jsxs("div",{className:"relative",children:[n.jsx("span",{className:"absolute left-3 top-2.5 text-slate-400 text-sm",children:"$"}),n.jsx("input",{type:"text",value:((parseFloat(Q.cantidad)||0)*(parseFloat(Q.costoPublico)||0)).toFixed(2),readOnly:!0,className:`${O} pl-6 bg-slate-50 font-bold text-slate-600`})]})]}),n.jsx("div",{className:"w-full md:w-auto flex justify-end md:self-end md:mb-1",children:n.jsx("button",{type:"button",onClick:()=>B(Q.id),className:"p-2 text-red-500 hover:bg-red-50 rounded-lg transition-colors",title:"Eliminar Item",children:n.jsx(Wt,{className:"w-5 h-5"})})})]},Q.id)),o.length===0&&n.jsx("div",{className:"text-center py-10 rounded-2xl border-2 border-dashed border-slate-200 text-slate-400",children:"No hay repuestos agregados an."})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center gap-2 text-purple-500",children:[n.jsx(bs,{className:"w-5 h-5"}),n.jsx("h3",{className:"font-bold uppercase text-xs tracking-widest",children:"Evidencia Fotogrfica"})]}),n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4",children:[l.map((Q,I)=>n.jsxs("div",{className:"relative aspect-square rounded-xl overflow-hidden border border-slate-200 bg-slate-50 group",children:[n.jsx("img",{src:URL.createObjectURL(Q),alt:"preview",className:"w-full h-full object-cover"}),n.jsx("button",{type:"button",onClick:()=>S(I),className:"absolute top-1 right-1 p-1 bg-red-500 text-white rounded-full shadow-sm hover:bg-red-600 transition-colors",children:n.jsx(Kr,{className:"w-3 h-3"})}),n.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-blue-600/80 text-[8px] text-white text-center py-0.5",children:"NUEVA"})]},I)),d.map(Q=>n.jsxs("div",{className:"relative aspect-square rounded-xl overflow-hidden border border-slate-200 bg-slate-50 group",children:[n.jsx("img",{src:Q.uri,alt:"Existing",className:"w-full h-full object-cover"}),n.jsx("button",{type:"button",onClick:()=>D(Q.id),className:"absolute top-1 right-1 p-1 bg-red-500 text-white rounded-full shadow-sm hover:bg-red-600 transition-colors",children:n.jsx(Wt,{className:"w-3 h-3"})})]},Q.id)),n.jsxs("label",{className:"aspect-square flex flex-col items-center justify-center border-2 border-dashed border-slate-300 rounded-xl hover:bg-slate-50 cursor-pointer transition-all hover:border-blue-400 group",children:[n.jsx(bs,{className:"w-8 h-8 text-slate-300 group-hover:text-blue-400 mb-2"}),n.jsx("span",{className:"text-[10px] font-bold text-slate-400 uppercase group-hover:text-blue-500",children:"Subir Foto"}),n.jsx("input",{type:"file",multiple:!0,accept:"image/*",onChange:E,className:"hidden"})]})]})]})]}),n.jsx("div",{className:`p-8 border-t sticky bottom-0 z-10 ${s?"border-slate-700 bg-slate-800/90":"bg-gray-50/90 border-slate-100"} backdrop-blur-md`,children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:[n.jsxs("div",{children:[n.jsx("label",{className:_,children:"Mano de Obra"}),n.jsxs("div",{className:"relative",children:[n.jsx("span",{className:"absolute left-3 top-2.5 text-slate-400 font-bold",children:"$"}),n.jsx("input",{type:"number",min:"0",name:"mano_obra",value:a.mano_obra,onChange:w,className:`${O} pl-7 font-bold text-blue-600`})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:_,children:"Anticipo"}),n.jsxs("div",{className:"relative",children:[n.jsx("span",{className:"absolute left-3 top-2.5 text-slate-400 font-bold",children:"$"}),n.jsx("input",{type:"number",min:"0",name:"anticipo",value:a.anticipo,onChange:w,className:`${O} pl-7 font-bold text-rose-600`})]})]}),n.jsx("div",{className:"lg:col-span-2 flex flex-col justify-end",children:n.jsxs("div",{className:`flex flex-col sm:flex-row items-center justify-between p-4 rounded-2xl ${s?"bg-slate-900 border border-slate-700":"bg-white border border-slate-200"} shadow-sm gap-4`,children:[n.jsxs("div",{className:"flex flex-col",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:`text-[10px] font-black uppercase tracking-widest ${s?"text-slate-500":"text-slate-400"}`,children:"Por Pagar"}),a.incluir_iva&&n.jsx("span",{className:"bg-blue-100 text-blue-600 text-[8px] px-1.5 py-0.5 rounded-full font-black tracking-tighter uppercase",children:"Con IVA"})]}),n.jsxs("div",{className:"flex items-baseline gap-2",children:[n.jsxs("span",{className:`text-4xl font-black ${L>0?"text-rose-500":"text-green-500"}`,children:["$",ct(L)]}),n.jsxs("span",{className:`text-xs font-bold ${s?"text-slate-500":"text-slate-400"}`,children:["Total: $",ct(k)]})]})]}),n.jsxs("div",{className:"flex flex-col gap-2",children:[n.jsxs("div",{className:"flex items-center gap-2 justify-end",children:[n.jsx("span",{className:`text-[10px] font-bold ${s?"text-slate-400":"text-slate-500"}`,children:"IVA 16%"}),n.jsx("button",{type:"button",onClick:()=>i(Q=>({...Q,incluir_iva:!Q.incluir_iva})),className:`relative inline-flex h-5 w-9 items-center rounded-full transition-colors ${a.incluir_iva?"bg-blue-600":"bg-slate-300"}`,children:n.jsx("span",{className:`inline-block h-3 w-3 transform rounded-full bg-white transition-transform ${a.incluir_iva?"translate-x-5":"translate-x-1"}`})})]}),n.jsxs("button",{type:"button",onClick:R,className:"btn bg-blue-600 text-white hover:bg-blue-700 shadow-xl shadow-blue-500/20 transform hover:-translate-y-0.5 px-8 py-3 rounded-2xl font-black text-sm transition-all flex items-center justify-center gap-3",children:[n.jsx(Xl,{className:"w-5 h-5"}),"GUARDAR"]})]})]})})]})})]})]}),document.body)},T8=({service:e,onSave:t,onCancel:r,darkMode:s})=>{const[a,i]=X.useState({orden_numero:"",fecha:new Date().toLocaleDateString("en-CA"),cliente_nombre:"",cliente_telefono:"",sistema_tipo:"DVR/NVR",sistema_modelo:"",cantidad_camaras:1,ubicacion_instalacion:"",tecnico_nombre:"",problema_reportado:"",diagnostico_tecnico:"",trabajo_realizado:"",observaciones:"",repuestos_descripcion:"",mano_obra:0,repuestos_costo:0,anticipo:0,incluir_iva:!1,iva:0,subtotal:0,total:0,estatus:"recibido",pagado:!1,entregado:!1}),[o,A]=X.useState([]),[l,c]=X.useState([]),[d,f]=X.useState([]),[m,h]=X.useState([]),[v,b]=X.useState(!1);X.useEffect(()=>{if(e){let Q=[];try{e.inventario_materiales?typeof e.inventario_materiales=="string"?Q=JSON.parse(e.inventario_materiales):Q=e.inventario_materiales:e.repuestos_descripcion&&e.repuestos_descripcion.trim().startsWith("[")&&(Q=JSON.parse(e.repuestos_descripcion)),Q=Q.map(I=>({id:I.id||Date.now()+Math.random(),cantidad:I.cantidad||1,producto:I.producto||I.descripcion||"",costoPublico:I.costoPublico||I.precio_publico||0,costoEmpresa:I.costoEmpresa||I.costo_empresa||0,numeroSerie:I.numeroSerie||""}))}catch(I){console.error("Error parsing parts:",I)}A(Q),i({...a,...e,fecha:dA(e.servicio_fecha||e.fecha),mano_obra:e.mano_obra||0,repuestos_costo:e.materiales||e.repuestos_costo||0,anticipo:e.anticipo||0,estatus:e.estatus||"recibido"}),e.id&&(async()=>{const{data:U}=await je.from("servicio_fotos").select("*").eq("servicio_id",e.id);U&&f(U)})()}},[e]),X.useEffect(()=>{const Q=o.reduce((I,U)=>I+(parseFloat(U.costoPublico)||0)*(parseFloat(U.cantidad)||1),0);i(I=>({...I,repuestos_costo:Q}))},[o]);const N=Q=>{const{name:I,value:U,type:V,checked:Z}=Q.target;i(me=>({...me,[I]:V==="checkbox"?Z:U}))},w=Q=>{const{name:I,value:U}=Q.target;i(V=>({...V,[I]:Math.max(0,parseFloat(U)||0)}))},x=()=>{A([...o,{id:Date.now(),cantidad:1,producto:"",costoEmpresa:0,costoPublico:0,numeroSerie:""}])},B=Q=>{A(o.filter(I=>I.id!==Q))},C=(Q,I,U)=>{A(o.map(V=>{if(V.id===Q){const me=["cantidad","costoPublico","costoEmpresa"].includes(I)?Math.max(0,parseFloat(U)||0):U;return{...V,[I]:me}}return V}))},E=Q=>{Q.target.files&&c(I=>[...I,...Array.from(Q.target.files)])},S=Q=>{c(I=>I.filter((U,V)=>V!==Q))},D=Q=>{h(I=>[...I,Q]),f(I=>I.filter(U=>U.id!==Q))},R=Q=>{Q.preventDefault();const I=parseFloat(a.mano_obra)||0,U=parseFloat(a.repuestos_costo)||0,V=I+U,Z=a.incluir_iva?V*.16:0,me=V+Z,F={...a,repuestos_descripcion:JSON.stringify(o),subtotal:V,iva:Z,total:me,files:l,photosToDelete:m};t(F)},W=(parseFloat(a.mano_obra)||0)+(parseFloat(a.repuestos_costo)||0),ne=a.incluir_iva?W*.16:0,k=W+ne,L=k-(parseFloat(a.anticipo)||0),O=`w-full px-4 py-2 rounded-lg border focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all ${s?"bg-slate-700/50 border-slate-600 text-slate-100 placeholder-slate-400":"bg-white/50 border-slate-200 text-slate-800 placeholder-slate-400"}`,_=`block text-xs font-bold uppercase tracking-wider mb-2 ${s?"text-slate-400":"text-slate-500"}`,K=Q=>{const I=Q.map(U=>({id:Date.now()+Math.random(),cantidad:U.cantidad||1,producto:U.articulo||U.producto||"",costoEmpresa:U.costoEmpresa||0,costoPublico:U.precioUnitario||U.precio||0,numeroSerie:""}));A([...o,...I])};return Wl.createPortal(n.jsxs("div",{className:"fixed inset-0 z-[110] flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 animate-in fade-in duration-200",children:[v&&n.jsx(ud,{onSelect:K,onClose:()=>b(!1),darkMode:s}),n.jsxs("div",{className:`w-full max-w-4xl max-h-[90vh] flex flex-col rounded-3xl shadow-2xl overflow-hidden animate-in zoom-in-95 duration-200 ${s?"bg-slate-800 border border-slate-700":"bg-white"}`,children:[n.jsxs("div",{className:`px-8 py-6 flex justify-between items-center border-b ${s?"border-slate-700 bg-slate-800/90":"border-slate-100 bg-white/90"} backdrop-blur-md`,children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"p-3 bg-indigo-600 rounded-2xl shadow-lg shadow-indigo-500/20 text-white",children:n.jsx(hb,{className:"w-6 h-6"})}),n.jsxs("div",{children:[n.jsxs("h2",{className:`text-2xl font-black tracking-tight ${s?"text-white":"text-slate-800"}`,children:[e?"Editar Servicio":"Nuevo Servicio"," ",n.jsx("span",{className:"text-indigo-600",children:"CCTV"})]}),n.jsx("p",{className:`text-sm font-medium ${s?"text-slate-400":"text-slate-500"}`,children:e?`Orden: #${e.servicio_numero}`:"Instalacin o Mantenimiento de Cmaras"})]})]}),n.jsx("button",{onClick:r,className:`p-2 rounded-full transition-colors ${s?"hover:bg-slate-700":"hover:bg-slate-100"}`,children:n.jsx(Kr,{className:"w-6 h-6 text-slate-400"})})]}),n.jsxs("form",{id:"cctvForm",onSubmit:R,className:"flex-1 overflow-y-auto px-8 py-6 space-y-8",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"col-span-2",children:[n.jsx("label",{className:_,children:"Nombre del Cliente"}),n.jsxs("div",{className:"relative",children:[n.jsx(Ls,{className:"absolute left-3 top-2.5 w-5 h-5 text-slate-400"}),n.jsx("input",{type:"text",name:"cliente_nombre",value:a.cliente_nombre,onChange:N,className:`${O} pl-10`,placeholder:"Nombre completo o Empresa",required:!0})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:_,children:"Telfono"}),n.jsx("input",{type:"text",name:"cliente_telefono",value:a.cliente_telefono,onChange:N,className:O,placeholder:"WhatsApp / Celular"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:_,children:"Fecha de Servicio"}),n.jsxs("div",{className:"relative",children:[n.jsx(ea,{className:"absolute left-3 top-2.5 w-5 h-5 text-slate-400"}),n.jsx("input",{type:"date",name:"fecha",value:a.fecha,onChange:N,className:`${O} pl-10`,required:!0})]})]}),n.jsxs("div",{className:"col-span-2",children:[n.jsx("label",{className:_,children:"Tcnico Responsable"}),n.jsx("input",{type:"text",name:"tecnico_nombre",value:a.tecnico_nombre,onChange:N,className:O,placeholder:"Nombre del instalador"})]})]}),n.jsxs("div",{className:`p-6 rounded-2xl border ${s?"bg-slate-900/50 border-slate-700":"bg-indigo-50/30 border-indigo-100"}`,children:[n.jsxs("div",{className:"flex items-center gap-2 mb-6 text-indigo-600",children:[n.jsx(ZU,{className:"w-5 h-5"}),n.jsx("h3",{className:"font-bold uppercase text-xs tracking-widest",children:"Detalles del Sistema"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:_,children:"Tipo de Grabador"}),n.jsxs("select",{name:"sistema_tipo",value:a.sistema_tipo,onChange:N,className:O,children:[n.jsx("option",{value:"DVR",children:"DVR (Analgico)"}),n.jsx("option",{value:"NVR",children:"NVR (IP)"}),n.jsx("option",{value:"XVR",children:"XVR (Hbrido)"}),n.jsx("option",{value:"Cmara Wi-Fi",children:"Cmara Wi-Fi"}),n.jsx("option",{value:"Otro",children:"Otro"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:_,children:"Marca / Modelo"}),n.jsx("input",{type:"text",name:"sistema_modelo",value:a.sistema_modelo,onChange:N,className:O,placeholder:"Ej: Hikvision 7208"})]}),n.jsxs("div",{children:[n.jsx("label",{className:_,children:"Cant. Cmaras"}),n.jsx("input",{type:"number",name:"cantidad_camaras",value:a.cantidad_camaras,onChange:w,className:O,min:"0"})]}),n.jsxs("div",{children:[n.jsx("label",{className:_,children:"Ubicacin"}),n.jsx("input",{type:"text",name:"ubicacion_instalacion",value:a.ubicacion_instalacion,onChange:N,className:O,placeholder:"Ej: Bodega / Oficina"})]})]})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center gap-2 mb-4 text-amber-500",children:[n.jsx(Nr,{className:"w-5 h-5"}),n.jsx("h3",{className:"font-bold uppercase text-xs tracking-widest",children:"Solicitud del Cliente"})]}),n.jsx("textarea",{name:"problema_reportado",value:a.problema_reportado,onChange:N,className:`${O} h-24 resize-none`,placeholder:"Falla reportada o requerimiento..."})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center gap-2 mb-4 text-indigo-500",children:[n.jsx(Nr,{className:"w-5 h-5"}),n.jsx("h3",{className:"font-bold uppercase text-xs tracking-widest",children:"Diagnstico / Hallazgos"})]}),n.jsx("textarea",{name:"diagnostico_tecnico",value:a.diagnostico_tecnico,onChange:N,className:`${O} h-32 resize-none`,placeholder:"Estado actual del sistema..."})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center gap-2 mb-4 text-emerald-500",children:[n.jsx(Nr,{className:"w-5 h-5"}),n.jsx("h3",{className:"font-bold uppercase text-xs tracking-widest",children:"Trabajo Realizado"})]}),n.jsx("textarea",{name:"trabajo_realizado",value:a.trabajo_realizado,onChange:N,className:`${O} h-32 resize-none`,placeholder:"Configuracin, cableado, etc..."})]})]})]}),n.jsxs("div",{className:`p-8 rounded-3xl border transition-all ${s?"bg-slate-900/40 border-slate-700":"bg-gray-50/50 border-slate-100"}`,children:[n.jsxs("div",{className:"flex justify-between items-center mb-6",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:`p-2 rounded-xl ${s?"bg-indigo-500/10 text-indigo-400":"bg-indigo-50 text-indigo-600"}`,children:n.jsx(Js,{className:"w-5 h-5"})}),n.jsx("h3",{className:"font-bold uppercase text-xs tracking-widest",children:"Equipos y Materiales"})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs("button",{type:"button",onClick:x,className:`flex items-center gap-2 px-4 py-2 rounded-xl text-sm font-bold transition-all ${s?"bg-indigo-500/20 text-indigo-400 hover:bg-indigo-500/30":"bg-indigo-600 text-white hover:bg-indigo-700"}`,children:[n.jsx(Gs,{className:"w-4 h-4"})," Agregar tem"]}),n.jsxs("button",{type:"button",onClick:()=>b(!0),className:`flex items-center gap-2 px-4 py-2 rounded-xl text-sm font-bold transition-all ${s?"bg-purple-900/40 text-purple-300 hover:bg-purple-900/60":"bg-purple-50 text-purple-700 hover:bg-purple-100 border border-purple-200"}`,children:[n.jsx(Ad,{className:"w-4 h-4"})," Desde Cotizacin"]})]})]}),n.jsxs("div",{className:"space-y-4",children:[o.map(Q=>n.jsxs("div",{className:`flex flex-col md:flex-row gap-3 p-4 md:p-3 rounded-2xl border items-center transition-all ${s?"bg-slate-800/50 border-slate-700":"bg-white border-slate-200 shadow-sm"}`,children:[n.jsxs("div",{className:"w-full md:w-20",children:[n.jsx("label",{className:"block text-[10px] uppercase font-black text-slate-400 mb-1 ml-1 md:text-center",children:"Cant."}),n.jsx("input",{type:"number",value:Q.cantidad,onChange:I=>C(Q.id,"cantidad",I.target.value),className:`${O} text-center px-1`,min:"0"})]}),n.jsxs("div",{className:"w-full md:flex-1",children:[n.jsx("label",{className:"block text-[10px] uppercase font-black text-slate-400 mb-1 ml-1",children:"Producto / Material"}),n.jsx("input",{type:"text",value:Q.producto,onChange:I=>C(Q.id,"producto",I.target.value),className:O,placeholder:"Cmara, Cable, Balun..."})]}),n.jsxs("div",{className:"w-full md:w-32",children:[n.jsx("label",{className:"block text-[10px] uppercase font-black text-rose-400 mb-1 ml-1",children:"Costo Empresa"}),n.jsxs("div",{className:"relative",children:[n.jsx("span",{className:"absolute left-3 top-2.5 text-slate-400 text-sm",children:"$"}),n.jsx("input",{type:"number",min:"0",value:Q.costoEmpresa,onChange:I=>C(Q.id,"costoEmpresa",I.target.value),className:`${O} pl-6 border-rose-100 focus:border-rose-300`})]})]}),n.jsxs("div",{className:"w-full md:w-32",children:[n.jsx("label",{className:"block text-[10px] uppercase font-black text-blue-400 mb-1 ml-1",children:"Costo Pblico"}),n.jsxs("div",{className:"relative",children:[n.jsx("span",{className:"absolute left-3 top-2.5 text-slate-400 text-sm",children:"$"}),n.jsx("input",{type:"number",min:"0",value:Q.costoPublico,onChange:I=>C(Q.id,"costoPublico",I.target.value),className:`${O} pl-6 border-blue-100 focus:border-blue-300`})]})]}),n.jsxs("div",{className:"w-full md:w-32",children:[n.jsx("label",{className:"block text-[10px] uppercase font-black text-green-500 mb-1 ml-1",children:"Subtotal"}),n.jsxs("div",{className:"relative",children:[n.jsx("span",{className:"absolute left-3 top-2.5 text-slate-400 text-sm",children:"$"}),n.jsx("input",{type:"text",value:((parseFloat(Q.cantidad)||0)*(parseFloat(Q.costoPublico)||0)).toFixed(2),readOnly:!0,className:`${O} pl-6 bg-slate-50 font-bold text-slate-600`})]})]}),n.jsx("div",{className:"w-full md:w-auto flex justify-end md:self-end md:mb-1",children:n.jsx("button",{type:"button",onClick:()=>B(Q.id),className:"p-2 text-red-500 hover:bg-red-50 rounded-lg transition-colors",title:"Eliminar Item",children:n.jsx(Wt,{className:"w-5 h-5"})})})]},Q.id)),o.length===0&&n.jsx("div",{className:`text-center py-8 border-2 border-dashed rounded-3xl ${s?"border-slate-700 text-slate-500":"border-slate-200 text-slate-400"}`,children:"No hay equipos o materiales registrados"})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center gap-2 text-blue-500",children:[n.jsx(bs,{className:"w-5 h-5"}),n.jsx("h3",{className:"font-bold uppercase text-xs tracking-widest",children:"Evidencia Fotogrfica"})]}),n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4",children:[d.map(Q=>n.jsxs("div",{className:"relative group aspect-square rounded-2xl overflow-hidden border border-slate-200",children:[n.jsx("img",{src:Q.uri,alt:"Evidencia",className:"w-full h-full object-cover"}),n.jsx("button",{type:"button",onClick:()=>D(Q.id),className:"absolute top-2 right-2 p-1.5 bg-red-500 text-white rounded-lg shadow-sm hover:bg-red-600 transition-colors",children:n.jsx(Wt,{className:"w-4 h-4"})})]},Q.id)),l.map((Q,I)=>n.jsxs("div",{className:"relative aspect-square rounded-2xl overflow-hidden border-2 border-blue-500 border-dashed bg-blue-50/30 flex items-center justify-center",children:[n.jsx("span",{className:"text-[10px] font-bold text-blue-600 text-center px-2 truncate w-full",children:Q.name}),n.jsx("button",{type:"button",onClick:()=>S(I),className:"absolute top-1 right-1 p-1 bg-blue-500 text-white rounded-md shadow-sm hover:bg-blue-600 transition-colors",children:n.jsx(Kr,{className:"w-3 h-3"})})]},I)),n.jsxs("label",{className:`aspect-square rounded-2xl border-2 border-dashed flex flex-col items-center justify-center cursor-pointer transition-all ${s?"border-slate-700 hover:border-indigo-500 hover:bg-indigo-500/5":"border-slate-200 hover:border-indigo-500 hover:bg-indigo-50"} `,children:[n.jsx(Gs,{className:"w-8 h-8 text-slate-400 mb-2"}),n.jsx("span",{className:"text-[10px] font-black uppercase text-slate-400",children:"Subir Fotos"}),n.jsx("input",{type:"file",multiple:!0,accept:"image/*",className:"hidden",onChange:E})]})]})]})]}),n.jsx("div",{className:`p-8 border-t sticky bottom-0 z-10 ${s?"border-slate-700 bg-slate-800/90":"bg-gray-50/90 border-slate-100"} backdrop-blur-md`,children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:[n.jsxs("div",{children:[n.jsx("label",{className:_,children:"Mano de Obra"}),n.jsxs("div",{className:"relative",children:[n.jsx("span",{className:"absolute left-3 top-2.5 text-slate-400 font-bold",children:"$"}),n.jsx("input",{type:"number",min:"0",name:"mano_obra",value:a.mano_obra,onChange:w,className:`${O} pl-7 font-bold text-blue-600`})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:_,children:"Anticipo"}),n.jsxs("div",{className:"relative",children:[n.jsx("span",{className:"absolute left-3 top-2.5 text-slate-400 font-bold",children:"$"}),n.jsx("input",{type:"number",min:"0",name:"anticipo",value:a.anticipo,onChange:w,className:`${O} pl-7 font-bold text-rose-600`})]})]}),n.jsx("div",{className:"lg:col-span-2 flex flex-col justify-end",children:n.jsxs("div",{className:`flex flex-col sm:flex-row items-center justify-between p-4 rounded-2xl ${s?"bg-slate-900 border border-slate-700":"bg-white border border-slate-200"} shadow-sm gap-4`,children:[n.jsxs("div",{className:"flex flex-col",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:`text-[10px] font-black uppercase tracking-widest ${s?"text-slate-500":"text-slate-400"}`,children:"Por Pagar"}),a.incluir_iva&&n.jsx("span",{className:"bg-blue-100 text-blue-600 text-[8px] px-1.5 py-0.5 rounded-full font-black tracking-tighter uppercase",children:"Con IVA"})]}),n.jsxs("div",{className:"flex items-baseline gap-2",children:[n.jsxs("span",{className:`text-4xl font-black ${L>0?"text-slate-800":"text-green-500"}`,children:["$",ct(L)]}),n.jsxs("span",{className:`text-xs font-bold ${s?"text-slate-500":"text-slate-400"}`,children:["Total: $",ct(k)]})]})]}),n.jsxs("div",{className:"flex flex-col gap-2",children:[n.jsxs("div",{className:"flex items-center gap-2 justify-end",children:[n.jsx("span",{className:`text-[10px] font-bold ${s?"text-slate-400":"text-slate-500"}`,children:"IVA 16%"}),n.jsx("button",{type:"button",onClick:()=>i(Q=>({...Q,incluir_iva:!Q.incluir_iva})),className:`relative inline-flex h-5 w-9 items-center rounded-full transition-colors ${a.incluir_iva?"bg-blue-600":"bg-slate-300"}`,children:n.jsx("span",{className:`inline-block h-3 w-3 transform rounded-full bg-white transition-transform ${a.incluir_iva?"translate-x-5":"translate-x-1"}`})})]}),n.jsxs("button",{type:"button",onClick:R,className:"btn bg-blue-600 text-white hover:bg-blue-700 shadow-xl shadow-blue-500/20 transform hover:-translate-y-0.5 px-8 py-3 rounded-2xl font-black text-sm transition-all flex items-center justify-center gap-3",children:[n.jsx(Xl,{className:"w-5 h-5"}),"GUARDAR"]})]})]})})]})})]})]}),document.body)},P8=({darkMode:e,user:t})=>{const[r,s]=X.useState([]),[a,i]=X.useState(!0),[o,A]=X.useState(""),[l,c]=X.useState(!1),[d,f]=X.useState(!1),[m,h]=X.useState(null),[v,b]=X.useState(null),[N,w]=X.useState({sku:"",nombre:"",descripcion:"",costo:"",precio:"",stock:"",categoria:"",vendedor:""}),[x,B]=X.useState(null),[C,E]=X.useState(null);X.useEffect(()=>{t!=null&&t.id&&S()},[t==null?void 0:t.id]);const S=async()=>{console.log("DEBUG: fetchProducts started");try{if(i(!0),!je)throw console.error("CRITICAL: Supabase client is null/undefined"),new Error("Supabase client is not initialized. Check imports and .env");console.log("DEBUG: invoking supabase.from('productos')");const{data:K,error:Q}=await je.from("productos").select("*").eq("user_id",t==null?void 0:t.id).order("created_at",{ascending:!1});if(Q)throw console.error("DEBUG: Supabase returned error",Q),Q;console.log("DEBUG: Got data",K),s(K||[])}catch(K){console.error("Error fetching products:",K),alert("Error cargando productos: "+(K.message||JSON.stringify(K)))}finally{console.log("DEBUG: finally block reached, setting loading false"),i(!1)}},D=K=>{b(K)},R=(K=null)=>{K?(h(K),w({sku:K.sku||"",nombre:K.nombre||"",descripcion:K.descripcion||"",costo:K.costo||"",precio:K.precio||"",stock:K.stock||"",categoria:K.categoria||"",vendedor:K.vendedor||""}),E(K.foto_url)):(h(null),w({sku:"",nombre:"",descripcion:"",costo:"",precio:"",stock:"",categoria:"",vendedor:""}),E(null)),B(null),c(!0)},W=K=>{const Q=K.target.files[0];Q&&(B(Q),E(URL.createObjectURL(Q)))},ne=async K=>{K.preventDefault(),f(!0);try{let Q=(m==null?void 0:m.foto_url)||null;if(x){const V=x.name.split(".").pop(),me=`productos/${`${Date.now()}.${V}`}`,{error:F}=await je.storage.from("servicio-files-v2").upload(me,x);if(F)throw F;const{data:{publicUrl:G}}=je.storage.from("servicio-files-v2").getPublicUrl(me);Q=G}const{data:{user:I}}=await je.auth.getUser(),U={...N,costo:Math.max(0,parseFloat(N.costo)||0),precio:Math.max(0,parseFloat(N.precio)||0),stock:Math.max(0,parseInt(N.stock)||0),foto_url:Q,user_id:I==null?void 0:I.id};if(m){const{error:V}=await je.from("productos").update(U).eq("id",m.id);if(V)throw V}else{const{error:V}=await je.from("productos").insert([U]);if(V)throw V}c(!1),S()}catch(Q){console.error("Error saving product:",Q),alert("Error al guardar el producto: "+Q.message)}finally{f(!1)}},k=async(K,Q)=>{if(window.confirm("Ests seguro de eliminar este producto?"))try{if(Q){const U=Q.split("servicio-files-v2/")[1];U&&await je.storage.from("servicio-files-v2").remove([U])}const{error:I}=await je.from("productos").delete().eq("id",K);if(I)throw I;S()}catch(I){console.error("Error deleting product:",I),alert("Error al eliminar producto")}},L=r.filter(K=>{var Q,I,U;return((Q=K.nombre)==null?void 0:Q.toLowerCase().includes(o.toLowerCase()))||((I=K.sku)==null?void 0:I.toLowerCase().includes(o.toLowerCase()))||((U=K.categoria)==null?void 0:U.toLowerCase().includes(o.toLowerCase()))}),O=`w-full px-4 py-2.5 rounded-xl border focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 outline-none transition-all ${e?"bg-slate-700/50 border-slate-600 text-slate-100 placeholder-slate-400":"bg-slate-50 border-slate-200 text-slate-800 placeholder-slate-400"}`,_=`block text-xs font-bold uppercase tracking-wider mb-1.5 ${e?"text-slate-400":"text-slate-500"}`;return n.jsxs("div",{className:"w-full px-4 md:px-8 py-8 animate-in fade-in duration-500",children:[n.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center mb-8 gap-4",children:[n.jsxs("div",{children:[n.jsxs("h1",{className:`text-3xl font-extrabold tracking-tight ${e?"text-slate-100":"text-slate-800"}`,children:["Inventario de ",n.jsx("span",{className:"text-blue-600",children:"Productos"})]}),n.jsx("p",{className:`mt-1 ${e?"text-slate-400":"text-slate-500"}`,children:"Administra tu catlogo, precios y existencias."})]}),n.jsxs("button",{onClick:()=>R(),className:"btn bg-blue-600 text-white hover:bg-blue-700 shadow-lg shadow-blue-500/30 px-6 py-3 rounded-xl font-bold transition-all flex items-center gap-2 transform hover:-translate-y-0.5",children:[n.jsx(Gs,{className:"w-5 h-5"}),"Nuevo Producto"]})]}),n.jsx("div",{className:"mb-8",children:n.jsxs("div",{className:"relative max-w-xl",children:[n.jsx(Vl,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 w-5 h-5 text-slate-400"}),n.jsx("input",{type:"text",placeholder:"Buscar por nombre, SKU o categora...",value:o,onChange:K=>A(K.target.value),className:`w-full pl-12 pr-4 py-3 rounded-xl border transition-all ${e?"bg-slate-800 border-slate-700 text-slate-100 placeholder-slate-500 focus:border-blue-500":"bg-white border-slate-200 text-slate-900 placeholder-slate-400 focus:border-blue-500"} focus:outline-none focus:ring-2 focus:ring-blue-500/20 shadow-sm`})]})}),a?n.jsx("div",{className:"flex justify-center p-12",children:n.jsx(Mr,{className:"animate-spin w-8 h-8 text-blue-600"})}):L.length===0?n.jsxs("div",{className:`rounded-xl shadow-lg border p-12 text-center ${e?"bg-slate-800 border-slate-700":"bg-white border-slate-100"}`,children:[n.jsx("div",{className:`w-20 h-20 rounded-full flex items-center justify-center mx-auto mb-6 ${e?"bg-slate-700 text-slate-400":"bg-slate-50 text-slate-400"}`,children:n.jsx(db,{className:"w-10 h-10"})}),n.jsx("h3",{className:`text-xl font-bold mb-2 ${e?"text-slate-100":"text-slate-700"}`,children:"No hay productos encontrados"}),n.jsx("p",{className:`max-w-md mx-auto mb-8 ${e?"text-slate-400":"text-slate-500"}`,children:"Agrega productos a tu inventario para comenzar a gestionarlos."})]}):n.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4",children:L.map(K=>n.jsxs("div",{onClick:()=>D(K),className:`group relative rounded-xl border overflow-hidden transition-all hover:shadow-lg duration-300 cursor-pointer ${e?"bg-slate-800 border-slate-700 hover:border-slate-600":"bg-white border-slate-200 hover:border-blue-200"}`,children:[n.jsxs("div",{className:"aspect-[4/3] w-full overflow-hidden bg-gray-100 relative",children:[K.foto_url?n.jsx("img",{src:K.foto_url,alt:K.nombre,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-110"}):n.jsx("div",{className:`w-full h-full flex items-center justify-center ${e?"bg-slate-700 text-slate-500":"bg-slate-100 text-slate-300"}`,children:n.jsx(bs,{className:"w-8 h-8"})}),n.jsxs("div",{className:"absolute top-2 right-2 flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[n.jsx("button",{onClick:Q=>{Q.stopPropagation(),D(K)},className:"p-1.5 bg-white/90 backdrop-blur text-slate-700 rounded-full hover:bg-white hover:text-blue-600 shadow-sm transition-colors",title:"Ver Detalles",children:n.jsx(pr,{className:"w-3.5 h-3.5"})}),n.jsx("button",{onClick:Q=>{Q.stopPropagation(),R(K)},className:"p-1.5 bg-white/90 backdrop-blur text-slate-700 rounded-full hover:bg-white hover:text-blue-600 shadow-sm transition-colors",title:"Editar",children:n.jsx(Cr,{className:"w-3.5 h-3.5"})}),n.jsx("button",{onClick:Q=>{Q.stopPropagation(),k(K.id,K.foto_url)},className:"p-1.5 bg-white/90 backdrop-blur text-slate-700 rounded-full hover:bg-white hover:text-red-600 shadow-sm transition-colors",title:"Eliminar",children:n.jsx(Wt,{className:"w-3.5 h-3.5"})})]}),K.sku&&n.jsxs("div",{className:"absolute bottom-2 left-2 bg-black/60 backdrop-blur-sm text-white text-[9px] font-bold px-1.5 py-0.5 rounded-md tracking-wider",children:["SKU: ",K.sku]})]}),n.jsxs("div",{className:"p-3",children:[n.jsxs("div",{className:"mb-2",children:[n.jsx("h3",{className:`font-bold text-sm leading-tight mb-1 truncate ${e?"text-slate-100":"text-slate-800"}`,children:K.nombre}),n.jsx("p",{className:`text-xs line-clamp-1 ${e?"text-slate-400":"text-slate-500"}`,children:K.descripcion||"Sin descripcin"})]}),n.jsxs("div",{className:`flex items-center justify-between pt-2 border-t ${e?"border-slate-700":"border-slate-100"}`,children:[n.jsxs("div",{className:"flex flex-col",children:[n.jsx("span",{className:`text-[10px] font-bold uppercase tracking-wider ${e?"text-slate-500":"text-slate-400"}`,children:"Precio"}),n.jsxs("span",{className:`text-base font-black ${e?"text-blue-400":"text-blue-600"}`,children:["$",ct(K.precio)]})]}),n.jsxs("div",{className:"flex flex-col items-end",children:[n.jsx("span",{className:`text-[10px] font-bold uppercase tracking-wider ${e?"text-slate-500":"text-slate-400"}`,children:"Stock"}),n.jsxs("div",{className:`flex items-center gap-1 px-1.5 py-0.5 rounded-md text-xs font-bold ${K.stock>0?e?"bg-green-500/10 text-green-400":"bg-green-50 text-green-600":e?"bg-red-500/10 text-red-400":"bg-red-50 text-red-600"}`,children:[n.jsx(G0,{className:"w-3 h-3"}),K.stock]})]})]})]})]},K.id))}),l&&n.jsx("div",{className:"fixed inset-0 z[100] flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 animate-in fade-in duration-200",style:{zIndex:100},children:n.jsxs("div",{className:`w-full max-w-2xl max-h-[90vh] flex flex-col rounded-3xl shadow-2xl animate-in zoom-in-95 duration-200 ${e?"bg-slate-800 border border-slate-700":"bg-white"}`,children:[n.jsxs("div",{className:`px-8 py-6 border-b flex justify-between items-center ${e?"border-slate-700":"border-slate-100"}`,children:[n.jsx("h2",{className:`text-2xl font-bold ${e?"text-slate-100":"text-slate-800"}`,children:m?"Editar Producto":"Nuevo Producto"}),n.jsx("button",{onClick:()=>c(!1),className:"p-2 rounded-full hover:bg-slate-100 dark:hover:bg-slate-700 transition-colors text-slate-400",children:n.jsx(Kr,{className:"w-6 h-6"})})]}),n.jsxs("form",{onSubmit:ne,className:"flex-1 overflow-y-auto p-8 space-y-6",children:[n.jsx("div",{className:"flex justify-center mb-6",children:n.jsxs("div",{className:"relative group cursor-pointer",children:[n.jsxs("div",{className:`w-32 h-32 rounded-2xl border-2 border-dashed flex items-center justify-center overflow-hidden transition-all ${e?"border-slate-600 bg-slate-700/50":"border-slate-300 bg-slate-50"} ${C?"border-solid border-blue-500":""}`,children:[C?n.jsx("img",{src:C,alt:"Preview",className:"w-full h-full object-cover"}):n.jsxs("div",{className:"text-center p-4",children:[n.jsx(bs,{className:`w-8 h-8 mx-auto mb-2 ${e?"text-slate-500":"text-slate-400"}`}),n.jsx("span",{className:`text-[10px] font-bold uppercase ${e?"text-slate-500":"text-slate-400"}`,children:"Subir Foto"})]}),n.jsx("div",{className:"absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 flex items-center justify-center transition-opacity rounded-2xl",children:n.jsx("p",{className:"text-white text-xs font-bold",children:"Cambiar"})})]}),n.jsx("input",{type:"file",accept:"image/*",onChange:W,className:"absolute inset-0 opacity-0 cursor-pointer"})]})}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:_,children:"Nombre del Producto *"}),n.jsx("input",{type:"text",required:!0,value:N.nombre,onChange:K=>w({...N,nombre:K.target.value}),className:O,placeholder:"Ej. Disco Duro SSD 480GB"})]}),n.jsxs("div",{children:[n.jsx("label",{className:_,children:"SKU / Cdigo"}),n.jsx("input",{type:"text",value:N.sku,onChange:K=>w({...N,sku:K.target.value}),className:O,placeholder:"Ej. SSD-KING-480"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:_,children:"Descripcin"}),n.jsx("textarea",{rows:"3",value:N.descripcion,onChange:K=>w({...N,descripcion:K.target.value}),className:`${O} resize-none`,placeholder:"Detalles tcnicos, compatibilidad, etc."})]}),n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:[n.jsxs("div",{className:"col-span-1",children:[n.jsx("label",{className:_,children:"Costo (Empresa)"}),n.jsxs("div",{className:"relative",children:[n.jsx(W0,{className:"absolute left-3 top-2.5 w-4 h-4 text-slate-400"}),n.jsx("input",{type:"number",step:"0.01",value:N.costo,onChange:K=>w({...N,costo:Math.max(0,parseFloat(K.target.value)||0)}),className:`${O} pl-9`,placeholder:"0.00",min:"0"})]})]}),n.jsxs("div",{className:"col-span-1",children:[n.jsx("label",{className:_,children:"Precio (Pblico) *"}),n.jsxs("div",{className:"relative",children:[n.jsx(W0,{className:"absolute left-3 top-2.5 w-4 h-4 text-slate-400"}),n.jsx("input",{type:"number",required:!0,step:"0.01",value:N.precio,onChange:K=>w({...N,precio:Math.max(0,parseFloat(K.target.value)||0)}),className:`${O} pl-9 font-bold ${e?"text-blue-400":"text-blue-600"}`,placeholder:"0.00",min:"0"})]})]}),n.jsxs("div",{className:"col-span-1",children:[n.jsx("label",{className:_,children:"Stock Actual"}),n.jsx("input",{type:"number",value:N.stock,onChange:K=>w({...N,stock:Math.max(0,parseInt(K.target.value)||0)}),className:`${O} text-center font-bold`,placeholder:"0",min:"0"})]}),n.jsxs("div",{className:"col-span-1",children:[n.jsx("label",{className:_,children:"Categora"}),n.jsx("input",{type:"text",value:N.categoria,onChange:K=>w({...N,categoria:K.target.value}),className:O,placeholder:"Ej. Almacenamiento"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:_,children:"Vendedor / Proveedor"}),n.jsx("input",{type:"text",value:N.vendedor,onChange:K=>w({...N,vendedor:K.target.value}),className:O,placeholder:"Ej. TechData, Ingram, etc."})]})]}),n.jsxs("div",{className:`p-6 border-t flex justify-end gap-3 ${e?"border-slate-700 bg-slate-800":"border-slate-100 bg-slate-50"}`,children:[n.jsx("button",{type:"button",onClick:()=>c(!1),className:`px-6 py-2.5 rounded-xl font-bold transition-colors ${e?"text-slate-300 hover:bg-slate-700":"text-slate-600 hover:bg-slate-200"}`,children:"Cancelar"}),n.jsxs("button",{onClick:ne,disabled:d,className:"bg-blue-600 hover:bg-blue-700 text-white px-8 py-2.5 rounded-xl font-bold shadow-lg shadow-blue-500/20 transition-all transform hover:-translate-y-0.5 flex items-center gap-2",children:[d?n.jsx(Mr,{className:"w-5 h-5 animate-spin"}):n.jsx(Xl,{className:"w-5 h-5"}),m?"Actualizar":"Guardar Producto"]})]})]})}),v&&n.jsx("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 animate-in fade-in duration-200",style:{zIndex:9999},children:n.jsxs("div",{className:`w-full max-w-lg max-h-[90vh] flex flex-col rounded-3xl shadow-2xl animate-in zoom-in-95 duration-200 overflow-hidden ${e?"bg-slate-800 border border-slate-700":"bg-white"}`,children:[n.jsxs("div",{className:"relative w-full aspect-video bg-gray-100 flex items-center justify-center overflow-hidden",children:[v.foto_url?n.jsx("img",{src:v.foto_url,alt:v.nombre,className:"w-full h-full object-cover"}):n.jsx("div",{className:`w-full h-full flex items-center justify-center ${e?"bg-slate-700 text-slate-500":"bg-slate-100 text-slate-300"}`,children:n.jsx(bs,{className:"w-16 h-16"})}),n.jsx("button",{onClick:()=>b(null),className:"absolute top-4 right-4 p-2 bg-black/50 text-white rounded-full hover:bg-black/70 backdrop-blur-md transition-all",children:n.jsx(Kr,{className:"w-5 h-5"})}),v.sku&&n.jsxs("div",{className:"absolute bottom-4 left-4 bg-black/60 backdrop-blur-sm text-white text-xs font-bold px-3 py-1.5 rounded-lg tracking-wider",children:["SKU: ",v.sku]})]}),n.jsxs("div",{className:"p-8 overflow-y-auto",children:[n.jsxs("div",{className:"mb-6",children:[n.jsx("h2",{className:`text-2xl font-bold leading-tight mb-2 ${e?"text-slate-100":"text-slate-800"}`,children:v.nombre}),n.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[n.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold uppercase tracking-wider ${e?"bg-slate-700 text-slate-300":"bg-slate-100 text-slate-600"}`,children:v.categoria||"Sin Categora"}),n.jsxs("span",{className:`px-3 py-1 rounded-full text-xs font-bold uppercase tracking-wider flex items-center gap-1.5 ${v.stock>0?e?"bg-green-500/10 text-green-400":"bg-green-50 text-green-600":e?"bg-red-500/10 text-red-400":"bg-red-50 text-red-600"}`,children:[n.jsx(G0,{className:"w-3.5 h-3.5"}),"Stock: ",v.stock]})]}),n.jsx("p",{className:`text-base leading-relaxed ${e?"text-slate-400":"text-slate-600"}`,children:v.descripcion||"Sin descripcin disponible para este producto."})]}),n.jsxs("div",{className:`grid grid-cols-2 gap-4 p-4 rounded-xl mb-6 ${e?"bg-slate-700/30":"bg-slate-50"}`,children:[n.jsxs("div",{children:[n.jsx("span",{className:`block text-xs font-bold uppercase tracking-wider mb-1 ${e?"text-slate-500":"text-slate-400"}`,children:"Precio Pblico"}),n.jsxs("span",{className:`text-2xl font-black ${e?"text-blue-400":"text-blue-600"}`,children:["$",ct(v.precio)]})]}),v.costo>0&&n.jsxs("div",{children:[n.jsx("span",{className:`block text-xs font-bold uppercase tracking-wider mb-1 ${e?"text-slate-500":"text-slate-400"}`,children:"Costo Empresa"}),n.jsxs("span",{className:`text-lg font-bold ${e?"text-slate-300":"text-slate-700"}`,children:["$",ct(v.costo)]})]})]}),v.vendedor&&n.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[n.jsx("span",{className:`font-bold ${e?"text-slate-400":"text-slate-500"}`,children:"Proveedor:"}),n.jsx("span",{className:`${e?"text-slate-200":"text-slate-700"}`,children:v.vendedor})]})]}),n.jsxs("div",{className:`p-6 border-t flex gap-3 ${e?"border-slate-700 bg-slate-800":"border-slate-100 bg-slate-50"}`,children:[n.jsxs("button",{onClick:()=>{b(null),R(v)},className:"flex-1 btn bg-blue-600 text-white hover:bg-blue-700 shadow-lg shadow-blue-500/20 py-3 rounded-xl font-bold transition-all transform hover:-translate-y-0.5 flex justify-center items-center gap-2",children:[n.jsx(Cr,{className:"w-4 h-4"}),"Editar"]}),n.jsx("button",{onClick:()=>b(null),className:`px-6 py-3 rounded-xl font-bold transition-colors ${e?"text-slate-300 hover:bg-slate-700":"text-slate-600 hover:bg-slate-200"}`,children:"Cerrar"})]})]})})]})},R8=({darkMode:e})=>{const[t,r]=X.useState("monthly"),s=[{name:"Personal",description:"El plan perfecto si ests empezando con tu producto.",monthlyPrice:29,yearlyPrice:290,features:["Hasta 25 productos","Hasta 1,000 clientes","Seguimiento bsico de reparaciones","Generacin de cotizaciones PDF","Soporte por correo electrnico","Actualizaciones automticas"],buttonText:"Iniciar Suscripcin",highlighted:!0,icon:Ls},{name:"Team",description:"Un plan que escala con el rpido crecimiento de tu negocio.",monthlyPrice:99,yearlyPrice:990,features:["Todo lo del plan Personal","Productos ilimitados","Clientes ilimitados","Informes avanzados y analticas","Integraciones empresariales","Soporte prioritario 24/7"],buttonText:"Iniciar Suscripcin",highlighted:!1,icon:Yl}];return n.jsxs("div",{className:`w-full min-h-full py-12 px-4 sm:px-6 lg:px-8 animate-in fade-in duration-500 ${e?"text-slate-100":"text-slate-900"}`,children:[n.jsxs("div",{className:"max-w-7xl mx-auto text-center mb-16",children:[n.jsx("h2",{className:"text-blue-600 font-bold tracking-wide uppercase text-sm mb-3",children:"Suscripcin"}),n.jsx("h1",{className:"text-4xl md:text-5xl font-extrabold tracking-tight mb-4",children:"Elige el plan adecuado para ti"}),n.jsx("p",{className:`text-lg max-w-2xl mx-auto ${e?"text-slate-400":"text-slate-600"}`,children:"Elige un plan asequible que est repleto de las mejores funciones para atraer a tu audiencia, crear lealtad en los clientes e impulsar las ventas."}),n.jsxs("div",{className:"mt-10 flex justify-center items-center gap-4",children:[n.jsx("span",{className:`text-sm font-medium ${t==="monthly"?"text-blue-600":e?"text-slate-400":"text-slate-500"}`,children:"Mes"}),n.jsx("button",{onClick:()=>r(t==="monthly"?"yearly":"monthly"),className:"relative w-14 h-7 bg-slate-200 dark:bg-slate-700 rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500",children:n.jsx("div",{className:`absolute top-1 left-1 w-5 h-5 bg-white rounded-full transition-transform duration-200 ${t==="yearly"?"translate-x-7":""}`})}),n.jsx("span",{className:`text-sm font-medium ${t==="yearly"?"text-blue-600":e?"text-slate-400":"text-slate-500"}`,children:"Ao"}),t==="yearly"&&n.jsx("span",{className:"bg-green-100 text-green-700 text-[10px] font-bold px-2 py-0.5 rounded-full uppercase",children:"Ahorra 20%"})]})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 max-w-5xl mx-auto",children:s.map(a=>n.jsxs("div",{className:`relative p-8 rounded-3xl border transition-all duration-300 hover:shadow-2xl hover:-translate-y-2 flex flex-col h-full
                            ${a.highlighted?e?"bg-slate-800 border-blue-500 shadow-blue-900/10":"bg-white border-blue-100 shadow-xl shadow-blue-500/5":e?"bg-slate-800/50 border-slate-700":"bg-white border-slate-100 shadow-lg"}`,children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsx("h3",{className:"text-blue-600 font-bold text-lg",children:a.name}),n.jsx(a.icon,{className:`w-6 h-6 ${e?"text-slate-500":"text-slate-400"}`})]}),n.jsxs("div",{className:"flex items-baseline mb-4",children:[n.jsxs("span",{className:"text-5xl font-extrabold tracking-tight",children:["$",t==="monthly"?a.monthlyPrice:a.yearlyPrice]}),n.jsxs("span",{className:`ml-1 text-xl font-medium ${e?"text-slate-500":"text-slate-400"}`,children:["/",t==="monthly"?"mes":"ao"]})]}),n.jsx("p",{className:`mb-8 ${e?"text-slate-400":"text-slate-600"}`,children:a.description}),n.jsx("ul",{className:"space-y-4 mb-8",children:a.features.map(i=>n.jsxs("li",{className:"flex items-start",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx(Wn,{className:"h-5 w-5 text-blue-500"})}),n.jsx("p",{className:`ml-3 text-sm ${e?"text-slate-300":"text-slate-600"}`,children:i})]},i))})]}),n.jsx("button",{className:`w-full py-4 rounded-xl font-bold transition-all duration-200 
                                ${a.highlighted?"bg-blue-600 text-white hover:bg-blue-700 shadow-lg shadow-blue-600/30":e?"bg-slate-700 text-white hover:bg-slate-600":"bg-blue-50 text-blue-600 hover:bg-blue-100"}`,children:a.buttonText})]},a.name))}),n.jsx("div",{className:"mt-20 text-center",children:n.jsxs("p",{className:`text-sm ${e?"text-slate-500":"text-slate-400"}`,children:["Tienes preguntas sobre nuestros planes?"," ",n.jsx("button",{className:"text-blue-600 font-bold hover:underline",children:"Habla con soporte"})]})})]})},O8=({onSubscribe:e,darkMode:t})=>n.jsx("div",{className:`min-h-screen flex items-center justify-center p-4 ${t?"bg-slate-900 text-white":"bg-slate-50 text-slate-800"}`,children:n.jsxs("div",{className:`max-w-2xl w-full p-8 md:p-12 rounded-[2.5rem] shadow-2xl text-center border relative overflow-hidden ${t?"bg-slate-800 border-slate-700":"bg-white border-slate-200"}`,children:[n.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-blue-500/10 rounded-full -translate-y-16 translate-x-16 blur-2xl"}),n.jsx("div",{className:"absolute bottom-0 left-0 w-32 h-32 bg-purple-500/10 rounded-full translate-y-16 -translate-x-16 blur-2xl"}),n.jsxs("div",{className:"relative z-10",children:[n.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 rounded-3xl bg-orange-100 text-orange-600 mb-8 animate-bounce shadow-lg shadow-orange-500/20",children:n.jsx(PB,{className:"w-10 h-10"})}),n.jsxs("h1",{className:"text-3xl md:text-4xl font-black mb-4 tracking-tight",children:["Tus 7 das de prueba han ",n.jsx("span",{className:"text-orange-600",children:"terminado"}),"!"]}),n.jsx("p",{className:`text-lg mb-10 ${t?"text-slate-400":"text-slate-600"}`,children:"Tu periodo de prueba gratuita de SmartQuote ha llegado a su fin. Para seguir disfrutando de todas nuestras herramientas premium, creadas para escalar tu negocio, necesitas activar una suscripcin."}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-10 text-left",children:[{icon:oQ,text:"Gestin ilimitada",color:"text-blue-500"},{icon:cA,text:"Informes avanzados",color:"text-yellow-500"},{icon:vU,text:"Cotizaciones ilimitadas",color:"text-green-500"},{icon:gQ,text:"Backup en la nube",color:"text-purple-500"}].map((r,s)=>n.jsxs("div",{className:`flex items-center gap-3 p-4 rounded-2xl border ${t?"bg-slate-900/50 border-slate-700":"bg-slate-50 border-slate-100"}`,children:[n.jsx(r.icon,{className:`w-5 h-5 ${r.color}`}),n.jsx("span",{className:"font-bold text-sm tracking-tight",children:r.text})]},s))}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("button",{onClick:e,className:"w-full py-5 rounded-2xl bg-gradient-to-r from-blue-600 via-indigo-600 to-purple-600 text-white font-black text-lg shadow-xl shadow-blue-500/30 hover:scale-[1.02] hover:shadow-blue-500/40 transition-all flex items-center justify-center gap-3 uppercase tracking-widest",children:[n.jsx(cA,{className:"w-6 h-6 fill-current"}),"Activar Premium Ahora"]}),n.jsx("p",{className:`text-xs uppercase font-bold tracking-widest ${t?"text-slate-500":"text-slate-400"}`,children:"Cancela en cualquier momento  Soporte 24/7"})]})]})]})}),Xv=({value:e,onChange:t,onSelect:r,darkMode:s,placeholder:a,user:i})=>{const[o,A]=X.useState([]),[l,c]=X.useState(!1),[d,f]=X.useState(!1),[m,h]=X.useState(-1),v=X.useRef(null);X.useEffect(()=>{const B=C=>{v.current&&!v.current.contains(C.target)&&f(!1)};return document.addEventListener("mousedown",B),()=>document.removeEventListener("mousedown",B)},[]);const b=async B=>{if(!B||B.length<2){A([]);return}c(!0);try{const{data:C,error:E}=await je.from("productos").select("*").ilike("nombre",`%${B}%`).eq("user_id",i==null?void 0:i.id).limit(10);if(E)throw E;A(C||[]),f(!0),h(-1)}catch(C){console.error("Error fetching product suggestions:",C)}finally{c(!1)}},N=B=>{const C=B.target.value;t(C),b(C)},w=B=>{r(B),f(!1)},x=B=>{d&&(B.key==="ArrowDown"?(B.preventDefault(),h(C=>C<o.length-1?C+1:C)):B.key==="ArrowUp"?(B.preventDefault(),h(C=>C>0?C-1:C)):B.key==="Enter"?m>=0&&m<o.length&&(B.preventDefault(),w(o[m])):B.key==="Escape"&&f(!1))};return n.jsxs("div",{className:"relative w-full",ref:v,children:[n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:"text",value:e,onChange:N,onKeyDown:x,onFocus:()=>e.length>=2&&f(!0),className:`w-full border rounded-md p-2 focus:ring-2 focus:ring-indigo-500/20 focus:border-indigo-500 outline-none transition-all shadow-sm font-medium ${s?"bg-slate-900 border-slate-600 text-white placeholder-slate-500":"bg-white border-slate-200 text-slate-700"}`,placeholder:a||"Descripcin del producto / SKU..."}),n.jsxs("div",{className:"absolute right-2 top-1/2 -translate-y-1/2 flex items-center gap-1",children:[l&&n.jsx(Mr,{className:"w-4 h-4 animate-spin text-indigo-500"}),e&&n.jsx("button",{type:"button",onClick:()=>{t(""),A([])},className:"p-1 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-full text-slate-400",children:n.jsx(Kr,{className:"w-3.5 h-3.5"})})]})]}),d&&o.length>0&&n.jsx("div",{className:`absolute z-[1000] w-full mt-1 rounded-xl shadow-2xl border overflow-hidden max-h-72 overflow-y-auto animate-in fade-in zoom-in-95 duration-100 ${s?"bg-slate-800 border-slate-700":"bg-white border-slate-100"}`,children:o.map((B,C)=>n.jsxs("div",{onClick:()=>w(B),onMouseEnter:()=>h(C),className:`p-3 cursor-pointer transition-colors flex items-center justify-between group ${m===C?s?"bg-slate-700":"bg-indigo-50":s?"hover:bg-slate-700":"hover:bg-slate-50"}`,children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center ${s?"bg-slate-700 text-slate-400":"bg-slate-100 text-slate-500"}`,children:B.foto_url?n.jsx("img",{src:B.foto_url,className:"w-full h-full object-cover rounded-lg",alt:""}):n.jsx(db,{className:"w-4 h-4"})}),n.jsxs("div",{children:[n.jsx("h4",{className:`text-sm font-bold ${s?"text-slate-100":"text-slate-900"} group-hover:text-indigo-600 transition-colors`,children:B.nombre}),n.jsxs("p",{className:`text-[10px] uppercase font-bold tracking-wider ${s?"text-slate-500":"text-slate-400"}`,children:["SKU: ",B.sku||"N/A","  ",B.categoria||"Sin cat."]})]})]}),n.jsxs("div",{className:"flex flex-col items-end gap-1",children:[n.jsxs("span",{className:`text-sm font-black ${s?"text-blue-400":"text-blue-600"}`,children:["$",B.precio]}),n.jsxs("div",{className:`flex items-center gap-1 px-1.5 py-0.5 rounded-md text-[10px] font-bold ${B.stock>0?s?"bg-green-500/10 text-green-400":"bg-green-50 text-green-600":s?"bg-red-500/10 text-red-400":"bg-red-50 text-red-600"}`,children:[n.jsx(G0,{className:"w-3 h-3"}),B.stock]})]})]},B.id))}),d&&e.length>=2&&!l&&o.length===0&&n.jsx("div",{className:`absolute z-10 w-full mt-1 p-4 rounded-xl shadow-lg border text-center ${s?"bg-slate-800 border-slate-700 text-slate-400":"bg-white border-slate-100 text-slate-500"}`,children:n.jsx("p",{className:"text-xs font-medium",children:"No se encontraron productos coincidentes."})})]})},bm=(e=8)=>{const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";let r="";for(let s=0;s<e;s++)r+=t.charAt(Math.floor(Math.random()*t.length));return r},Gc=async e=>{const t=await e.arrayBuffer(),r=await crypto.subtle.digest("SHA-256",t);return Array.from(new Uint8Array(r)).map(a=>a.toString(16).padStart(2,"0")).join("")},ec=async e=>{try{const{data:t,error:r}=await je.from("servicio_fotos").select("uri").eq("servicio_id",e);if(r)throw r;if(t&&t.length>0){const s=t.map(a=>{const i=a.uri.split("servicio-files-v2/");return i.length>1?i[1].split("?")[0]:null}).filter(Boolean);s.length>0&&await je.storage.from("servicio-files-v2").remove(s),await je.from("servicio_fotos").delete().eq("servicio_id",e)}}catch(t){console.error("Error in deleteServicePhotos:",t)}},Wc=async e=>{if(!(!e||e.length===0))try{const{data:t,error:r}=await je.from("servicio_fotos").select("uri").in("id",e);if(r)throw r;if(t&&t.length>0){const s=t.map(a=>{const i=a.uri.split("servicio-files-v2/");return i.length>1?i[1].split("?")[0]:null}).filter(Boolean);s.length>0&&await je.storage.from("servicio-files-v2").remove(s),await je.from("servicio_fotos").delete().in("id",e)}}catch(t){console.error("Error in deleteSpecificPhotos:",t)}};let D8=class extends Pt.Component{constructor(t){super(t),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(t){return{hasError:!0}}componentDidCatch(t,r){this.setState({error:t,errorInfo:r}),console.error("Uncaught error:",t,r)}render(){return this.state.hasError?n.jsxs("div",{className:"p-8 text-center",children:[n.jsx("h1",{className:"text-2xl font-bold text-red-600 mb-4",children:"Algo sali mal."}),n.jsxs("details",{className:"whitespace-pre-wrap text-left bg-gray-100 p-4 rounded overflow-auto text-xs text-red-800",children:[this.state.error&&this.state.error.toString(),n.jsx("br",{}),this.state.errorInfo&&this.state.errorInfo.componentStack]}),n.jsx("button",{onClick:()=>window.location.reload(),className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Recargar Pgina"})]}):this.props.children}};const Yv=({quotation:e,onStatusChange:t,darkMode:r})=>{const[s,a]=X.useState(!1),i=e.aceptada_rechazada||"pendiente",o=async A=>{a(!0);try{const{error:l}=await je.from("cotizaciones").update({aceptada_rechazada:A}).eq("id",e.id);if(l)throw l;t()}catch(l){console.error("Error updating status:",l),alert("Error al actualizar el estado")}finally{a(!1)}};return n.jsxs("div",{className:"flex items-center gap-1 bg-slate-100 dark:bg-slate-700 p-1 rounded-lg w-fit",children:[n.jsx("button",{disabled:s,onClick:()=>o(i==="aceptada"?"pendiente":"aceptada"),className:`p-1.5 rounded-md transition-all ${i==="aceptada"?"bg-green-500 text-white shadow-sm scale-110":"text-slate-400 hover:text-green-500"}`,title:"Marcar como Aceptada",children:n.jsx(jQ,{className:`w-4 h-4 ${s?"animate-pulse":""}`})}),n.jsx("button",{disabled:s,onClick:()=>o(i==="rechazada"?"pendiente":"rechazada"),className:`p-1.5 rounded-md transition-all ${i==="rechazada"?"bg-red-500 text-white shadow-sm scale-110":"text-slate-400 hover:text-red-500"}`,title:"Marcar como Rechazada",children:n.jsx(BQ,{className:`w-4 h-4 ${s?"animate-pulse":""}`})})]})},H8=({quotations:e,onCreateNew:t,onView:r,onEdit:s,onDelete:a,onDuplicate:i,onShare:o,darkMode:A,onStatusChange:l})=>{const[c,d]=X.useState(""),[f,m]=X.useState(null),[h,v]=X.useState(20),[b,N]=X.useState(1),w=E=>{window.confirm("Ests seguro de eliminar esta cotizacin?")&&(m(E),setTimeout(()=>{a(E)},400))},x=e.filter(E=>{var D,R,W,ne;const S=c.toLowerCase();return((D=E.folio)==null?void 0:D.toString().includes(S))||((R=E.nombre_cliente)==null?void 0:R.toLowerCase().includes(S))||((W=E.empresa_cliente)==null?void 0:W.toLowerCase().includes(S))||((ne=E.numero_cliente)==null?void 0:ne.toLowerCase().includes(S))}),B=h===-1?1:Math.ceil(x.length/h),C=h===-1?x:x.slice((b-1)*h,b*h);return Pt.useEffect(()=>{N(1)},[c,h]),n.jsxs("div",{className:"w-full px-4 md:px-8 py-8",children:[n.jsxs("div",{className:"flex justify-between items-center mb-8",children:[n.jsxs("h1",{className:`text-3xl font-extrabold tracking-tight ${A?"text-slate-100":"text-slate-800"}`,children:["Mis ",n.jsx("span",{className:"text-blue-600",children:"Cotizaciones"})]}),n.jsxs("button",{onClick:t,className:"btn bg-blue-600 text-white hover:bg-blue-700 shadow-lg shadow-blue-500/30 transform hover:-translate-y-0.5 px-6 py-3 rounded-xl font-bold transition-all flex items-center gap-2",children:[n.jsx(Gs,{className:"w-5 h-5"}),"Nueva Cotizacin"]})]}),n.jsxs("div",{className:"mb-6 flex flex-col md:flex-row gap-4",children:[n.jsxs("div",{className:"relative flex-1",children:[n.jsx(Vl,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 w-5 h-5 text-slate-400"}),n.jsx("input",{type:"text",placeholder:"Buscar por folio, nombre, empresa o telfono...",value:c,onChange:E=>d(E.target.value),className:`w-full pl-12 pr-4 py-3 rounded-xl border transition-all ${A?"bg-slate-800 border-slate-700 text-slate-100 placeholder-slate-500 focus:border-blue-500":"bg-white border-slate-200 text-slate-900 placeholder-slate-400 focus:border-blue-500"} focus:outline-none focus:ring-2 focus:ring-blue-500/20 shadow-sm`})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:`text-sm font-medium whitespace-nowrap ${A?"text-slate-400":"text-slate-600"}`,children:"Mostrar:"}),n.jsxs("select",{value:h,onChange:E=>v(Number(E.target.value)),className:`px-4 py-3 rounded-xl border transition-all font-medium ${A?"bg-slate-800 border-slate-700 text-slate-100 hover:border-slate-600 hover:bg-slate-750":"bg-white border-slate-200 text-slate-900 hover:border-slate-300 hover:bg-slate-50"} focus:outline-none focus:border-blue-500 focus:ring-0 shadow-sm cursor-pointer`,children:[n.jsx("option",{value:10,children:"10"}),n.jsx("option",{value:20,children:"20"}),n.jsx("option",{value:50,children:"50"}),n.jsx("option",{value:-1,children:"Todos"})]})]})]}),x.length===0?n.jsxs("div",{className:`rounded-xl shadow-lg border p-12 text-center ${A?"bg-slate-800 border-slate-700":"bg-white border-slate-100"}`,children:[n.jsx("div",{className:`w-20 h-20 rounded-full flex items-center justify-center mx-auto mb-6 ${A?"bg-slate-600 text-slate-400":"bg-slate-50 text-slate-400"}`,children:n.jsx(jr,{className:"w-10 h-10"})}),n.jsx("h3",{className:`text-xl font-bold mb-2 ${A?"text-slate-100":"text-slate-700"}`,children:"No hay cotizaciones guardadas"}),n.jsx("p",{className:`max-w-md mx-auto mb-8 ${A?"text-slate-300":"text-slate-500"}`,children:"Las cotizaciones que guardes aparecern aqu para que puedas editarlas o volver a descargarlas."}),n.jsx("button",{onClick:t,className:"text-blue-600 font-bold hover:text-blue-700 hover:underline",children:"Crear mi primera cotizacin"})]}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:`hidden md:block rounded-xl shadow-lg border overflow-hidden ${A?"bg-slate-800 border-slate-700":"bg-white border-slate-100"}`,children:[n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:`border-b ${A?"bg-slate-800/50 border-slate-700":"bg-gray-50/50 border-gray-200"}`,children:n.jsxs("tr",{children:[n.jsx("th",{className:`px-6 py-4 text-left text-xs font-bold uppercase tracking-wider ${A?"text-slate-200":"text-slate-600"}`,children:"Folio"}),n.jsx("th",{className:`px-6 py-4 text-left text-xs font-bold uppercase tracking-wider ${A?"text-slate-200":"text-slate-600"}`,children:"Cliente"}),n.jsx("th",{className:`px-6 py-4 text-left text-xs font-bold uppercase tracking-wider ${A?"text-slate-200":"text-slate-600"}`,children:"Estado"}),n.jsx("th",{className:`px-6 py-4 text-left text-xs font-bold uppercase tracking-wider ${A?"text-slate-200":"text-slate-600"}`,children:"Fecha"}),n.jsx("th",{className:`px-6 py-4 text-left text-xs font-bold uppercase tracking-wider ${A?"text-slate-200":"text-slate-600"}`,children:"Total"}),n.jsx("th",{className:`px-6 py-4 text-right text-xs font-bold uppercase tracking-wider ${A?"text-slate-200":"text-slate-600"}`,children:"Acciones"})]})}),n.jsx("tbody",{className:`divide-y ${A?"divide-slate-600":"divide-slate-100"}`,children:C.map(E=>n.jsxs("tr",{className:`transition-all duration-500 ${A?"hover:bg-slate-700/50":"hover:bg-blue-50/30"} ${f===E.id?"opacity-0 transform translate-x-8":"opacity-100"}`,children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("span",{className:"text-sm font-bold text-blue-600",children:["#",E.folio]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("span",{className:`text-sm font-medium ${A?"text-slate-100":"text-slate-900"}`,children:E.nombre_cliente})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx(Yv,{quotation:E,onStatusChange:l,darkMode:A})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("span",{className:`text-sm ${A?"text-slate-300":"text-slate-600"}`,children:E.fecha})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("span",{className:`text-sm font-bold ${A?"text-slate-100":"text-slate-900"}`,children:["$",ct(E.total)]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right",children:n.jsxs("div",{className:"flex items-center justify-end gap-2",children:[n.jsx("button",{onClick:()=>r(E),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Ver cotizacin",children:n.jsx(pr,{className:"w-5 h-5"})}),n.jsx("button",{onClick:()=>s(E),className:"p-2 text-slate-600 hover:bg-slate-100 rounded-lg transition-colors",title:"Editar cotizacin",children:n.jsx(Cr,{className:"w-5 h-5"})}),n.jsx("button",{onClick:()=>i(E),className:"p-2 text-green-600 hover:bg-green-50 rounded-lg transition-colors",title:"Duplicar cotizacin",children:n.jsx(yv,{className:"w-5 h-5"})}),n.jsx("button",{onClick:()=>w(E.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Eliminar cotizacin",children:n.jsx(Wt,{className:"w-5 h-5"})})]})})]},E.id))})]}),h!==-1&&B>1&&n.jsxs("div",{className:`px-6 py-4 border-t flex flex-col sm:flex-row items-center justify-between gap-4 ${A?"border-slate-600":"border-slate-100"}`,children:[n.jsxs("div",{className:`text-sm ${A?"text-slate-400":"text-slate-600"}`,children:["Mostrando ",(b-1)*h+1," a ",Math.min(b*h,x.length)," de ",x.length," cotizaciones"]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("button",{onClick:()=>N(E=>Math.max(1,E-1)),disabled:b===1,className:`px-3 py-2 rounded-lg font-medium transition-all ${b===1?"opacity-50 cursor-not-allowed":"hover:bg-blue-50"} ${A?"text-slate-300 disabled:text-slate-600":"text-slate-700"}`,children:"Anterior"}),n.jsx("div",{className:"flex items-center gap-1",children:Array.from({length:B},(E,S)=>S+1).map(E=>{const S=E===1||E===B||E>=b-1&&E<=b+1;return E===2&&b>3||E===B-1&&b<B-2?n.jsx("span",{className:"px-2 text-slate-400",children:"..."},E):S?n.jsx("button",{onClick:()=>N(E),className:`px-3 py-2 rounded-lg font-medium transition-all ${E===b?"bg-blue-600 text-white shadow-lg":A?"text-slate-300 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"}`,children:E},E):null})}),n.jsx("button",{onClick:()=>N(E=>Math.min(B,E+1)),disabled:b===B,className:`px-3 py-2 rounded-lg font-medium transition-all ${b===B?"opacity-50 cursor-not-allowed":"hover:bg-blue-50"} ${A?"text-slate-300 disabled:text-slate-600":"text-slate-700"}`,children:"Siguiente"})]})]})]}),n.jsxs("div",{className:"md:hidden space-y-4",children:[C.map(E=>n.jsxs("div",{className:`p-5 rounded-2xl border shadow-sm ${A?"bg-slate-800 border-slate-700":"bg-white border-slate-100"} ${f===E.id?"opacity-0 transform translate-x-8":"opacity-100"} transition-all duration-300`,children:[n.jsxs("div",{className:"flex justify-between items-start mb-4",children:[n.jsxs("div",{children:[n.jsxs("span",{className:"inline-block px-2 py-1 bg-blue-100 text-blue-700 text-xs font-bold rounded-md mb-2",children:["#",E.folio]}),n.jsx("h3",{className:`font-bold text-lg ${A?"text-white":"text-slate-900"}`,children:E.nombre_cliente}),n.jsx("p",{className:`text-sm ${A?"text-slate-400":"text-slate-500"}`,children:E.fecha})]}),n.jsx(Yv,{quotation:E,onStatusChange:l,darkMode:A})]}),n.jsxs("div",{className:"flex justify-between items-end border-t border-dashed pt-4 border-slate-200 dark:border-slate-700",children:[n.jsxs("div",{children:[n.jsx("p",{className:`text-xs font-bold uppercase tracking-wider mb-1 ${A?"text-slate-500":"text-slate-400"}`,children:"Total"}),n.jsxs("p",{className:`text-xl font-black ${A?"text-white":"text-slate-900"}`,children:["$",ct(E.total)]})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{onClick:()=>r(E),className:"p-2.5 bg-blue-50 text-blue-600 rounded-xl",children:n.jsx(pr,{className:"w-5 h-5"})}),n.jsx("button",{onClick:()=>s(E),className:"p-2.5 bg-slate-50 text-slate-600 rounded-xl",children:n.jsx(Cr,{className:"w-5 h-5"})}),n.jsx("button",{onClick:()=>i(E),className:"p-2.5 bg-green-50 text-green-600 rounded-xl",children:n.jsx(yv,{className:"w-5 h-5"})}),n.jsx("button",{onClick:()=>w(E.id),className:"p-2.5 bg-red-50 text-red-600 rounded-xl",children:n.jsx(Wt,{className:"w-5 h-5"})})]})]})]},E.id)),h!==-1&&B>1&&n.jsxs("div",{className:`mt-6 p-4 rounded-2xl border flex flex-col items-center gap-4 ${A?"bg-slate-800 border-slate-700":"bg-white border-slate-100"}`,children:[n.jsxs("div",{className:`text-sm text-center ${A?"text-slate-400":"text-slate-600"}`,children:["Mostrando ",(b-1)*h+1," a ",Math.min(b*h,x.length)," de ",x.length]}),n.jsxs("div",{className:"flex items-center gap-2 flex-wrap justify-center",children:[n.jsx("button",{onClick:()=>N(E=>Math.max(1,E-1)),disabled:b===1,className:`px-4 py-2 rounded-lg font-medium transition-all ${b===1?"opacity-50 cursor-not-allowed":"hover:bg-blue-50"} ${A?"text-slate-300 disabled:text-slate-600 bg-slate-700":"text-slate-700 bg-white border border-slate-200"}`,children:" Anterior"}),n.jsx("div",{className:"flex items-center gap-1",children:Array.from({length:Math.min(5,B)},(E,S)=>{let D;return B<=5||b<=3?D=S+1:b>=B-2?D=B-4+S:D=b-2+S,n.jsx("button",{onClick:()=>N(D),className:`px-3 py-2 rounded-lg font-medium transition-all ${D===b?"bg-blue-600 text-white shadow-lg":A?"text-slate-300 bg-slate-700":"text-slate-700 bg-white border border-slate-200"}`,children:D},D)})}),n.jsx("button",{onClick:()=>N(E=>Math.min(B,E+1)),disabled:b===B,className:`px-4 py-2 rounded-lg font-medium transition-all ${b===B?"opacity-50 cursor-not-allowed":"hover:bg-blue-50"} ${A?"text-slate-300 disabled:text-slate-600 bg-slate-700":"text-slate-700 bg-white border border-slate-200"}`,children:"Siguiente "})]})]})]})]})]})},$8=({companyData:e,onCompanyChange:t,onSave:r,darkMode:s,selectedTemplate:a,onTemplateChange:i})=>{const[o,A]=X.useState("company"),[l,c]=X.useState(null),[d,f]=X.useState(null),m=b=>{const N=b.target.files[0];N&&(c(N),f(URL.createObjectURL(N)))},h=[{id:"company",label:"Configuracin de la empresa"},{id:"templates",label:"Plantillas de facturas"}],v=[{id:"classic",name:"Clsica",description:"Diseo limpio y tradicional."},{id:"modern",name:"Moderna",description:"Estilo audaz con encabezados llamativos."},{id:"formal",name:"Formal",description:"Elegante y corporativo, ideal para empresas serias."},{id:"creative",name:"Creativa",description:"Toque de color y diseo nico."}];return n.jsxs("div",{className:"flex flex-col md:flex-row h-full animate-in slide-in-from-right-4 duration-300 bg-transparent",children:[n.jsxs("div",{className:`w-full md:w-64 md:border-r border-b md:border-b-0 md:h-full flex flex-row md:flex-col shrink-0 overflow-x-auto ${s?"border-slate-700":"border-slate-100"}`,children:[n.jsx("div",{className:`p-4 md:p-6 border-b-0 md:border-b ${s?"border-slate-700":"border-slate-100"}`,children:n.jsx("h2",{className:`text-xl font-bold whitespace-nowrap ${s?"text-slate-100":"text-slate-800"}`,children:"Configuracin"})}),n.jsx("nav",{className:"flex-1 md:overflow-y-auto p-4 flex md:flex-col gap-2 md:gap-1",children:h.map(b=>n.jsx("button",{onClick:()=>A(b.id),className:`w-auto md:w-full text-left px-4 py-3 rounded-lg text-sm font-medium transition-all whitespace-nowrap ${o===b.id?"bg-blue-50 text-blue-700 md:border-l-4 border-b-4 md:border-b-0 border-blue-600":`hover:bg-opacity-50 md:border-l-4 border-b-4 md:border-b-0 border-transparent ${s?"text-slate-300 hover:bg-slate-800 hover:text-slate-100":"text-slate-600 hover:bg-slate-50 hover:text-slate-900"}`}`,children:b.label},b.id))})]}),n.jsxs("div",{className:"flex-1 overflow-y-auto p-4 md:p-12",children:[o==="company"&&n.jsxs("div",{className:"max-w-3xl",children:[n.jsxs("div",{className:"mb-8",children:[n.jsx("h2",{className:`text-3xl font-bold mb-2 ${s?"text-slate-100":"text-slate-800"}`,children:"Configuracin de la empresa"}),n.jsx("p",{className:`${s?"text-slate-400":"text-slate-500"}`,children:"Administra la informacin legal y de contacto de tu negocio."})]}),n.jsxs("div",{className:"space-y-8 ",children:[n.jsx("div",{className:`flex items-start gap-8 border-b pb-8 ${s?"border-slate-700":"border-slate-100"}`,children:n.jsxs("div",{className:"w-32",children:[n.jsx("label",{className:`block text-sm font-bold mb-2 ${s?"text-slate-300":"text-slate-700"}`,children:"Logotipo"}),n.jsxs("div",{className:`w-24 h-24 border-2 border-dashed rounded-lg flex items-center justify-center overflow-hidden relative group ${s?"bg-slate-700 border-slate-600 text-slate-500":"bg-slate-50 border-slate-300 text-slate-400"}`,children:[d||e.logo_uri?n.jsx("img",{src:d||e.logo_uri,className:"w-full h-full object-contain"}):n.jsx(nA,{className:"w-8 h-8"}),n.jsx("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity cursor-pointer",children:n.jsx("p",{className:"text-white text-xs font-bold text-center px-1",children:"Cambiar Image"})}),n.jsx("input",{type:"file",accept:"image/*",onChange:m,className:"absolute inset-0 opacity-0 cursor-pointer",title:"Cambiar logotipo"})]}),n.jsx("p",{className:"text-xs text-slate-400 mt-2",children:"Haz clic en el logo para cambiarlo. Recomendado: 300x300px, PNG transparente."})]})}),n.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[n.jsxs("div",{className:"col-span-2",children:[n.jsx("label",{className:`block text-sm font-bold mb-2 ${s?"text-slate-300":"text-slate-700"}`,children:"Nombre de la empresa"}),n.jsx("input",{type:"text",value:e.nombre,onChange:b=>t("nombre",b.target.value),className:`w-full border rounded-lg p-3 transition-colors ${s?"bg-slate-700 border-slate-600 text-white placeholder-slate-400 focus:border-blue-500":"bg-white border-slate-200 text-slate-800 focus:ring-2 focus:ring-blue-100 focus:border-blue-500"}`,placeholder:"Ej. Mi Empresa S.A. de C.V."})]}),n.jsxs("div",{className:"col-span-2",children:[n.jsx("label",{className:`block text-sm font-bold mb-2 ${s?"text-slate-300":"text-slate-700"}`,children:"Direccin"}),n.jsx("textarea",{value:e.direccion,onChange:b=>t("direccion",b.target.value),className:`w-full border rounded-lg p-3 text-sm focus:ring-2 outline-none h-24 resize-none transition-colors ${s?"bg-slate-700 border-slate-600 text-white placeholder-slate-400 focus:border-blue-500":"bg-white border-slate-200 text-slate-800 focus:ring-blue-100 focus:border-blue-500"}`,placeholder:"Calle, nmero, colonia, ciudad, estado, cdigo postal"})]}),n.jsxs("div",{children:[n.jsx("label",{className:`block text-sm font-bold mb-2 ${s?"text-slate-300":"text-slate-700"}`,children:"RFC"}),n.jsx("input",{type:"text",value:e.rfc||"",onChange:b=>t("rfc",b.target.value),className:`w-full border rounded-lg p-3 transition-colors ${s?"bg-slate-700 border-slate-600 text-white placeholder-slate-400 focus:border-blue-500":"bg-white border-slate-200 text-slate-800 focus:ring-2 focus:ring-blue-100 focus:border-blue-500"}`,placeholder:"RFC de la empresa"})]}),n.jsxs("div",{children:[n.jsx("label",{className:`block text-sm font-bold mb-2 ${s?"text-slate-300":"text-slate-700"}`,children:"Telfono"}),n.jsx("input",{type:"text",value:e.telefono||"",onChange:b=>t("telefono",b.target.value),className:`w-full border rounded-lg p-3 transition-colors ${s?"bg-slate-700 border-slate-600 text-white placeholder-slate-400 focus:border-blue-500":"bg-white border-slate-200 text-slate-800 focus:ring-2 focus:ring-blue-100 focus:border-blue-500"}`,placeholder:"Ej. +52 55 1234 5678"})]}),n.jsxs("div",{children:[n.jsx("label",{className:`block text-sm font-bold mb-2 ${s?"text-slate-300":"text-slate-700"}`,children:"Correo Electrnico"}),n.jsx("input",{type:"email",value:e.correo||"",onChange:b=>t("correo",b.target.value),className:"w-full bg-slate-50 border border-slate-200 rounded-lg p-3 text-sm focus:ring-2 focus:ring-blue-500 outline-none"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Sitio Web"}),n.jsx("input",{type:"text",value:e.pagina_web,onChange:b=>t("pagina_web",b.target.value),className:"w-full bg-slate-50 border border-slate-200 rounded-lg p-3 text-sm focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"www.tuempresa.com"})]})]}),n.jsx("div",{className:"flex justify-end pt-6 border-t border-slate-100",children:n.jsx("button",{onClick:()=>r(l),className:"bg-green-600 hover:bg-green-700 text-white font-bold py-3 px-8 rounded-lg shadow-md hover:shadow-lg transition-all transform hover:-translate-y-0.5",children:"Guardar configuracin"})})]})]}),o==="templates"&&n.jsxs("div",{className:"max-w-3xl",children:[n.jsxs("div",{className:"mb-8",children:[n.jsx("h2",{className:"text-3xl font-bold text-slate-800 mb-2",children:"Plantillas de facturas"}),n.jsx("p",{className:"text-slate-500",children:"Selecciona el diseo predeterminado para tus documentos."})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:v.map(b=>n.jsxs("div",{onClick:()=>i(b.id),className:`border-2 rounded-xl overflow-hidden relative shadow-md group cursor-pointer transition-all ${a===b.id?"border-blue-600 ring-4 ring-blue-100 shadow-xl scale-[1.02]":"border-slate-200 hover:border-blue-400 hover:shadow-lg"} ${s?"bg-slate-800":"bg-white"}`,children:[a===b.id&&n.jsxs("div",{className:"absolute top-2 right-2 bg-blue-600 text-white text-xs font-bold px-3 py-1 rounded-full z-10 shadow-md flex items-center gap-1",children:[n.jsx(Wn,{className:"w-3 h-3"})," Activa"]}),a!==b.id&&n.jsx("div",{className:"absolute inset-0 bg-white/0 group-hover:bg-white/10 transition-colors z-10 flex items-center justify-center opacity-0 group-hover:opacity-100",children:n.jsx("span",{className:"bg-white/90 backdrop-blur text-slate-800 font-bold px-4 py-2 rounded-lg shadow-lg transform translate-y-4 group-hover:translate-y-0 transition-transform",children:"Seleccionar"})}),n.jsx("div",{className:"bg-slate-50/50 aspect-[3/4] border-b border-slate-200 overflow-hidden relative group",children:n.jsx("div",{className:"absolute top-0 left-0 origin-top-left transform scale-[0.38] w-[900px] h-[1100px] bg-white shadow-sm pointer-events-none select-none",children:n.jsx(ox,{company:e||{nombre:"Mi Empresa",direccion:"Direccin, Ciudad",correo:"contacto@empresa.com",telefono:"+52 55 1234 5678"},client:{name:"Cliente Ejemplo",address:"Direccin del Cliente",phone:"55 1234 5678",email:"cliente@email.com"},items:[{qty:1,desc:"Desarrollo Web Profesional",price:15e3,discount:0,tax:0},{qty:1,desc:"Hosting Anual",price:2500,discount:0,tax:0},{qty:5,desc:"Cuentas de Correo",price:150,discount:0,tax:0}],terms:"Trminos y condiciones de ejemplo.",folio:"001",date:"01/01/2024",dueDate:"15/01/2024",includeIva:!0,template:b.id})})}),n.jsxs("div",{className:`p-4 text-center transition-colors ${a===b.id?"bg-blue-50/50":"bg-transparent"}`,children:[n.jsx("h3",{className:`font-bold ${a===b.id?"text-blue-700":"text-slate-800"}`,children:b.name}),n.jsx("p",{className:"text-xs text-slate-500 mt-1",children:b.description})]})]},b.id))})]})]})]})},M8=({client:e,onBack:t})=>{var r;return e?n.jsxs("div",{className:"w-full px-4 md:px-8 py-8 animate-in slide-in-from-right-4 duration-300",children:[n.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[n.jsx("button",{onClick:t,className:"p-2 hover:bg-slate-200 rounded-full text-slate-500 transition-colors",children:n.jsx(mi,{className:"w-6 h-6"})}),n.jsxs("h1",{className:"text-3xl font-extrabold text-slate-800 tracking-tight",children:["Detalles del ",n.jsx("span",{className:"text-blue-600",children:"Cliente"})]})]}),n.jsxs("div",{className:`rounded-2xl shadow-xl border border-slate-100 overflow-hidden max-w-4xl mx-auto ${darkMode?"bg-slate-800 border-slate-700":"bg-white"}`,children:[n.jsxs("div",{className:"bg-slate-50 p-8 border-b border-slate-100 flex items-center gap-6",children:[n.jsx("div",{className:"w-24 h-24 bg-blue-600 text-white rounded-2xl flex items-center justify-center font-bold text-4xl shadow-lg shadow-blue-500/30",children:((r=e.nombre)==null?void 0:r.charAt(0).toUpperCase())||"?"}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-3xl font-bold text-slate-800",children:e.nombre}),e.empresa&&n.jsxs("div",{className:"flex items-center gap-2 text-slate-500 mt-2 font-medium text-lg",children:[n.jsx(nA,{className:"w-5 h-5"}),e.empresa]})]})]}),n.jsxs("div",{className:"p-8 grid grid-cols-1 md:grid-cols-2 gap-8",children:[n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"p-4 bg-slate-50 rounded-xl border border-slate-100",children:[n.jsxs("h3",{className:"text-sm font-bold text-slate-400 uppercase tracking-wider mb-2 flex items-center gap-2",children:[n.jsx(Ff,{className:"w-4 h-4"})," Correo Electrnico"]}),n.jsx("p",{className:"text-lg text-slate-700 font-medium",children:e.correo||"No registrado"})]}),n.jsxs("div",{className:"p-4 bg-slate-50 rounded-xl border border-slate-100",children:[n.jsxs("h3",{className:"text-sm font-bold text-slate-400 uppercase tracking-wider mb-2 flex items-center gap-2",children:[n.jsx(Il,{className:"w-4 h-4"})," Telfono"]}),n.jsx("p",{className:"text-lg text-slate-700 font-medium",children:e.numero||"No registrado"})]})]}),n.jsxs("div",{className:"p-4 bg-slate-50 rounded-xl border border-slate-100 h-full",children:[n.jsxs("h3",{className:"text-sm font-bold text-slate-400 uppercase tracking-wider mb-2 flex items-center gap-2",children:[n.jsx(jr,{className:"w-4 h-4"})," Notas / Observaciones"]}),n.jsx("p",{className:"text-slate-600 whitespace-pre-wrap leading-relaxed",children:e.notas||"Sin notas adicionales."})]})]}),n.jsxs("div",{className:"p-6 bg-slate-50/50 border-t border-slate-100 text-right text-xs text-slate-400",children:["Cliente creado el: ",e.created_at?new Date(e.created_at).toLocaleDateString():"N/A"]})]})]}):null},K8=({onCreateNew:e,darkMode:t})=>{const[r,s]=X.useState([]),[a,i]=X.useState(!0),[o,A]=X.useState(!1),[l,c]=X.useState({nombre:"",empresa:"",correo:"",numero:"",notas:""}),[d,f]=X.useState(!1),[m,h]=X.useState(null),[v,b]=X.useState(null),[N,w]=X.useState("date"),[x,B]=X.useState(""),C=async()=>{try{const{data:{user:k}}=await je.auth.getUser();if(!k)return;const{data:L,error:O}=await je.from("clientes").select("*").eq("user_id",k.id).order("created_at",{ascending:!1});if(O)throw O;s(L||[])}catch(k){console.error("Error loading clients:",k.message)}finally{i(!1)}};X.useEffect(()=>{C()},[]);const E=async()=>{if(!l.nombre){alert("El nombre es obligatorio");return}f(!0);try{const{data:{user:k}}=await je.auth.getUser();if(!k)return;let L;if(v){const{error:O}=await je.from("clientes").update({...l,updated_at:new Date}).eq("id",v);L=O}else{const{error:O}=await je.from("clientes").insert([{...l,user_id:k.id,created_at:new Date}]);L=O}if(L)throw L;A(!1),c({nombre:"",empresa:"",correo:"",numero:"",notas:""}),b(null),C()}catch(k){console.error("Error creating client:",k),alert("Error al guardar cliente")}finally{f(!1)}},S=async k=>{if(window.confirm("Ests seguro de eliminar este cliente?"))try{const{error:L}=await je.from("clientes").delete().eq("id",k);if(L)throw L;C(),m&&m.id===k&&h(null)}catch(L){console.error("Error deleting client:",L),alert("Error al eliminar")}},D=k=>{c({nombre:k.nombre,empresa:k.empresa||"",correo:k.correo||"",numero:k.numero||"",notas:k.notas||""}),b(k.id),A(!0)},R=()=>{c({nombre:"",empresa:"",correo:"",numero:"",notas:""}),b(null),A(!0)};if(a)return n.jsx("div",{className:"flex justify-center p-12",children:n.jsx(Mr,{className:"animate-spin w-8 h-8 text-blue-600"})});if(m)return n.jsx(M8,{client:m,onBack:()=>h(null)});const ne=[...r].sort((k,L)=>N==="alpha"?k.nombre.localeCompare(L.nombre):new Date(L.created_at)-new Date(k.created_at)).filter(k=>{var O,_,K,Q;const L=x.toLowerCase();return((O=k.nombre)==null?void 0:O.toLowerCase().includes(L))||((_=k.empresa)==null?void 0:_.toLowerCase().includes(L))||((K=k.correo)==null?void 0:K.toLowerCase().includes(L))||((Q=k.numero)==null?void 0:Q.toLowerCase().includes(L))});return n.jsxs("div",{className:"w-full px-4 md:px-8 py-8 relative",children:[n.jsxs("div",{className:"flex justify-between items-center mb-8",children:[n.jsxs("h1",{className:`text-3xl font-extrabold tracking-tight ${t?"text-slate-100":"text-slate-800"}`,children:["Gestin de ",n.jsx("span",{className:"text-blue-600",children:"Clientes"})]}),n.jsxs("button",{onClick:R,className:"btn bg-blue-600 text-white hover:bg-blue-700 shadow-lg shadow-blue-500/30 transform hover:-translate-y-0.5 px-6 py-3 rounded-xl font-bold transition-all flex items-center gap-2",children:[n.jsx(Gs,{className:"w-5 h-5"}),"Nuevo Cliente"]})]}),n.jsx("div",{className:"mb-6",children:n.jsxs("div",{className:"relative",children:[n.jsx(Vl,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 w-5 h-5 text-slate-400"}),n.jsx("input",{type:"text",placeholder:"Buscar por nombre, empresa, correo o telfono...",value:x,onChange:k=>B(k.target.value),className:`w-full pl-12 pr-4 py-3 rounded-xl border transition-all ${t?"bg-slate-800 border-slate-700 text-slate-100 placeholder-slate-500 focus:border-blue-500":"bg-white border-slate-200 text-slate-900 placeholder-slate-400 focus:border-blue-500"} focus:outline-none focus:ring-2 focus:ring-blue-500/20 shadow-sm`})]})}),ne.length===0?n.jsxs("div",{className:`rounded-xl shadow-lg border p-12 text-center ${t?"bg-slate-800 border-slate-700":"bg-white border-slate-100"}`,children:[n.jsx("div",{className:`w-20 h-20 rounded-full flex items-center justify-center mx-auto mb-6 ${t?"bg-slate-600 text-slate-400":"bg-slate-50 text-slate-400"}`,children:n.jsx(Ls,{className:"w-10 h-10"})}),n.jsx("h3",{className:`text-xl font-bold mb-2 ${t?"text-slate-100":"text-slate-700"}`,children:"No hay clientes registrados"}),n.jsx("p",{className:`max-w-md mx-auto mb-8 ${t?"text-slate-300":"text-slate-500"}`,children:"Agrega tus clientes para seleccionarlos rpidamente al crear cotizaciones."}),n.jsx("button",{onClick:R,className:"text-blue-600 font-bold hover:text-blue-700 hover:underline",children:"Agregar primer cliente"})]}):n.jsxs("div",{className:`rounded-xl shadow-lg border min-h-[500px] ${t?"bg-slate-800 border-slate-700":"bg-white border-slate-100"}`,children:[n.jsxs("div",{className:`grid grid-cols-12 gap-4 p-4 border-b text-xs font-bold uppercase tracking-widest hidden md:grid ${t?"bg-slate-600/50 border-slate-500 text-slate-200":"bg-gray-50/50 border-slate-100 text-slate-500"}`,children:[n.jsxs("div",{className:"col-span-5 pl-2 flex items-center gap-2 cursor-pointer hover:text-blue-500 transition-colors",onClick:()=>w(k=>k==="date"?"alpha":"date"),children:["Cliente / Empresa",n.jsx(sU,{className:"w-3 h-3"})]}),n.jsx("div",{className:"col-span-4",children:"Contacto"}),n.jsx("div",{className:"col-span-3 text-right pr-2",children:"Acciones"})]}),n.jsx("div",{className:`divide-y ${t?"divide-slate-600":"divide-slate-100"}`,children:ne.map(k=>n.jsxs("div",{className:`grid grid-cols-1 md:grid-cols-12 gap-4 p-4 items-center transition-colors group ${t?"hover:bg-slate-600":"hover:bg-blue-50/30"}`,children:[n.jsxs("div",{className:"col-span-5 flex items-center gap-4",children:[n.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center font-bold text-sm shrink-0 ${t?"bg-slate-600 text-blue-400":"bg-blue-100 text-blue-600"}`,children:k.nombre.charAt(0).toUpperCase()}),n.jsxs("div",{className:"min-w-0",children:[n.jsx("h3",{className:`font-bold text-sm truncate ${t?"text-slate-100":"text-slate-800"}`,children:k.nombre}),k.empresa&&n.jsx("p",{className:`text-xs truncate ${t?"text-slate-400":"text-slate-500"}`,children:k.empresa})]})]}),n.jsxs("div",{className:"col-span-4 space-y-1",children:[k.correo&&n.jsxs("div",{className:`flex items-center gap-2 text-sm truncate ${t?"text-slate-300":"text-slate-600"}`,children:[n.jsx("span",{className:"w-1.5 h-1.5 bg-green-400 rounded-full shrink-0"}),n.jsx("span",{className:"truncate",children:k.correo})]}),k.numero&&n.jsx("div",{className:"flex items-center gap-2 text-xs text-slate-400 truncate md:pl-3.5",children:k.numero})]}),n.jsxs("div",{className:"col-span-3 flex justify-end gap-2 opacity-100 transition-opacity",children:[n.jsx("button",{onClick:()=>h(k),className:"p-2 text-slate-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-all",title:"Ver detalles",children:n.jsx(jr,{className:"w-4 h-4"})}),n.jsx("button",{onClick:()=>D(k),className:"p-2 text-slate-400 hover:text-green-600 hover:bg-green-50 rounded-lg transition-all",title:"Editar",children:n.jsx(Cr,{className:"w-4 h-4"})}),n.jsx("button",{onClick:()=>S(k.id),className:"p-2 text-slate-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-all",title:"Eliminar",children:n.jsx(Wt,{className:"w-4 h-4"})})]})]},k.id))})]}),o&&n.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-slate-900/60 backdrop-blur-sm p-4 animate-in fade-in duration-200",children:n.jsxs("div",{className:`rounded-2xl shadow-2xl w-full max-w-lg overflow-hidden animate-in zoom-in-95 duration-200 ${t?"bg-slate-800":"bg-white"}`,children:[n.jsxs("div",{className:`p-6 border-b flex justify-between items-center ${t?"border-slate-700 bg-slate-800":"border-gray-100 bg-slate-50"}`,children:[n.jsx("h3",{className:`font-bold text-lg ${t?"text-slate-100":"text-slate-800"}`,children:v?"Editar Cliente":"Nuevo Cliente"}),n.jsx("button",{onClick:()=>A(!1),className:"hover:text-slate-600 text-slate-400",children:n.jsx(Kr,{className:"w-6 h-6"})})]}),n.jsxs("div",{className:"p-6 space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:`block text-xs font-bold mb-1 uppercase ${t?"text-slate-400":"text-slate-500"}`,children:"Nombre Completo *"}),n.jsx("input",{type:"text",className:`w-full border rounded-lg p-3 text-sm focus:ring-2 focus:ring-blue-500 outline-none ${t?"bg-slate-700 border-slate-600 text-white placeholder-slate-400":"bg-slate-50 border-slate-200 text-slate-800"}`,value:l.nombre,onChange:k=>c({...l,nombre:k.target.value}),placeholder:"Ej. Juan Prez"})]}),n.jsxs("div",{children:[n.jsx("label",{className:`block text-xs font-bold mb-1 uppercase ${t?"text-slate-400":"text-slate-500"}`,children:"Empresa"}),n.jsx("input",{type:"text",className:`w-full border rounded-lg p-3 text-sm focus:ring-2 focus:ring-blue-500 outline-none ${t?"bg-slate-700 border-slate-600 text-white placeholder-slate-400":"bg-slate-50 border-slate-200 text-slate-800"}`,value:l.empresa,onChange:k=>c({...l,empresa:k.target.value}),placeholder:"Ej. Soluciones SA de CV"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-bold text-slate-500 mb-1 uppercase",children:"Telfono"}),n.jsx("input",{type:"text",className:"w-full bg-slate-50 border border-slate-200 rounded-lg p-3 text-sm focus:ring-2 focus:ring-blue-500 outline-none",value:l.numero,onChange:k=>c({...l,numero:k.target.value}),placeholder:"(00) 0000 0000"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-bold text-slate-500 mb-1 uppercase",children:"Correo"}),n.jsx("input",{type:"email",className:"w-full bg-slate-50 border border-slate-200 rounded-lg p-3 text-sm focus:ring-2 focus:ring-blue-500 outline-none",value:l.correo,onChange:k=>c({...l,correo:k.target.value}),placeholder:"cliente@email.com"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-bold text-slate-500 mb-1 uppercase",children:"Notas"}),n.jsx("textarea",{className:"w-full bg-slate-50 border border-slate-200 rounded-lg p-3 text-sm focus:ring-2 focus:ring-blue-500 outline-none h-24",value:l.notas,onChange:k=>c({...l,notas:k.target.value}),placeholder:"Comentarios adicionales..."})]})]}),n.jsxs("div",{className:"p-6 border-t border-gray-100 bg-slate-50 flex justify-end gap-3",children:[n.jsx("button",{onClick:()=>A(!1),className:"px-4 py-2 text-slate-600 font-bold hover:bg-slate-200 rounded-lg transition-colors",children:"Cancelar"}),n.jsx("button",{onClick:E,disabled:d,className:"px-6 py-2 bg-blue-600 text-white font-bold rounded-lg hover:bg-blue-700 transition-all shadow-md flex items-center gap-2",children:d?n.jsx(Mr,{className:"w-4 h-4 animate-spin"}):v?"Actualizar Cliente":"Guardar Cliente"})]})]})})]})},V8=({items:e,onAddItem:t,onRemoveItem:r,onUpdateItem:s,onMoveItem:a,darkMode:i})=>{const[o,A]=Pt.useState(null),[l,c]=Pt.useState(!1),d=(x,B,C)=>{const E=x*B,S=E*(C/100);return(E-S).toFixed(2)},f=e.reduce((x,B)=>x+B.qty*(B.cost||0),0),m=e.reduce((x,B)=>{const C=parseFloat(d(B.qty,B.price,B.discount));return x+C},0),h=m-f,v=m>0?(h/m*100).toFixed(1):0,b=(x,B)=>{A(B),x.dataTransfer.effectAllowed="move",x.dataTransfer.setData("text/plain",B),x.currentTarget.classList.add("opacity-40")},N=x=>{A(null),x.currentTarget.classList.remove("opacity-40")},w=(x,B)=>{x.preventDefault(),!(o===null||o===B)&&(a(o,B),A(B))};return n.jsxs("div",{className:`p-6 rounded-xl shadow-lg border transition-all hover:shadow-xl text-left ${i?"bg-slate-800 border-slate-700":"bg-white border-slate-100"}`,children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsxs("h3",{className:`font-bold flex items-center gap-2 ${i?"text-slate-200":"text-slate-700"}`,children:[n.jsx(Js,{className:"w-5 h-5 text-indigo-500"})," Artculos"]}),n.jsxs("button",{onClick:t,className:"bg-indigo-600 hover:bg-indigo-700 text-white px-4 py-2 rounded-lg text-sm font-medium flex items-center gap-2 shadow-md hover:shadow-lg transition-all transform hover:-translate-y-0.5",children:[n.jsx(Gs,{className:"w-4 h-4"})," Agregar Producto"]})]}),n.jsx("div",{className:"hidden md:block relative z-10",children:n.jsxs("table",{className:"w-full text-sm",children:[n.jsx("thead",{children:n.jsxs("tr",{className:`${i?"bg-slate-800/50 text-slate-300":"bg-gray-50/50 text-slate-600"}`,children:[n.jsx("th",{className:"p-3 text-center w-12"}),n.jsx("th",{className:"p-3 text-left rounded-l-lg w-16",children:"Cant."}),n.jsx("th",{className:"p-3 text-left",children:"Descripcin / Producto"}),n.jsx("th",{className:"p-3 text-right pr-4 w-28 text-orange-500",children:"Precio Empresa"}),n.jsx("th",{className:"p-3 text-right pr-4 w-32 text-blue-500",children:"Precio Pblico"}),n.jsx("th",{className:"p-3 text-right pr-4 w-32 text-indigo-500",children:"Subtotal"}),n.jsx("th",{className:"p-3 text-center text-xs w-20",children:"% Desc"}),n.jsx("th",{className:"p-3 text-center rounded-r-lg w-10"})]})}),n.jsx("tbody",{className:`divide-y ${i?"divide-slate-700":"divide-slate-100"}`,children:e.map((x,B)=>n.jsxs("tr",{draggable:l,onDragStart:C=>b(C,B),onDragEnd:C=>{N(C),c(!1)},onDragOver:C=>w(C,B),className:`transition-all group cursor-default relative focus-within:z-[60] ${i?"hover:bg-slate-700/50":"hover:bg-slate-50/50"} ${o===B?"opacity-20 bg-indigo-50":""}`,children:[n.jsx("td",{className:"p-2 text-center pointer-events-none",children:n.jsx("div",{className:"flex justify-center cursor-grab active:cursor-grabbing pointer-events-auto",onMouseDown:()=>c(!0),onMouseUp:()=>c(!1),onMouseLeave:()=>!o&&c(!1),children:n.jsx(UU,{className:"w-5 h-5 text-slate-400 group-hover:text-indigo-500 transition-colors"})})}),n.jsx("td",{className:"p-2",children:n.jsx("input",{type:"number",min:"0",value:x.qty,onChange:C=>s(x.id,"qty",Math.max(0,parseInt(C.target.value)||0)),className:`w-16 border rounded-md p-2 text-center focus:ring-2 focus:ring-indigo-500/20 focus:border-indigo-500 outline-none transition-all shadow-sm ${i?"bg-slate-900 border-slate-600 text-white":"bg-white border-slate-200 text-slate-700"}`})}),n.jsx("td",{className:"p-2 relative",children:n.jsx(Xv,{value:x.desc,onChange:C=>s(x.id,"desc",C),onSelect:C=>{s(x.id,"desc",C.nombre),s(x.id,"price",C.precio),s(x.id,"cost",C.costo||0)},darkMode:i,placeholder:"Descripcin o buscar producto...",user:session==null?void 0:session.user})}),n.jsx("td",{className:"p-2",children:n.jsxs("div",{className:"relative flex justify-end",children:[n.jsx("span",{className:`absolute left-0 top-2 pl-2 ${i?"text-slate-500":"text-slate-400"}`,children:"$"}),n.jsx("input",{type:"number",min:"0",value:x.cost||0,onChange:C=>s(x.id,"cost",Math.max(0,parseFloat(C.target.value)||0)),className:`w-28 pl-6 border rounded-md p-2 text-right focus:ring-2 focus:ring-orange-500/20 focus:border-orange-500 outline-none transition-all shadow-sm font-medium ${i?"bg-slate-900 border-slate-600 text-orange-400":"bg-orange-50 border-orange-200 text-orange-700"}`,placeholder:"0.00"})]})}),n.jsx("td",{className:"p-2",children:n.jsxs("div",{className:"relative flex justify-end",children:[n.jsx("span",{className:`absolute left-0 top-2 pl-2 ${i?"text-slate-500":"text-slate-400"}`,children:"$"}),n.jsx("input",{type:"number",min:"0",value:x.price,onChange:C=>s(x.id,"price",Math.max(0,parseFloat(C.target.value)||0)),className:`w-32 pl-6 border rounded-md p-2 text-right focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 outline-none transition-all shadow-sm font-bold ${i?"bg-slate-900 border-slate-600 text-blue-400":"bg-white border-slate-200 text-blue-700"}`})]})}),n.jsx("td",{className:"p-2 text-right",children:n.jsxs("div",{className:"flex flex-col items-end",children:[n.jsxs("span",{className:`font-bold ${x.discount>0?"line-through text-slate-400 text-xs":i?"text-indigo-400":"text-indigo-600"}`,children:["$",ct(x.qty*x.price)]}),x.discount>0&&n.jsxs("span",{className:`italic font-bold ${i?"text-indigo-400":"text-indigo-600"}`,children:["$",ct(d(x.qty,x.price,x.discount))]})]})}),n.jsx("td",{className:"p-2",children:n.jsx("input",{type:"number",min:"0",value:x.discount,onChange:C=>s(x.id,"discount",Math.max(0,parseFloat(C.target.value)||0)),className:`w-full border rounded-md p-2 text-center focus:text-indigo-600 focus:ring-2 focus:ring-indigo-500/20 focus:border-indigo-500 outline-none transition-all shadow-sm text-xs ${i?"bg-slate-900 border-slate-600 text-slate-400":"bg-white border-slate-200 text-slate-500"}`,placeholder:"0"})}),n.jsx("td",{className:"p-2 text-center",children:n.jsx("button",{onClick:()=>r(x.id),className:"text-slate-400 hover:text-red-500 transition-colors p-1 rounded-full hover:bg-red-50",children:n.jsx(Wt,{className:"w-4 h-4"})})})]},x.id))}),n.jsx("tfoot",{children:n.jsxs("tr",{className:`${i?"bg-slate-700/30":"bg-slate-50"}`,children:[n.jsx("td",{colSpan:"5",className:"p-3 text-right font-bold text-sm text-slate-500 uppercase tracking-wide",children:"Subtotal Venta Estimado:"}),n.jsxs("td",{colSpan:"3",className:"p-3 text-right font-bold text-blue-600 text-lg",children:["$",ct(m)]})]})})]})}),n.jsxs("div",{className:"md:hidden space-y-4",children:[e.map((x,B)=>n.jsxs("div",{className:`p-4 rounded-xl border relative z-0 focus-within:z-[60] ${i?"bg-slate-900/50 border-slate-700":"bg-slate-50 border-slate-200"}`,children:[n.jsxs("div",{className:"flex justify-between items-start mb-3",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"p-2 bg-indigo-100 text-indigo-600 rounded-lg",children:n.jsx(Js,{className:"w-4 h-4"})}),n.jsxs("span",{className:`font-bold text-xs ${i?"text-slate-400":"text-slate-500"}`,children:["Artculo #",B+1]})]}),n.jsx("button",{onClick:()=>r(x.id),className:"p-2 text-rose-500 hover:bg-rose-50 rounded-lg transition-colors",children:n.jsx(Wt,{className:"w-4 h-4"})})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-[10px] uppercase font-black text-slate-400 mb-1 ml-1",children:"Descripcin"}),n.jsx(Xv,{value:x.desc,onChange:C=>s(x.id,"desc",C),onSelect:C=>{s(x.id,"desc",C.nombre),s(x.id,"price",C.precio),s(x.id,"cost",C.costo||0)},darkMode:i,placeholder:"Nombre del producto...",user:session==null?void 0:session.user})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-[10px] uppercase font-black text-slate-400 mb-1 ml-1",children:"Cantidad"}),n.jsx("input",{type:"number",min:"0",value:x.qty,onChange:C=>s(x.id,"qty",Math.max(0,parseInt(C.target.value)||0)),className:`w-full border rounded-lg p-3 text-sm text-center focus:ring-2 focus:ring-indigo-500/20 outline-none transition-all ${i?"bg-slate-800 border-slate-600 text-white":"bg-white border-slate-200 text-slate-700"}`})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-[10px] uppercase font-black text-slate-400 mb-1 ml-1",children:"% Descuento"}),n.jsx("input",{type:"number",min:"0",value:x.discount,onChange:C=>s(x.id,"discount",Math.max(0,parseFloat(C.target.value)||0)),className:`w-full border rounded-lg p-3 text-sm text-center focus:ring-2 focus:ring-indigo-500/20 outline-none transition-all ${i?"bg-slate-800 border-slate-600 text-white":"bg-white border-slate-200 text-slate-700"}`})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-[10px] uppercase font-black text-slate-400 mb-1 ml-1",children:"Precio Empresa"}),n.jsxs("div",{className:"relative",children:[n.jsx("span",{className:"absolute left-3 top-3 text-slate-400 text-xs",children:"$"}),n.jsx("input",{type:"number",min:"0",value:x.cost||0,onChange:C=>s(x.id,"cost",Math.max(0,parseFloat(C.target.value)||0)),className:`w-full pl-6 border rounded-lg p-3 text-sm focus:ring-2 focus:ring-orange-500/20 outline-none transition-all ${i?"bg-slate-800 border-slate-600 text-orange-400":"bg-orange-50/50 border-orange-100 text-orange-700"}`})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-[10px] uppercase font-black text-slate-400 mb-1 ml-1",children:"Precio Pblico"}),n.jsxs("div",{className:"relative",children:[n.jsx("span",{className:"absolute left-3 top-3 text-slate-400 text-xs",children:"$"}),n.jsx("input",{type:"number",min:"0",value:x.price,onChange:C=>s(x.id,"price",Math.max(0,parseFloat(C.target.value)||0)),className:`w-full pl-6 border rounded-lg p-3 text-sm font-bold focus:ring-2 focus:ring-blue-500/20 outline-none transition-all ${i?"bg-slate-800 border-slate-600 text-blue-400":"bg-white border-slate-200 text-blue-700"}`})]})]})]}),n.jsxs("div",{className:`p-3 rounded-xl flex justify-between items-center ${i?"bg-slate-800":"bg-white border border-slate-100 shadow-sm"}`,children:[n.jsx("span",{className:`text-[10px] font-black uppercase tracking-widest ${i?"text-slate-500":"text-slate-400"}`,children:"Subtotal Item"}),n.jsxs("div",{className:"flex flex-col items-end",children:[n.jsxs("span",{className:`font-bold ${x.discount>0?"line-through text-slate-400 text-[10px]":i?"text-indigo-400":"text-indigo-600"}`,children:["$",ct(x.qty*x.price)]}),x.discount>0&&n.jsxs("span",{className:`italic font-bold text-sm ${i?"text-indigo-400":"text-indigo-600"}`,children:["$",ct(d(x.qty,x.price,x.discount))]})]})]})]})]},x.id)),n.jsxs("div",{className:`p-4 rounded-xl flex justify-between items-center ${i?"bg-slate-700/50":"bg-blue-600 text-white shadow-lg shadow-blue-500/30"}`,children:[n.jsx("span",{className:"font-bold text-xs uppercase tracking-widest",children:"Total Venta Estimado:"}),n.jsxs("span",{className:"font-black text-xl",children:["$",ct(m)]})]})]}),n.jsxs("div",{className:`mt-4 grid grid-cols-1 md:grid-cols-3 gap-4 p-4 rounded-lg border ${i?"bg-slate-900 border-slate-700":"bg-slate-50 border-slate-200"}`,children:[n.jsxs("div",{className:"flex flex-col",children:[n.jsx("span",{className:"text-xs uppercase font-bold text-slate-500",children:"Costo Total (Empresa)"}),n.jsxs("span",{className:"text-xl font-bold text-orange-600",children:["$",ct(f)]})]}),n.jsxs("div",{className:"flex flex-col",children:[n.jsx("span",{className:"text-xs uppercase font-bold text-slate-500",children:"Venta Total (Cliente)"}),n.jsxs("span",{className:"text-xl font-bold text-blue-600",children:["$",ct(m)]})]}),n.jsxs("div",{className:"flex flex-col",children:[n.jsx("span",{className:"text-xs uppercase font-bold text-slate-500",children:"Ganancia Neta"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("span",{className:`text-xl font-bold ${h>=0?"text-green-600":"text-red-600"}`,children:["$",ct(h)]}),n.jsxs("span",{className:`text-xs px-2 py-0.5 rounded-full font-bold ${h>=0?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:[v,"%"]})]})]})]})]})},z8=({value:e,onChange:t,darkMode:r})=>n.jsxs("div",{className:`p-6 rounded-xl shadow-lg border transition-all hover:shadow-xl text-left ${r?"bg-slate-800 border-slate-700":"bg-white border-slate-100"}`,children:[n.jsxs("h3",{className:`font-bold mb-4 flex items-center gap-2 ${r?"text-slate-200":"text-slate-700"}`,children:[n.jsx(jr,{className:"w-5 h-5 text-gray-500"})," Trminos y Condiciones"]}),n.jsx("label",{className:`block text-xs font-semibold mb-2 ml-1 ${r?"text-slate-400":"text-slate-500"}`,children:"Escribe los trminos legales, garantas o notas adicionales"}),n.jsx("textarea",{value:e,onChange:s=>t(s.target.value),className:`w-full text-sm rounded-lg focus:ring-2 focus:ring-gray-500/20 focus:border-gray-500 block p-4 transition-all duration-200 ease-in-out outline-none h-32 leading-relaxed ${r?"bg-slate-900 border-slate-600 text-white placeholder-slate-500 hover:bg-slate-800 hover:border-slate-500":"bg-slate-50 border-slate-200 text-slate-800 hover:bg-white hover:border-gray-300 placeholder-slate-400"}`,placeholder:` Garanta de servicio...
 Tiempos de entrega...
 Condiciones de pago...`})]}),q8=({company:e,client:t,items:r,terms:s,folio:a,date:i,dueDate:o,subtotal:A,totalDiscount:l,totalTax:c,grandTotal:d,isPdf:f,formatCurrency:m})=>n.jsxs("div",{className:"bg-white max-w-[900px] mx-auto text-gray-800 relative shadow-none",style:{width:"900px",minHeight:f?"auto":"1100px"},children:[n.jsx("div",{className:"h-4 w-full bg-gradient-to-r from-blue-600 via-purple-500 to-purple-600"}),n.jsxs("div",{className:"pt-12 px-12 pb-0 flex flex-col h-full justify-between",children:[n.jsxs("div",{children:[n.jsxs("div",{className:"flex justify-between items-start mb-16",children:[n.jsxs("div",{className:"flex gap-6 items-start w-7/12",children:[e.logo_uri?n.jsx("img",{src:e.logo_uri,alt:"Logo",className:"max-w-32 max-h-32 object-contain rounded-md"}):n.jsx("div",{className:"w-20 h-20 bg-blue-50 rounded-md flex items-center justify-center text-blue-500",children:n.jsx(nA,{className:"w-10 h-10"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-slate-800 mb-1 leading-tight",children:e.nombre||"NOMBRE EMPRESA"}),n.jsxs("div",{className:"text-sm text-gray-500 space-y-1",children:[n.jsx("p",{children:e.direccion||"Direccin de la empresa, Ciudad, Estado"}),n.jsx("p",{children:e.correo}),n.jsx("p",{children:e.telefono}),e.rfc&&n.jsxs("p",{children:["RFC: ",e.rfc]}),e.pagina_web&&n.jsx("p",{children:e.pagina_web})]})]})]}),n.jsxs("div",{className:"text-right w-5/12",children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-700 uppercase tracking-widest mb-6 border-b pb-2",children:"COTIZACIN"}),n.jsx("div",{className:"text-sm",children:n.jsxs("div",{className:"grid grid-cols-[100px_1fr] gap-y-2 text-right",children:[n.jsx("span",{className:"font-bold text-gray-500",children:"Folio:"}),n.jsxs("span",{className:"font-bold text-gray-900",children:["#",a]}),n.jsx("span",{className:"font-bold text-gray-500",children:"Fecha:"}),n.jsx("span",{className:"text-gray-700",children:i}),n.jsx("span",{className:"font-bold text-gray-500",children:"Vence:"}),n.jsx("span",{className:"text-gray-700",children:o})]})})]})]}),n.jsxs("div",{className:"mb-12 bg-slate-50 py-8 -mx-12 px-12 border-y border-gray-100/50",children:[n.jsx("h3",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest mb-2",children:"COTIZACIN PARA:"}),n.jsxs("div",{className:"text-gray-800",children:[n.jsx("p",{className:"text-2xl font-bold text-slate-800 mb-1",children:t.name||"Nombre del Cliente"}),n.jsx("p",{className:"text-gray-600",children:t.address}),n.jsxs("div",{className:"text-gray-500 mt-1 flex gap-4 text-sm",children:[t.phone&&n.jsxs("span",{children:["Tel: ",t.phone]}),t.email&&n.jsxs("span",{children:["Email: ",t.email]})]})]})]}),n.jsx("div",{className:"mb-12",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b border-gray-100",children:[n.jsx("th",{className:"text-left py-2 text-xs font-bold text-gray-400 uppercase tracking-widest w-16",children:"Cant."}),n.jsx("th",{className:"text-left py-2 text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Descripcin / Producto"}),n.jsx("th",{className:"text-right py-2 text-xs font-bold text-gray-400 uppercase tracking-widest w-32",children:"Precio Pblico"}),n.jsx("th",{className:"text-right py-2 text-xs font-bold text-gray-400 uppercase tracking-widest w-32",children:"Importe"})]})}),n.jsx("tbody",{className:"divide-y divide-gray-50",children:r.map((h,v)=>{const b=h.qty*h.price-h.qty*h.price*(h.discount||0)/100;return n.jsxs("tr",{children:[n.jsx("td",{className:"py-2 text-sm font-medium text-gray-500 align-top",children:h.qty}),n.jsxs("td",{className:"py-2 pr-4 align-top",children:[n.jsx("p",{className:"font-bold text-slate-800 text-sm mb-1",children:h.desc}),(h.discount>0||h.tax>0)&&n.jsxs("p",{className:"text-xs text-blue-500",children:[h.discount>0&&`Desc. ${h.discount}% `,h.tax>0&&`+ IVA ${h.tax}%`]})]}),n.jsxs("td",{className:"py-2 text-right text-sm text-gray-600 align-top",children:["$",m(h.price)]}),n.jsx("td",{className:"py-2 text-right text-sm font-bold text-slate-700 align-top",children:n.jsxs("div",{className:"flex flex-col items-end",children:[n.jsxs("span",{className:h.discount>0?"line-through text-gray-400 text-xs":"",children:["$",m(h.qty*h.price)]}),h.discount>0&&n.jsxs("span",{className:"italic text-slate-900",children:["$",m(b)]})]})})]},v)})})]})})]}),n.jsx("div",{className:"bg-slate-50 -mx-12 px-12 pt-10 pb-12 mt-auto border-t border-gray-100",children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"w-7/12 pr-12",children:[s&&n.jsxs("div",{className:"mb-12",children:[n.jsx("h4",{className:"font-bold text-slate-700 text-sm mb-3",children:"Trminos y Condiciones"}),n.jsx("div",{className:"text-xs text-gray-500 leading-relaxed whitespace-pre-line",children:s})]}),n.jsxs("div",{className:"mt-12 pt-4 border-t border-gray-100",children:[n.jsx("p",{className:"text-xs font-bold mb-1 uppercase tracking-wide text-blue-600",children:"Atentamente:"}),n.jsx("p",{className:"text-lg font-bold text-blue-600",children:e.nombre||"Nombre de la Empresa"})]})]}),n.jsx("div",{className:"w-5/12 pl-8",children:n.jsxs("div",{className:"space-y-3 text-right",children:[n.jsxs("div",{className:"flex justify-between text-sm text-gray-500",children:[n.jsx("span",{children:"Subtotal:"}),n.jsxs("span",{className:"font-medium text-gray-700",children:["$",m(A)]})]}),l>0&&n.jsxs("div",{className:"flex justify-between text-sm text-green-600",children:[n.jsx("span",{children:"Descuento:"}),n.jsxs("span",{children:["-$",m(l)]})]}),c>0&&n.jsxs("div",{className:"flex justify-between text-sm text-gray-500",children:[n.jsx("span",{children:"IVA / Impuestos:"}),n.jsxs("span",{className:"font-medium text-gray-700",children:["$",m(c)]})]}),n.jsxs("div",{className:"flex justify-between items-center pt-4 mt-4 border-t border-gray-200",children:[n.jsx("span",{className:"text-lg font-bold text-blue-600",children:"Total:"}),n.jsxs("span",{className:"text-2xl font-bold text-blue-600",children:["$",m(d)]})]})]})})]})})]})]}),G8=({company:e,client:t,items:r,terms:s,folio:a,date:i,dueDate:o,subtotal:A,totalDiscount:l,totalTax:c,grandTotal:d,isPdf:f,formatCurrency:m})=>n.jsx("div",{className:"bg-white max-w-[900px] mx-auto text-gray-800 relative shadow-none font-sans",style:{width:"900px",minHeight:f?"auto":"1100px"},children:n.jsxs("div",{className:"flex h-full flex-col justify-between p-12",children:[n.jsxs("div",{children:[n.jsxs("div",{className:"flex justify-between items-end mb-12 border-b-4 border-slate-900 pb-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-5xl font-black text-slate-900 tracking-tight uppercase mb-6 leading-none",children:"Cotizacin"}),n.jsxs("span",{className:"bg-black text-white px-3 py-1 text-sm font-bold tracking-widest rounded-sm inline-block",children:["#",a]})]}),n.jsxs("div",{className:"text-right",children:[e.logo_uri?n.jsx("img",{src:e.logo_uri,alt:"Logo",className:"max-w-40 max-h-20 object-contain ml-auto"}):n.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:e.nombre||"TU EMPRESA"}),n.jsx("p",{className:"text-sm text-slate-500 mt-2",children:e.direccion}),n.jsxs("p",{className:"text-sm text-slate-500",children:[e.correo," | ",e.telefono]})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-12 mb-12",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-xs font-black text-slate-400 uppercase tracking-widest mb-4",children:"Emitido Para"}),n.jsx("p",{className:"text-2xl font-bold text-slate-900 leading-tight",children:t.name||"Nombre del Cliente"}),n.jsx("p",{className:"text-slate-600 mt-1",children:t.address}),n.jsxs("p",{className:"text-slate-500 text-sm mt-2",children:[t.phone,"  ",t.email]})]}),n.jsxs("div",{className:"flex justify-end gap-8",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-xs font-black text-slate-400 uppercase tracking-widest mb-2",children:"Fecha Emisin"}),n.jsx("p",{className:"text-lg font-bold text-slate-900",children:i})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-xs font-black text-slate-400 uppercase tracking-widest mb-2",children:"Vencimiento"}),n.jsx("p",{className:"text-lg font-bold text-red-500",children:o})]})]})]}),n.jsxs("table",{className:"w-full mb-12",children:[n.jsx("thead",{className:"bg-slate-900 text-white",children:n.jsxs("tr",{children:[n.jsx("th",{className:"py-3 px-4 text-left text-xs font-bold uppercase tracking-wider w-16",children:"Cant"}),n.jsx("th",{className:"py-3 px-4 text-left text-xs font-bold uppercase tracking-wider",children:"Descripcin"}),n.jsx("th",{className:"py-3 px-4 text-right text-xs font-bold uppercase tracking-wider w-32",children:"Precio Pblico"}),n.jsx("th",{className:"py-3 px-4 text-right text-xs font-bold uppercase tracking-wider w-32",children:"Total"})]})}),n.jsx("tbody",{className:"divide-y divide-slate-100",children:r.map((h,v)=>{const b=h.qty*h.price-h.qty*h.price*(h.discount||0)/100;return n.jsxs("tr",{className:v%2===0?"bg-white":"bg-slate-50",children:[n.jsx("td",{className:"py-3 px-4 text-sm font-bold text-slate-900",children:h.qty}),n.jsxs("td",{className:"py-3 px-4",children:[n.jsx("p",{className:"text-sm font-bold text-slate-900",children:h.desc}),(h.discount>0||h.tax>0)&&n.jsxs("p",{className:"text-xs text-slate-400 mt-0.5",children:[h.discount>0&&`-${h.discount}%`," ",h.tax>0&&"+IVA"]})]}),n.jsxs("td",{className:"py-3 px-4 text-right text-sm text-slate-600",children:["$",m(h.price)]}),n.jsx("td",{className:"py-3 px-4 text-right text-sm font-bold text-slate-900",children:n.jsxs("div",{className:"flex flex-col items-end",children:[n.jsxs("span",{className:h.discount>0?"line-through text-slate-400 text-xs font-normal":"",children:["$",m(h.qty*h.price)]}),h.discount>0&&n.jsxs("span",{className:"italic text-slate-900",children:["$",m(b)]})]})})]},v)})})]})]}),n.jsxs("div",{children:[n.jsx("div",{className:"flex justify-end mb-12",children:n.jsxs("div",{className:"w-5/12 space-y-2",children:[n.jsxs("div",{className:"flex justify-between text-slate-500 text-sm",children:[n.jsx("span",{children:"Subtotal"}),n.jsxs("span",{children:["$",m(A)]})]}),l>0&&n.jsxs("div",{className:"flex justify-between text-green-600 text-sm",children:[n.jsx("span",{children:"Descuento"}),n.jsxs("span",{children:["-$",m(l)]})]}),c>0&&n.jsxs("div",{className:"flex justify-between text-slate-500 text-sm",children:[n.jsx("span",{children:"Impuestos"}),n.jsxs("span",{children:["$",m(c)]})]}),n.jsxs("div",{className:"flex justify-between items-center text-slate-900 text-2xl font-black pt-4 border-t-2 border-slate-900 mt-4",children:[n.jsx("span",{children:"TOTAL"}),n.jsxs("span",{children:["$",m(d)]})]})]})}),n.jsxs("div",{className:"grid grid-cols-2 gap-12 border-t border-slate-200 pt-8",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"font-bold text-slate-900 text-sm mb-2",children:"Trminos"}),n.jsx("p",{className:"text-xs text-slate-500 leading-relaxed whitespace-pre-line",children:s})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("p",{className:"text-sm font-bold text-slate-900 mb-1",children:"Atte:"}),n.jsx("div",{className:"h-12"}),n.jsx("p",{className:"text-lg font-black text-slate-900",children:e.nombre})]})]})]})]})}),W8=({company:e,client:t,items:r,terms:s,folio:a,date:i,dueDate:o,subtotal:A,totalDiscount:l,totalTax:c,grandTotal:d,isPdf:f,formatCurrency:m})=>n.jsx("div",{className:"bg-white max-w-[900px] mx-auto text-gray-900 relative shadow-none font-serif",style:{width:"900px",minHeight:f?"auto":"1100px"},children:n.jsxs("div",{className:"p-16 flex flex-col h-full justify-between",children:[n.jsxs("div",{children:[n.jsxs("div",{className:"text-center mb-12 border-b border-gray-300 pb-8",children:[e.logo_uri?n.jsx("img",{src:e.logo_uri,alt:"Logo",className:"h-24 object-contain mx-auto mb-4"}):n.jsx("h1",{className:"text-3xl font-bold uppercase tracking-widest mb-2 text-gray-800",children:e.nombre||"NOMBRE EMPRESA"}),n.jsxs("p",{className:"text-sm text-gray-600 tracking-wide",children:[e.direccion," | ",e.telefono," | ",e.correo]}),e.rfc&&n.jsxs("p",{className:"text-sm text-gray-600 tracking-wide mt-1",children:["RFC: ",e.rfc]})]}),n.jsxs("div",{className:"flex justify-between mb-12",children:[n.jsxs("div",{className:"w-1/2 pr-8",children:[n.jsx("h3",{className:"text-xs font-bold uppercase border-b border-gray-400 pb-1 mb-3 text-gray-500",children:"Preparado Para"}),n.jsx("p",{className:"font-bold text-xl",children:t.name}),n.jsx("p",{className:"text-gray-700 mt-1",children:t.address}),n.jsx("p",{className:"text-gray-600 text-sm mt-1",children:t.phone}),n.jsx("p",{className:"text-gray-600 text-sm",children:t.email})]}),n.jsxs("div",{className:"w-1/2 pl-8 border-l border-gray-200",children:[n.jsx("h3",{className:"text-xs font-bold uppercase border-b border-gray-400 pb-1 mb-3 text-gray-500",children:"Detalles"}),n.jsxs("div",{className:"grid grid-cols-2 gap-y-2 text-sm",children:[n.jsx("span",{className:"text-gray-600",children:"Nmero de Folio:"}),n.jsxs("span",{className:"font-bold text-right",children:["#",a]}),n.jsx("span",{className:"text-gray-600",children:"Fecha de Emisin:"}),n.jsx("span",{className:"font-bold text-right",children:i}),n.jsx("span",{className:"text-gray-600",children:"Vlido Hasta:"}),n.jsx("span",{className:"font-bold text-right",children:o})]})]})]}),n.jsxs("table",{className:"w-full mb-8 border-collapse",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"bg-gray-100 border-y border-gray-300",children:[n.jsx("th",{className:"py-2 px-3 text-left text-xs font-bold uppercase w-16 text-gray-700",children:"Cant."}),n.jsx("th",{className:"py-2 px-3 text-left text-xs font-bold uppercase text-gray-700",children:"Descripcin"}),n.jsx("th",{className:"py-2 px-3 text-right text-xs font-bold uppercase w-32 text-gray-700",children:"Precio Pblico"}),n.jsx("th",{className:"py-2 px-3 text-right text-xs font-bold uppercase w-32 text-gray-700",children:"Importe"})]})}),n.jsx("tbody",{children:r.map((h,v)=>{const b=h.qty*h.price-h.qty*h.price*(h.discount||0)/100;return n.jsxs("tr",{className:"border-b border-gray-200",children:[n.jsx("td",{className:"py-3 px-3 text-sm",children:h.qty}),n.jsxs("td",{className:"py-3 px-3 text-sm",children:[n.jsx("div",{className:"font-medium",children:h.desc}),h.discount>0&&n.jsxs("div",{className:"text-xs text-gray-500 italic",children:["Descuento aplicado: ",h.discount,"%"]})]}),n.jsxs("td",{className:"py-3 px-3 text-right text-sm",children:["$",m(h.price)]}),n.jsx("td",{className:"py-3 px-3 text-right text-sm font-bold",children:n.jsxs("div",{className:"flex flex-col items-end",children:[n.jsxs("span",{className:h.discount>0?"line-through text-gray-400 text-xs font-normal":"",children:["$",m(h.qty*h.price)]}),h.discount>0&&n.jsxs("span",{className:"italic text-gray-900",children:["$",m(b)]})]})})]},v)})})]}),n.jsx("div",{className:"flex justify-end",children:n.jsxs("div",{className:"w-5/12",children:[n.jsxs("div",{className:"flex justify-between py-2 border-b border-gray-200",children:[n.jsx("span",{className:"text-sm text-gray-600",children:"Subtotal"}),n.jsxs("span",{className:"text-sm font-medium",children:["$",m(A)]})]}),l>0&&n.jsxs("div",{className:"flex justify-between py-2 border-b border-gray-200",children:[n.jsx("span",{className:"text-sm text-gray-600",children:"Descuento"}),n.jsxs("span",{className:"text-sm font-medium",children:["-$",m(l)]})]}),c>0&&n.jsxs("div",{className:"flex justify-between py-2 border-b border-gray-200",children:[n.jsx("span",{className:"text-sm text-gray-600",children:"IVA (16%)"}),n.jsxs("span",{className:"text-sm font-medium",children:["$",m(c)]})]}),n.jsxs("div",{className:"flex justify-between py-3 border-b-2 border-gray-800 mt-2",children:[n.jsx("span",{className:"text-base font-bold uppercase",children:"Total MXN"}),n.jsxs("span",{className:"text-lg font-bold",children:["$",m(d)]})]})]})})]}),n.jsxs("div",{className:"mt-12 text-center text-sm text-gray-500 pt-8 border-t border-gray-200",children:[s&&n.jsxs("p",{className:"mb-4 italic",children:['"',s,'"']}),n.jsx("p",{className:"font-bold",children:e.nombre}),n.jsx("p",{children:"Gracias por su preferencia."})]})]})}),J8=({company:e,client:t,items:r,terms:s,folio:a,date:i,dueDate:o,subtotal:A,totalDiscount:l,totalTax:c,grandTotal:d,isPdf:f,formatCurrency:m})=>n.jsxs("div",{className:"bg-white max-w-[900px] mx-auto text-gray-800 relative shadow-none overflow-hidden",style:{width:"900px",minHeight:f?"auto":"1100px"},children:[n.jsx("div",{className:"absolute top-0 right-0 w-[600px] h-[600px] bg-yellow-400 rounded-full mix-blend-multiply filter blur-3xl opacity-20 -translate-y-1/2 translate-x-1/2"}),n.jsx("div",{className:"absolute top-0 left-0 w-[500px] h-[500px] bg-pink-500 rounded-full mix-blend-multiply filter blur-3xl opacity-20 -translate-y-1/2 -translate-x-1/4"}),n.jsxs("div",{className:"relative z-10 p-12 flex flex-col h-full justify-between",children:[n.jsxs("div",{children:[n.jsxs("div",{className:"flex justify-between items-center mb-12",children:[n.jsx("div",{className:"w-1/2",children:e.logo_uri?n.jsx("img",{src:e.logo_uri,alt:"Logo",className:"max-w-40 max-h-32 object-contain"}):n.jsx("div",{className:"text-4xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-pink-500 to-yellow-500",children:e.nombre||"CREATIVA"})}),n.jsxs("div",{className:"text-right",children:[n.jsx("div",{className:"text-6xl font-black text-slate-900 opacity-10 tracking-tighter",children:"COTIZACIN"}),n.jsxs("div",{className:"text-xl font-bold text-pink-500 -mt-8 mr-1",children:["#",a]})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-8 mb-16",children:[n.jsxs("div",{className:"bg-slate-50/80 backdrop-blur-sm p-6 rounded-2xl border border-slate-100",children:[n.jsx("span",{className:"text-xs font-bold text-pink-500 uppercase tracking-widest block mb-2",children:"De"}),n.jsx("p",{className:"font-bold text-slate-800",children:e.nombre}),n.jsx("p",{className:"text-sm text-slate-500 mt-1",children:e.correo}),n.jsx("p",{className:"text-sm text-slate-500",children:e.telefono})]}),n.jsxs("div",{className:"bg-slate-900 text-white p-6 rounded-2xl shadow-lg transform translate-y-4",children:[n.jsx("span",{className:"text-xs font-bold text-yellow-400 uppercase tracking-widest block mb-2",children:"Para"}),n.jsx("p",{className:"font-bold text-xl",children:t.name}),n.jsx("div",{className:"h-px bg-white/20 my-3"}),n.jsxs("div",{className:"flex justify-between text-sm text-slate-300",children:[n.jsxs("span",{children:["Fecha: ",i]}),n.jsxs("span",{className:"text-yellow-400 font-bold",children:["Vence: ",o]})]})]})]}),n.jsx("div",{className:"mb-8",children:r.map((h,v)=>{const b=h.qty*h.price-h.qty*h.price*(h.discount||0)/100;return n.jsxs("div",{className:"flex items-center mb-4 bg-white p-4 rounded-xl shadow-sm border border-slate-100 hover:shadow-md transition-shadow",children:[n.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-pink-100 to-yellow-100 rounded-full flex items-center justify-center font-bold text-pink-600 text-lg mr-4 shrink-0",children:h.qty}),n.jsxs("div",{className:"flex-1 pr-4",children:[n.jsx("h4",{className:"font-bold text-slate-800",children:h.desc}),(h.discount>0||h.tax>0)&&n.jsxs("div",{className:"flex gap-2 text-xs font-bold mt-1",children:[h.discount>0&&n.jsxs("span",{className:"bg-green-100 text-green-700 px-2 py-0.5 rounded-full",children:["-",h.discount,"%"]}),h.tax>0&&n.jsx("span",{className:"bg-slate-100 text-slate-600 px-2 py-0.5 rounded-full",children:"IVA Included"})]})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("div",{className:"text-xs text-slate-400",children:"Precio Pblico"}),n.jsxs("div",{className:"font-bold text-slate-700",children:["$",m(h.price)]})]}),n.jsxs("div",{className:"w-32 text-right pl-4 border-l border-slate-100 ml-4",children:[n.jsx("div",{className:"text-xs text-pink-500 font-bold",children:"Total"}),n.jsxs("div",{className:"flex flex-col items-end",children:[n.jsxs("span",{className:`font-bold ${h.discount>0?"line-through text-slate-400 text-xs":"text-slate-900"}`,children:["$",m(h.qty*h.price)]}),h.discount>0&&n.jsxs("span",{className:"italic font-bold text-slate-900",children:["$",m(b)]})]})]})]},v)})})]}),n.jsx("div",{children:n.jsxs("div",{className:"bg-slate-900 text-white p-8 rounded-3xl flex items-center justify-between shadow-2xl relative overflow-hidden",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-pink-600 to-yellow-600 opacity-20"}),n.jsx("div",{className:"relative z-10 w-1/2",children:s&&n.jsxs(n.Fragment,{children:[n.jsx("h4",{className:"font-bold text-yellow-400 text-sm mb-2",children:"Notas Importantes"}),n.jsx("p",{className:"text-xs text-slate-300 line-clamp-3",children:s})]})}),n.jsxs("div",{className:"relative z-10 text-right",children:[n.jsx("div",{className:"text-sm text-slate-400",children:"Total a Pagar"}),n.jsxs("div",{className:"text-4xl font-black text-white tracking-tight",children:["$",m(d)]}),n.jsx("div",{className:"text-xs text-yellow-400 mt-1 uppercase tracking-wide font-bold",children:e.nombre})]})]})})]})]}),Zv=({service:e,company:t,darkMode:r})=>{var h;if(!e)return null;const s=v=>{if(!v)return"";const b=new Date(v);if(isNaN(b.getTime()))return v;const N=["Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dic"];return`${b.getDate()} / ${N[b.getMonth()]} / ${b.getFullYear()}`},a=v=>new Intl.NumberFormat("es-MX",{style:"currency",currency:"MXN"}).format(v||0),o=(()=>{const v=[],b=e.original||{};v.push({qty:1,description:"Mano de Obra",detail:b.problema_reportado||b.diagnostico_tecnico||b.diagnostico||"",price:b.mano_obra||0,total:b.mano_obra||0});try{let N=[],w=b.repuestos_descripcion||b.inventario_materiales||b.materiales_descripcion;const x=b.repuestos_costo||b.costo_repuestos||b.costo_materiales||b.materiales;w&&(typeof w=="string"&&w.trim().startsWith("[")?N=JSON.parse(w):Array.isArray(w)?N=w:typeof w=="string"&&w.trim()!==""&&v.push({qty:1,description:w,detail:"",price:x||0,total:x||0})),Array.isArray(N)&&N.length>0&&N.forEach(B=>{v.push({qty:B.cantidad||1,description:B.producto||B.descripcion||"Material/Repuesto",detail:B.numeroSerie?`S/N: ${B.numeroSerie}`:"",price:B.costoPublico||B.precio_publico||0,total:(B.cantidad||1)*(B.costoPublico||B.precio_publico||0)})})}catch(N){console.error("Error parsing parts for Nota de Venta:",N)}return v})(),A=e.original||{},l=o.reduce((v,b)=>v+b.total,0),c=o.reduce((v,b)=>v+(parseInt(b.qty)||0),0),d=A.anticipo||0,f=e.total||l,m=0;return n.jsxs("div",{className:"bg-white text-slate-900 w-[900px] min-h-[1100px] flex flex-col font-sans relative",id:"nota-venta-printable",children:[n.jsx("style",{children:`
                .print-exact { -webkit-print-color-adjust: exact; print-color-adjust: exact; }
                .bg-brand-900 { background-color: #0f172a !important; }
                .bg-brand-100 { background-color: #f1f5f9 !important; }
                .text-brand-900 { color: #0f172a !important; }
                .text-brand-800 { color: #1e293b !important; }
                .border-brand-900 { border-color: #0f172a !important; }
            `}),n.jsx("div",{className:"h-4 bg-brand-900 w-full print-exact"}),n.jsxs("div",{className:"px-10 py-6 flex justify-between items-start",children:[n.jsxs("div",{className:"w-1/2",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[t!=null&&t.logo_uri?n.jsx("img",{src:t.logo_uri,alt:"Logo",className:"h-12 max-w-[80px] object-contain"}):n.jsx("div",{className:"h-12 w-12 bg-brand-900 text-white flex items-center justify-center rounded-lg font-bold text-xl print-exact",children:((h=t==null?void 0:t.nombre)==null?void 0:h.substring(0,2).toUpperCase())||"CS"}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-brand-900 tracking-tight",children:(t==null?void 0:t.nombre)||"MI EMPRESA"}),n.jsx("p",{className:"text-xs text-brand-800 uppercase tracking-widest font-semibold",children:(t==null?void 0:t.eslogan)||"Tecnologa & Desarrollo"})]})]}),n.jsxs("div",{className:"text-sm text-gray-500 space-y-1",children:[n.jsxs("p",{className:"flex items-center",children:[n.jsx("span",{className:"w-20 font-medium text-gray-900",children:"Direccin:"})," ",(t==null?void 0:t.direccion)||"N/A"]}),n.jsxs("p",{className:"flex items-center",children:[n.jsx("span",{className:"w-20 font-medium text-gray-900",children:"Telfono:"})," ",(t==null?void 0:t.telefono)||"N/A"]}),n.jsxs("p",{className:"flex items-center",children:[n.jsx("span",{className:"w-20 font-medium text-gray-900",children:"Email:"})," ",(t==null?void 0:t.correo)||"N/A"]})]})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("h2",{className:"text-4xl font-extralight text-gray-300 mb-6 uppercase",children:"NOTA DE VENTA"}),n.jsxs("div",{className:"inline-block bg-brand-100 rounded-lg p-4 text-left print-exact",children:[n.jsxs("div",{className:"mb-2",children:[n.jsx("span",{className:"block text-xs uppercase text-brand-800 font-bold tracking-wider",children:"Orden #"}),n.jsxs("span",{className:"text-xl font-mono text-brand-900 font-bold",children:["ORD-",e.folio||e.orden_numero]})]}),n.jsxs("div",{children:[n.jsx("span",{className:"block text-xs uppercase text-brand-800 font-bold tracking-wider",children:"Fecha"}),n.jsx("span",{className:"text-base font-medium text-brand-900",children:s(e.fecha)})]})]})]})]}),n.jsx("hr",{className:"border-gray-100 mx-10"}),n.jsxs("div",{className:"px-10 py-4",children:[n.jsx("span",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest mb-2 block",children:"Cliente"}),n.jsx("h3",{className:"text-xl font-bold text-gray-800",children:e.cliente||e.cliente_nombre||"Cliente General"}),e.telefono&&n.jsxs("p",{className:"text-gray-500 text-sm mt-1",children:["Tel: ",e.telefono]})]}),n.jsx("div",{className:"px-10 flex-1",children:n.jsxs("table",{className:"w-full text-left border-collapse overflow-hidden rounded-lg",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"bg-brand-900 text-white text-xs uppercase tracking-wider print-exact",children:[n.jsx("th",{className:"py-4 px-4 font-bold w-16 text-center",children:"Cant."}),n.jsx("th",{className:"py-4 px-4 font-bold",children:"Descripcin / Servicio"}),n.jsx("th",{className:"py-4 px-4 font-bold text-right w-32",children:"Precio Unit."}),n.jsx("th",{className:"py-4 px-4 font-bold text-right w-32",children:"Total"})]})}),n.jsx("tbody",{className:"text-sm text-gray-700",children:o.map((v,b)=>n.jsxs("tr",{className:"border-b border-gray-100",children:[n.jsx("td",{className:"py-4 px-4 text-center font-bold",children:v.qty}),n.jsxs("td",{className:"py-4 px-4",children:[n.jsx("p",{className:"font-semibold text-gray-900",children:v.description}),v.detail&&n.jsx("p",{className:"text-xs text-gray-500 mt-0.5",children:v.detail})]}),n.jsx("td",{className:"py-4 px-4 text-right font-mono",children:a(v.price)}),n.jsx("td",{className:"py-4 px-4 text-right font-mono font-medium text-gray-900",children:a(v.total)})]},b))})]})}),n.jsx("div",{className:"px-10 py-8 flex justify-end",children:n.jsxs("div",{className:"w-1/2 lg:w-1/3",children:[n.jsxs("div",{className:"flex justify-between py-2 text-sm text-gray-600",children:[n.jsx("span",{children:"Total Artculos/Servicios:"}),n.jsx("span",{className:"font-bold",children:c})]}),n.jsx("div",{className:"border-t border-gray-200 my-2"}),n.jsxs("div",{className:"flex justify-between py-2 text-sm text-gray-600",children:[n.jsx("span",{children:"Subtotal:"}),n.jsx("span",{className:"font-mono text-gray-900",children:a(l)})]}),d>0&&n.jsxs("div",{className:"flex justify-between py-2 text-sm text-blue-600",children:[n.jsx("span",{children:"Anticipo:"}),n.jsxs("span",{className:"font-mono font-medium",children:["- ",a(d)]})]}),m>0,n.jsxs("div",{className:"flex justify-between py-4 border-t-2 border-brand-900 mt-2 items-center",children:[n.jsx("span",{className:"text-base font-bold text-brand-900 uppercase tracking-widest",children:"Total Nota"}),n.jsx("span",{className:"text-2xl font-bold text-brand-900 font-mono",children:a(f-d-m)})]})]})}),n.jsxs("div",{className:"bg-gray-50 px-10 py-6 border-t border-gray-200 mt-4 text-center print-exact",children:[n.jsx("p",{className:"text-sm font-semibold text-gray-800",children:"Gracias por su confianza!"}),n.jsx("p",{className:"text-xs text-gray-500 mt-1 max-w-2xl mx-auto",children:"Este documento es una nota de venta. Para cualquier duda o aclaracin sobre este servicio, favor de contactarse en un lapso no mayor a 5 das hbiles."})]})]})},ox=({company:e,client:t,items:r,terms:s,folio:a,date:i,dueDate:o,includeIva:A,isPdf:l=!1,template:c="classic"})=>{const d=r.reduce((w,x)=>{const B=x.qty*x.price,C=B*(x.discount/100);return w+(B-C)},0),f=r.reduce((w,x)=>w+x.qty*x.price*(x.discount/100),0),m=A?d*.16:0,h=d+m,v=i||new Date().toLocaleDateString(),b=o||new Date(Date.now()+15*24*60*60*1e3).toLocaleDateString(),N={company:e,client:t,items:r,terms:s,folio:a,date:v,dueDate:b,subtotal:d,totalDiscount:f,totalTax:m,grandTotal:h,isPdf:l,formatCurrency:ct};switch(c){case"modern":return n.jsx(G8,{...N});case"formal":return n.jsx(W8,{...N});case"creative":return n.jsx(J8,{...N});case"classic":default:return n.jsx(q8,{...N})}},X8=({darkMode:e,onNavigate:t,onViewService:r,onShowNotaVenta:s,user:a,refreshTrigger:i})=>{const[o,A]=X.useState([]),[l,c]=X.useState(!0),[d,f]=X.useState(!1),[m,h]=X.useState({key:"servicio_fecha",direction:"desc"}),[v,b]=X.useState(!1),[N,w]=X.useState(null),[x,B]=X.useState(!1),[C,E]=X.useState(null);X.useEffect(()=>{S()},[a,i]);const S=async()=>{if(a){f(!0);try{const{data:L,error:O}=await je.from("servicios_cctv").select("*").eq("user_id",a.id).order("servicio_fecha",{ascending:!1});if(O)throw O;A(L||[])}catch(L){console.error("Error loading CCTV services:",L)}finally{c(!1),f(!1)}}},D=L=>{w(L),b(!0)},R=L=>{E(L),B(!0)},W=L=>{let O="asc";m.key===L&&m.direction==="asc"&&(O="desc"),h({key:L,direction:O})},ne=Pt.useMemo(()=>{let L=[...o];return m.key!==null&&L.sort((O,_)=>{let K=O[m.key],Q=_[m.key];if(m.key.includes("fecha")){const I=U=>{if(!U)return 0;if(/^\d{4}-\d{2}-\d{2}$/.test(U)){const me=new Date(U+"T00:00:00");if(!isNaN(me.getTime()))return me.getTime()}const V=new Date(U);if(!isNaN(V.getTime()))return V.getTime();const Z=U.split("/");return Z.length===3?new Date(`${Z[2]}-${Z[1]}-${Z[0]}T00:00:00`).getTime():0};K=I(K),Q=I(Q)}return K<Q?m.direction==="asc"?-1:1:K>Q?m.direction==="asc"?1:-1:0}),L},[o,m]),k=async L=>{if(window.confirm("Ests seguro de eliminar este servicio?"))try{const{data:O}=await je.from("servicios_cctv").select("id").eq("servicio_numero",L).single();O&&await ec(O.id);const{error:_}=await je.from("servicios_cctv").delete().eq("servicio_numero",L);if(_)throw _;S(),alert("Servicio eliminado correctamente")}catch(O){console.error("Error deleting service:",O),alert("Error al eliminar servicio")}};return l?n.jsx("div",{className:"flex justify-center p-12",children:n.jsx(Mr,{className:"animate-spin w-8 h-8 text-blue-600"})}):n.jsxs("div",{className:"w-full px-4 md:px-8 py-8",children:[n.jsxs("div",{className:"flex justify-between items-center mb-8",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs("h1",{className:`text-3xl font-extrabold tracking-tight ${e?"text-slate-100":"text-slate-800"}`,children:["Servicios ",n.jsx("span",{className:"text-blue-600",children:"CCTV"})]}),n.jsx("button",{onClick:S,className:`p-2 rounded-full transition-all hover:scale-110 ${e?"hover:bg-slate-700 text-slate-400 hover:text-white":"hover:bg-slate-200 text-slate-500 hover:text-slate-800"}`,title:"Actualizar lista",children:n.jsx(mA,{className:`w-5 h-5 ${d?"animate-spin text-blue-600":""}`})})]}),n.jsxs("button",{onClick:()=>t("servicios"),className:`flex items-center gap-2 px-4 py-2 rounded-lg font-bold transition-colors ${e?"text-slate-300 hover:text-white hover:bg-slate-700":"text-slate-600 hover:text-slate-900 hover:bg-slate-100"}`,children:[n.jsx(mi,{className:"w-5 h-5"})," Regresar"]})]}),n.jsx("div",{className:`rounded-xl shadow-lg border min-h-[500px] ${e?"bg-slate-800 border-slate-700":"bg-white border-slate-100"}`,children:o.length===0?n.jsx("div",{className:"p-12 text-center text-slate-500",children:"No hay servicios de CCTV registrados."}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"hidden md:block",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:`border-b ${e?"bg-slate-800/50 border-slate-700":"bg-gray-50/50 border-gray-200"}`,children:n.jsxs("tr",{children:[n.jsx("th",{onClick:()=>W("servicio_numero"),className:`px-6 py-4 text-left text-xs font-bold uppercase tracking-wider cursor-pointer hover:bg-slate-500/10 transition-colors ${e?"text-slate-200":"text-slate-600"}`,children:n.jsxs("div",{className:"flex items-center gap-1",children:["No. Servicio",m.key==="servicio_numero"&&(m.direction==="asc"?n.jsx(zs,{className:"w-3 h-3"}):n.jsx(Vs,{className:"w-3 h-3"}))]})}),n.jsx("th",{className:`px-6 py-4 text-left text-xs font-bold uppercase tracking-wider ${e?"text-slate-200":"text-slate-600"}`,children:"Cliente"}),n.jsx("th",{onClick:()=>W("servicio_fecha"),className:`px-6 py-4 text-left text-xs font-bold uppercase tracking-wider cursor-pointer hover:bg-slate-500/10 transition-colors ${e?"text-slate-200":"text-slate-600"}`,children:n.jsxs("div",{className:"flex items-center gap-1",children:["Fecha",m.key==="servicio_fecha"&&(m.direction==="asc"?n.jsx(zs,{className:"w-3 h-3"}):n.jsx(Vs,{className:"w-3 h-3"}))]})}),n.jsx("th",{className:`px-6 py-4 text-left text-xs font-bold uppercase tracking-wider ${e?"text-slate-200":"text-slate-600"}`,children:"Total"}),n.jsx("th",{className:`px-6 py-4 text-left text-xs font-bold uppercase tracking-wider ${e?"text-slate-200":"text-slate-600"}`,children:"Estado"}),n.jsx("th",{className:`px-6 py-4 text-right text-xs font-bold uppercase tracking-wider ${e?"text-slate-200":"text-slate-600"}`,children:"Acciones"})]})}),n.jsx("tbody",{className:`divide-y ${e?"divide-slate-600":"divide-slate-100"}`,children:ne.map(L=>n.jsxs("tr",{className:`transition-colors ${e?"hover:bg-slate-700/50":"hover:bg-blue-50/30"}`,children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("span",{className:"text-sm font-bold text-blue-600",children:["#",L.servicio_numero]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("span",{className:`text-sm font-medium ${e?"text-slate-100":"text-slate-900"}`,children:L.cliente_nombre})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("span",{className:`text-sm ${e?"text-slate-300":"text-slate-600"}`,children:Xr(L.servicio_fecha)})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("span",{className:`text-sm font-bold ${e?"text-slate-100":"text-slate-900"}`,children:["$",ct(L.total)]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx(Zn,{service:L,darkMode:e,onStatusChange:S,tableName:"servicios_cctv"})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right",children:n.jsxs("div",{className:"flex items-center justify-end gap-2",children:[L.pagado&&L.entregado?n.jsx("span",{className:"hidden sm:inline-block px-2 py-1 text-[10px] font-bold uppercase tracking-widest text-green-600 bg-green-500/10 backdrop-blur-md border border-green-500/20 rounded-md mr-2",children:"Pagado y Entregado"}):n.jsx("span",{className:"hidden sm:inline-block px-2 py-1 text-[10px] font-bold uppercase tracking-widest text-red-600 bg-red-500/10 backdrop-blur-md border border-red-500/20 rounded-md mr-2",children:"Pendiente de Entregar/Pagar"}),n.jsx("button",{onClick:()=>D(L),className:"p-2 text-purple-600 hover:bg-purple-50 rounded-lg transition-colors",title:"Ver Ticket QR",children:n.jsx(Is,{className:"w-5 h-5"})}),n.jsx("button",{onClick:()=>R(L),className:"p-2 text-slate-700 hover:bg-slate-100 rounded-lg transition-colors",title:"Imprimir Ticket",children:n.jsx(Ws,{className:"w-5 h-5"})}),n.jsx("button",{onClick:()=>s({...L,type:"CCTV",tableName:"servicios_cctv",original:L}),className:"p-2 text-blue-500 hover:bg-blue-50 rounded-lg transition-colors",title:"Generar Nota de Venta",children:n.jsx(jr,{className:"w-5 h-5"})}),n.jsx("button",{onClick:()=>r(L),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Ver Servicio",children:n.jsx(pr,{className:"w-5 h-5"})}),n.jsx("button",{onClick:()=>t("services-cctv-edit"),className:"p-2 text-slate-600 hover:bg-slate-100 rounded-lg transition-colors",title:"Editar Servicio",children:n.jsx(Cr,{className:"w-5 h-5"})}),n.jsx("button",{onClick:()=>k(L.servicio_numero),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Eliminar Servicio",children:n.jsx(Wt,{className:"w-5 h-5"})})]})})]},L.servicio_numero))})]})}),n.jsx("div",{className:"md:hidden flex flex-col gap-4 p-4",children:ne.map(L=>n.jsxs("div",{className:`rounded-2xl p-5 border shadow-sm ${e?"bg-slate-800 border-slate-700":"bg-white border-slate-100"}`,children:[n.jsxs("div",{className:"flex justify-between items-start mb-4",children:[n.jsxs("div",{children:[n.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-bold bg-blue-100 text-blue-800 mb-2",children:["#",L.servicio_numero]}),n.jsx("h3",{className:`text-lg font-bold ${e?"text-slate-100":"text-slate-900"}`,children:L.cliente_nombre}),n.jsx("p",{className:`text-xs ${e?"text-slate-400":"text-slate-500"}`,children:Xr(L.servicio_fecha)})]}),n.jsx(Zn,{service:L,darkMode:e,onStatusChange:S,tableName:"servicios_cctv"})]}),n.jsxs("div",{className:"flex justify-between items-end border-t border-dashed pt-4 border-slate-200 dark:border-slate-700",children:[n.jsxs("div",{children:[n.jsx("p",{className:`text-xs font-bold uppercase tracking-wider mb-1 ${e?"text-slate-500":"text-slate-400"}`,children:"Total"}),n.jsxs("p",{className:`text-xl font-black ${e?"text-white":"text-slate-900"}`,children:["$",ct(L.total)]})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{onClick:()=>D(L),className:"p-2.5 bg-purple-50 text-purple-600 rounded-xl",children:n.jsx(Is,{className:"w-5 h-5"})}),n.jsx("button",{onClick:()=>R(L),className:"p-2.5 bg-slate-50 text-slate-600 rounded-xl",children:n.jsx(Ws,{className:"w-5 h-5"})}),n.jsx("button",{onClick:()=>s({...L,type:"CCTV",tableName:"servicios_cctv",original:L}),className:"p-2.5 bg-blue-50 text-blue-500 rounded-xl",title:"Generar Nota de Venta",children:n.jsx(jr,{className:"w-5 h-5"})}),n.jsx("button",{onClick:()=>r(L),className:"p-2.5 bg-blue-50 text-blue-600 rounded-xl",children:n.jsx(pr,{className:"w-5 h-5"})}),n.jsx("button",{onClick:()=>t("services-cctv-edit"),className:"p-2.5 bg-slate-50 text-slate-600 rounded-xl",children:n.jsx(Cr,{className:"w-5 h-5"})}),n.jsx("button",{onClick:()=>k(L.servicio_numero),className:"p-2.5 bg-red-50 text-red-600 rounded-xl",children:n.jsx(Wt,{className:"w-5 h-5"})})]})]})]},`mobile-cctv-${L.servicio_numero}`))})]})}),v&&N&&n.jsx(Ca,{service:N,onClose:()=>{b(!1),w(null)},darkMode:e}),x&&C&&n.jsx(_a,{service:C,onClose:()=>{B(!1),E(null)},darkMode:e})]})},Y8=({service:e,onBack:t,onEdit:r,darkMode:s,company:a})=>{var B,C;if(!e)return null;const[i,o]=X.useState(!1),[A,l]=X.useState(null),[c,d]=X.useState(!1),[f,m]=X.useState(null),[h,v]=X.useState([]),[b,N]=X.useState(!1);X.useEffect(()=>{e!=null&&e.id&&w()},[e]);const w=async()=>{N(!0);try{const{data:E,error:S}=await je.from("servicio_fotos").select("*").eq("servicio_id",e.id).order("created_at",{ascending:!1});if(S)throw S;v(E||[])}catch(E){console.error("Error fetching photos:",E)}finally{N(!1)}},x=E=>`$${ct(E||0)}`;return n.jsxs("div",{className:"w-full min-h-screen p-6 md:p-10",children:[n.jsxs("div",{className:"max-w-7xl mx-auto bg-white rounded-3xl overflow-hidden shadow-2xl border border-blue-100",children:[n.jsx("div",{className:"p-8 bg-gradient-to-r from-blue-50 to-white border-b border-blue-100",children:n.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-6",children:[n.jsxs("div",{className:"flex items-center gap-5",children:[n.jsx("button",{onClick:t,className:"p-3 bg-white rounded-full shadow-sm hover:shadow-md transition-all text-slate-600 hover:text-blue-600",children:n.jsx(mi,{className:"w-6 h-6"})}),n.jsxs("div",{className:"flex items-start gap-4",children:[a!=null&&a.logo_uri?n.jsx("img",{src:a.logo_uri,alt:"Logo",className:"w-20 h-20 object-contain p-1 rounded-xl bg-white shadow-sm"}):n.jsx("div",{className:"w-20 h-20 bg-blue-600 rounded-2xl flex items-center justify-center text-white font-black text-3xl shadow-lg shadow-blue-600/20",children:((B=a==null?void 0:a.nombre)==null?void 0:B.charAt(0))||"C"}),n.jsxs("div",{className:"flex flex-col",children:[n.jsx("h2",{className:"text-2xl font-black text-slate-800 tracking-tight leading-tight",children:(a==null?void 0:a.nombre)||"Mi Empresa"}),(a==null?void 0:a.direccion)&&n.jsx("p",{className:"text-[10px] text-slate-500 max-w-[250px] leading-tight mt-1",children:a.direccion}),n.jsxs("div",{className:"flex flex-wrap gap-x-4 gap-y-1 mt-1",children:[(a==null?void 0:a.telefono)&&n.jsxs("p",{className:"text-[10px] font-bold text-slate-600",children:["Tel: ",a.telefono]}),(a==null?void 0:a.correo)&&n.jsx("p",{className:"text-[10px] font-bold text-slate-600",children:a.correo}),(a==null?void 0:a.rfc)&&n.jsxs("p",{className:"text-[10px] font-bold text-blue-600 uppercase",children:["RFC: ",a.rfc]})]}),n.jsx("div",{className:"flex gap-3 mt-3 no-print",children:n.jsxs("button",{onClick:()=>r(e),className:"px-4 py-1.5 bg-blue-600 text-white rounded-xl text-xs font-bold hover:bg-blue-700 transition-all flex items-center gap-2 shadow-sm",children:[n.jsx(Cr,{className:"w-3.5 h-3.5"})," EDITAR REPORTE"]})})]})]})]}),n.jsxs("div",{className:"text-left md:text-right",children:[n.jsx("span",{className:"block text-[10px] font-black uppercase tracking-[0.3em] text-blue-400 mb-1",children:"Servicio CCTV"}),n.jsxs("h1",{className:"text-4xl font-black tracking-tighter text-slate-900 mb-2",children:["#",e.servicio_numero]}),n.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-1.5 bg-slate-900 text-white rounded-xl shadow-lg",children:[n.jsx(ea,{className:"w-3.5 h-3.5 text-blue-400"}),n.jsx("span",{className:"text-xs font-mono font-bold",children:Xr(e.servicio_fecha)})]})]})]})}),n.jsxs("div",{className:"p-8 md:p-10 grid grid-cols-1 lg:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"p-6 rounded-2xl bg-gradient-to-br from-blue-50 to-white border border-blue-100",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[n.jsx(Ls,{className:"w-5 h-5 text-blue-600"}),n.jsx("h3",{className:"text-sm font-bold uppercase tracking-wider text-blue-600",children:"Cliente"})]}),n.jsx("p",{className:"text-xl font-bold text-slate-800 mb-1",children:e.cliente_nombre}),n.jsx("p",{className:"text-sm text-slate-500 mb-1",children:e.cliente_telefono}),e.cliente_correo&&n.jsx("p",{className:"text-xs text-slate-500 mb-1",children:e.cliente_correo}),n.jsx("p",{className:"text-xs text-slate-400 truncate",title:e.cliente_direccion,children:e.cliente_direccion})]}),n.jsxs("div",{className:"p-6 rounded-2xl bg-gradient-to-br from-orange-50 to-white border border-orange-100",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[n.jsx(Yl,{className:"w-5 h-5 text-orange-600"}),n.jsx("h3",{className:"text-sm font-bold uppercase tracking-wider text-orange-600",children:"Tcnico Responsable"})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-orange-400 to-orange-600 flex items-center justify-center text-white font-bold",children:e.tecnico_nombre?e.tecnico_nombre.charAt(0):"I"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-lg font-bold text-slate-800",children:e.tecnico_nombre||"Sin asignar"}),n.jsx("p",{className:"text-xs text-slate-500",children:e.tecnico_celular||"Asignado al servicio"})]})]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"p-6 rounded-2xl bg-gradient-to-br from-purple-50 to-white border border-purple-100",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[n.jsx(hb,{className:"w-5 h-5 text-purple-600"}),n.jsx("h3",{className:"text-sm font-bold uppercase tracking-wider text-purple-600",children:"Grabador (DVR/NVR)"})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-[10px] text-slate-400 uppercase font-black tracking-widest mb-0.5",children:"Marca / Tipo"}),n.jsxs("p",{className:"text-sm font-bold text-slate-700",children:[e.marca_principal,"  ",e.tipo_grabador]})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-[10px] text-slate-400 uppercase font-black tracking-widest mb-0.5",children:"IP Local"}),n.jsx("p",{className:"text-sm font-mono text-slate-600 bg-slate-100 px-2 py-0.5 rounded w-fit",children:e.ip_grabador||"No especificada"})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-[10px] text-slate-400 uppercase font-black tracking-widest mb-0.5",children:"Dominio / ID Nube"}),n.jsx("p",{className:"text-sm font-mono text-slate-600 truncate",children:e.dominio_ddns||e.id_nube_p2p||"No configurado"})]})]})]}),n.jsxs("div",{className:"p-6 rounded-2xl bg-gradient-to-br from-indigo-50 to-white border border-indigo-100",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[n.jsx(ld,{className:"w-5 h-5 text-indigo-600"}),n.jsx("h3",{className:"text-sm font-bold uppercase tracking-wider text-indigo-600",children:"Cmaras Instaladas"})]}),n.jsx("div",{className:"flex flex-wrap gap-2",children:((C=e.tipos_camaras)==null?void 0:C.map((E,S)=>n.jsx("span",{className:"px-3 py-1 bg-indigo-100 text-indigo-700 text-xs font-bold rounded-lg border border-indigo-200 uppercase",children:E},S)))||n.jsx("p",{className:"text-sm text-slate-500 italic",children:"No especificadas"})})]})]}),n.jsxs("div",{className:"p-6 rounded-2xl bg-gradient-to-br from-slate-900 to-slate-800 border border-slate-700 text-white shadow-xl",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Nr,{className:"w-5 h-5 text-blue-400"}),n.jsx("h3",{className:"text-sm font-bold uppercase tracking-wider text-blue-400",children:"Acceso y Credenciales"})]}),n.jsx(HB,{className:"w-5 h-5 text-amber-400 animate-pulse"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[n.jsxs("div",{className:"p-3 rounded-xl bg-white/5 border border-white/10",children:[n.jsx("p",{className:"text-[10px] text-slate-400 uppercase font-black tracking-widest mb-1",children:"Usuario"}),n.jsx("p",{className:"text-lg font-mono font-bold text-blue-300",children:e.usuario||"admin"})]}),n.jsxs("div",{className:"p-3 rounded-xl bg-white/5 border border-white/10",children:[n.jsx("p",{className:"text-[10px] text-slate-400 uppercase font-black tracking-widest mb-1",children:"Contrasea"}),n.jsx("p",{className:"text-lg font-mono font-bold text-amber-300",children:e.contrasena||"****"})]})]}),n.jsx("p",{className:"mt-4 text-[10px] text-slate-500 italic text-center",children:"Informacin confidencial para el mantenimiento del sistema."})]}),e.garantia_aplica&&n.jsxs("div",{className:"p-6 rounded-2xl bg-gradient-to-br from-teal-50 to-white border border-teal-100",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[n.jsx(Wn,{className:"w-5 h-5 text-teal-600"}),n.jsx("h3",{className:"text-sm font-bold uppercase tracking-wider text-teal-600",children:"Cobertura de Garanta"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"p-3 rounded-xl bg-teal-500/5 border border-teal-500/10",children:[n.jsx("p",{className:"text-[10px] text-slate-400 uppercase font-black tracking-widest mb-1",children:"Inicia"}),n.jsx("p",{className:"text-sm font-bold text-slate-700",children:Xr(e.garantia_fecha_inicio)})]}),n.jsxs("div",{className:"p-3 rounded-xl bg-rose-500/5 border border-rose-500/10",children:[n.jsx("p",{className:"text-[10px] text-slate-400 uppercase font-black tracking-widest mb-1",children:"Vence"}),n.jsx("p",{className:"text-sm font-bold text-rose-600",children:Xr(e.garantia_fecha_vencimiento)})]})]}),e.garantia_detalles&&n.jsx("div",{className:"mt-4 p-3 bg-white/50 rounded-xl border border-teal-100",children:n.jsxs("p",{className:"text-xs text-slate-600 italic",children:['"',e.garantia_detalles,'"']})})]}),e.inventario_materiales&&e.inventario_materiales!=="[]"&&n.jsxs("div",{className:"p-6 rounded-2xl bg-gradient-to-br from-slate-50 to-white border border-slate-200",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[n.jsx(Js,{className:"w-5 h-5 text-slate-600"}),n.jsx("h3",{className:"text-sm font-bold uppercase tracking-wider text-slate-600",children:"Materiales Utilizados"})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsxs("div",{className:"flex text-xs font-bold text-slate-500 border-b border-slate-200 pb-2 mb-2",children:[n.jsx("div",{className:"w-12 text-center",children:"Cant"}),n.jsx("div",{className:"flex-1",children:"Articulo"}),n.jsx("div",{className:"w-24 text-right",children:"Precio U."}),n.jsx("div",{className:"w-24 text-right",children:"Total"})]}),(()=>{try{let E=[];return typeof e.inventario_materiales=="string"?E=JSON.parse(e.inventario_materiales):E=e.inventario_materiales,Array.isArray(E)?E.map((S,D)=>n.jsxs("div",{className:"flex items-start text-sm py-1 border-b border-slate-100 last:border-0",children:[n.jsx("div",{className:"w-12 text-center text-slate-500",children:S.cantidad||1}),n.jsx("div",{className:"flex-1 text-slate-700 font-medium",children:S.producto||S.descripcion}),n.jsxs("div",{className:"w-24 text-right text-slate-600 font-mono",children:["$",ct(S.costoPublico||S.precio_publico||0)]}),n.jsxs("div",{className:"w-24 text-right text-slate-800 font-mono font-bold",children:["$",ct((S.cantidad||1)*(S.costoPublico||S.precio_publico||0))]})]},D)):n.jsx("p",{className:"text-sm text-slate-700",children:e.inventario_materiales})}catch{return n.jsx("p",{className:"text-sm text-slate-700",children:e.inventario_materiales})}})()]})]})]}),n.jsx("div",{className:"lg:col-span-1",children:n.jsxs("div",{className:"p-6 rounded-2xl bg-gradient-to-br from-blue-50 to-white border border-blue-100 sticky top-6",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[n.jsx(Js,{className:"w-5 h-5 text-blue-600"}),n.jsx("h3",{className:"text-sm font-bold uppercase tracking-wider text-blue-600",children:"Resumen Financiero"})]}),n.jsxs("div",{className:"space-y-3 mb-6",children:[n.jsxs("div",{className:"flex justify-between items-center text-sm",children:[n.jsx("span",{className:"text-slate-600",children:"Mano de Obra"}),n.jsx("span",{className:"font-semibold text-slate-800",children:x(e.mano_obra)})]}),n.jsxs("div",{className:"flex justify-between items-center text-sm",children:[n.jsx("span",{className:"text-slate-600",children:"Materiales"}),n.jsx("span",{className:"font-semibold text-slate-800",children:x(e.materiales)})]}),n.jsxs("div",{className:"flex justify-between items-center text-sm",children:[n.jsx("span",{className:"text-slate-600 font-bold",children:"Total Servicio"}),n.jsx("span",{className:"font-bold text-slate-900",children:x(e.total)})]})]}),n.jsxs("div",{className:"border-t border-slate-200 pt-4 mb-6",children:[n.jsx("p",{className:"text-xs text-blue-400 uppercase tracking-wider mb-2 text-center font-bold",children:"Saldo Pendiente"}),n.jsx("p",{className:`text-4xl font-black text-center ${e.saldo>0?"text-rose-600":"text-green-600"}`,children:x(e.saldo)})]}),n.jsxs("div",{className:"space-y-2 p-4 rounded-xl bg-white border border-slate-200",children:[n.jsxs("div",{className:"flex justify-between items-center text-sm",children:[n.jsx("span",{className:"text-slate-600 font-bold uppercase text-xs",children:"Anticipo"}),n.jsxs("span",{className:"font-bold text-blue-600",children:["-",x(e.anticipo)]})]}),n.jsx("div",{className:"flex justify-between items-center text-sm pt-2 border-t border-dashed border-slate-300",children:n.jsx("span",{className:`px-2 py-0.5 rounded text-[10px] font-black uppercase ${e.pagado?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:e.pagado?"Totalmente Pagado":"Pendiente de Pago"})})]})]})})]}),n.jsxs("div",{className:"p-8 md:p-10 border-t border-slate-100 bg-slate-50/30",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[n.jsx(bs,{className:"w-5 h-5 text-blue-600"}),n.jsx("h3",{className:"text-lg font-black text-slate-800 tracking-tight uppercase",children:"Evidencia Fotogrfica"})]}),b?n.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[n.jsx(Mr,{className:"w-8 h-8 text-blue-600 animate-spin mb-4"}),n.jsx("p",{className:"text-sm text-slate-500 font-medium",children:"Cargando fotografas..."})]}):h.length>0?n.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-5 gap-4",children:h.map((E,S)=>n.jsxs("div",{className:"group relative aspect-square rounded-2xl overflow-hidden bg-slate-200 border border-slate-200 shadow-sm hover:shadow-xl transition-all duration-500",children:[n.jsx("img",{src:E.uri,alt:`Foto ${S+1}`,className:"w-full h-full object-cover transition-transform duration-700 group-hover:scale-110"}),n.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity flex items-end p-3",children:n.jsx("button",{onClick:()=>window.open(E.uri,"_blank"),className:"w-full py-2 bg-white/20 backdrop-blur-md text-white text-[10px] font-bold uppercase tracking-widest rounded-lg hover:bg-white/40 transition-colors",children:"Ver Imagen"})})]},E.id))}):n.jsx("div",{className:"text-center py-12 bg-white rounded-3xl border border-dashed border-slate-300",children:n.jsx("p",{className:"text-slate-400 font-medium italic",children:"No hay fotografas registradas para este servicio"})})]}),(e.firma_tecnico_path||e.firma_cliente_path)&&n.jsxs("div",{className:"px-8 md:px-10 pb-8 grid grid-cols-2 gap-6",children:[e.firma_tecnico_path&&n.jsxs("div",{className:"p-6 rounded-2xl bg-slate-50 border border-slate-200 flex flex-col items-center justify-center",children:[n.jsx("img",{src:e.firma_tecnico_path,alt:"Firma Tcnico",className:"h-16 object-contain mb-3 mix-blend-multiply"}),n.jsx("p",{className:"text-xs uppercase tracking-widest text-slate-400",children:"Firma del Tcnico"})]}),e.firma_cliente_path&&n.jsxs("div",{className:"p-6 rounded-2xl bg-slate-50 border border-slate-200 flex flex-col items-center justify-center",children:[n.jsx("img",{src:e.firma_cliente_path,alt:"Firma Cliente",className:"h-16 object-contain mb-3 mix-blend-multiply"}),n.jsx("p",{className:"text-xs uppercase tracking-widest text-slate-400",children:"Firma de Conformidad"})]})]})]}),i&&A&&n.jsx(Ca,{service:A,onClose:()=>{o(!1),l(null)},darkMode:s}),c&&f&&n.jsx(_a,{service:f,onClose:()=>{d(!1),m(null)},darkMode:s})]})},Zn=({service:e,darkMode:t,onStatusChange:r,tableName:s="servicios_pc"})=>{const[a,i]=X.useState(!1),[o,A]=X.useState(!1),[l,c]=X.useState(!1),d=X.useRef(null);X.useEffect(()=>{const w=x=>{d.current&&!d.current.contains(x.target)&&i(!1)};return document.addEventListener("mousedown",w),()=>document.removeEventListener("mousedown",w)},[]);const f=async w=>{A(!0);try{let x="id",B=e.id;const E={["status"]:w};(s==="servicios_pc"||s==="servicios_celular"||s==="servicios_cctv"||s==="servicios_impresora")&&(w==="entregado"?(E.pagado=!0,E.entregado=!0):w==="recibido"&&(E.pagado=!1,E.entregado=!1)),s==="servicios_impresora"&&(E.status=w);const{error:S}=await je.from(s).update(E).eq(x,B);if(S)throw S;r(),i(!1)}catch(x){console.error(`Error updating status in ${s}:`,x),alert("Error al actualizar estado")}finally{A(!1)}},m=w=>{const x={black:"bg-slate-900 text-white ring-slate-900/20 shadow-lg shadow-slate-900/10",yellow:"bg-amber-400 text-amber-950 ring-amber-400/20 shadow-lg shadow-amber-400/10",blue:"bg-blue-600 text-white ring-blue-600/20 shadow-lg shadow-blue-600/10",green:"bg-emerald-500 text-white ring-emerald-500/20 shadow-lg shadow-emerald-500/10",red:"bg-rose-500 text-white ring-rose-500/20 shadow-lg shadow-rose-500/10",gray:"bg-slate-500 text-white ring-slate-500/20 shadow-lg shadow-slate-500/10"};return x[w]||x.gray},h=e.status||"pendiente",v=Tl.find(w=>w.value===h.toLowerCase()),b=v?v.label:h,N=v?v.color:"gray";return n.jsxs("div",{className:"relative inline-block w-full",ref:d,children:[n.jsx("button",{onClick:()=>{if(!a&&d.current){const w=d.current.getBoundingClientRect(),B=window.innerHeight-w.bottom<300;c(B)}i(!a)},disabled:o,className:`w-full px-4 py-2.5 text-xs font-black uppercase tracking-widest rounded-xl transition-all duration-300 flex items-center justify-between gap-3 group relative overflow-hidden ${m(N)} ${o?"opacity-50 cursor-not-allowed":"hover:scale-[1.02] active:scale-95 cursor-pointer shadow-md hover:shadow-xl"} ring-1`,children:o?n.jsxs("div",{className:"flex items-center gap-2 justify-center w-full",children:[n.jsx(Mr,{className:"w-4 h-4 animate-spin"}),n.jsx("span",{children:"Espere..."})]}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"flex items-center gap-2.5 overflow-hidden",children:[n.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-white opacity-50 group-hover:opacity-100 transition-opacity animate-pulse"}),n.jsx("span",{className:"truncate",children:b})]}),n.jsx(fU,{className:`w-4 h-4 opacity-70 group-hover:opacity-100 transition-all duration-300 ${a?"rotate-180":""}`})]})}),a&&!o&&n.jsx("div",{className:`absolute z-[200] w-56 rounded-md shadow-lg border overflow-hidden ${l?"bottom-full mb-1":"top-full mt-1"} left-0 ${t?"bg-slate-800 border-slate-700":"bg-white border-slate-200"}`,children:Tl.map(w=>n.jsxs("button",{onClick:()=>f(w.value),className:`w-full text-left px-4 py-3 text-[10px] font-black uppercase tracking-widest flex items-center justify-between group transition-all ${t?"hover:bg-slate-700/50 text-slate-400 hover:text-white":"hover:bg-slate-50 text-slate-500 hover:text-slate-900"}`,children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:`w-2 h-2 rounded-full shadow-sm ${w.color==="black"?"bg-slate-900":w.color==="yellow"?"bg-amber-400":w.color==="blue"?"bg-blue-600":w.color==="green"?"bg-emerald-500":w.color==="red"?"bg-rose-500":"bg-slate-400"}`}),n.jsx("span",{children:w.label})]}),h===w.value&&n.jsx("div",{className:"w-1 h-1 rounded-full bg-blue-500"})]},w.value))})]})},Z8=({darkMode:e,onNavigate:t,onViewService:r,onCreateNew:s,onEdit:a,onShowNotaVenta:i,user:o,refreshTrigger:A})=>{const[l,c]=X.useState([]),[d,f]=X.useState(!0),[m,h]=X.useState(!1),[v,b]=X.useState({key:"fecha",direction:"desc"}),[N,w]=X.useState(!1),[x,B]=X.useState(null),[C,E]=X.useState(!1),[S,D]=X.useState(null);X.useEffect(()=>{R()},[o,A]);const R=async()=>{if(o){h(!0);try{const{data:_,error:K}=await je.from("servicios_pc").select("*").eq("user_id",o.id).order("fecha",{ascending:!1});if(K)throw K;c(_||[])}catch(_){console.error("Error loading PC services:",_)}finally{f(!1),h(!1)}}},W=_=>{let K="asc";v.key===_&&v.direction==="asc"&&(K="desc"),b({key:_,direction:K})},ne=Pt.useMemo(()=>{let _=[...l];return v.key!==null&&_.sort((K,Q)=>{let I=K[v.key],U=Q[v.key];if(v.key.includes("fecha")){const V=Z=>{if(!Z)return 0;if(/^\d{4}-\d{2}-\d{2}$/.test(Z)){const G=new Date(Z+"T00:00:00");if(!isNaN(G.getTime()))return G.getTime()}const me=new Date(Z);if(!isNaN(me.getTime()))return me.getTime();const F=Z.split("/");return F.length===3?new Date(`${F[2]}-${F[1]}-${F[0]}T00:00:00`).getTime():0};I=V(I),U=V(U)}return I<U?v.direction==="asc"?-1:1:I>U?v.direction==="asc"?1:-1:0}),_},[l,v]),k=_=>{B(_),w(!0)},L=_=>{D(_),E(!0)},O=async _=>{if(confirm("Ests seguro de eliminar este servicio?"))try{await ec(_);const{error:K}=await je.from("servicios_pc").delete().eq("id",_);if(K)throw K;c(l.filter(Q=>Q.id!==_))}catch(K){console.error("Error deleting service:",K),alert("Error al eliminar servicio")}};return d?n.jsx("div",{className:"flex justify-center p-12",children:n.jsx(Mr,{className:"animate-spin w-8 h-8 text-blue-600"})}):n.jsxs("div",{className:"w-full px-4 md:px-8 py-8",children:[n.jsxs("div",{className:"flex justify-between items-center mb-8",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs("h1",{className:`text-3xl font-extrabold tracking-tight ${e?"text-slate-100":"text-slate-800"}`,children:["Servicios ",n.jsx("span",{className:"text-blue-600",children:"PC"})]}),n.jsx("button",{onClick:R,className:`p-2 rounded-full transition-all hover:scale-110 ${e?"hover:bg-slate-700 text-slate-400 hover:text-white":"hover:bg-slate-200 text-slate-500 hover:text-slate-800"}`,title:"Actualizar lista",children:n.jsx(mA,{className:`w-5 h-5 ${m?"animate-spin text-blue-600":""}`})})]}),n.jsx("div",{className:"flex gap-2",children:n.jsxs("button",{onClick:s,className:"btn bg-blue-600 text-white hover:bg-blue-700 shadow-lg shadow-blue-500/30 transform hover:-translate-y-0.5 px-6 py-3 rounded-xl font-bold transition-all flex items-center gap-2",children:[n.jsx(Gs,{className:"w-5 h-5"}),"Nuevo Servicio"]})})]}),n.jsx("div",{className:`rounded-xl shadow-lg border min-h-[600px] ${e?"bg-slate-800 border-slate-700":"bg-white border-slate-100"}`,children:l.length===0?n.jsx("div",{className:"p-12 text-center text-slate-500",children:"No hay servicios de PC registrados."}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"hidden md:block pb-64",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:`border-b ${e?"bg-slate-800/50 border-slate-700":"bg-gray-50/50 border-gray-200"}`,children:n.jsxs("tr",{children:[n.jsx("th",{onClick:()=>W("orden_numero"),className:`px-6 py-4 text-left text-xs font-bold uppercase tracking-wider cursor-pointer hover:bg-slate-500/10 transition-colors ${e?"text-slate-200":"text-slate-600"}`,children:n.jsxs("div",{className:"flex items-center gap-1",children:["No. Servicio",v.key==="orden_numero"&&(v.direction==="asc"?n.jsx(zs,{className:"w-3 h-3"}):n.jsx(Vs,{className:"w-3 h-3"}))]})}),n.jsx("th",{className:`px-6 py-4 text-left text-xs font-bold uppercase tracking-wider ${e?"text-slate-200":"text-slate-600"}`,children:"Cliente"}),n.jsx("th",{onClick:()=>W("fecha"),className:`px-6 py-4 text-left text-xs font-bold uppercase tracking-wider cursor-pointer hover:bg-slate-500/10 transition-colors ${e?"text-slate-200":"text-slate-600"}`,children:n.jsxs("div",{className:"flex items-center gap-1",children:["Fecha",v.key==="fecha"&&(v.direction==="asc"?n.jsx(zs,{className:"w-3 h-3"}):n.jsx(Vs,{className:"w-3 h-3"}))]})}),n.jsx("th",{className:`px-6 py-4 text-left text-xs font-bold uppercase tracking-wider ${e?"text-slate-200":"text-slate-600"}`,children:"Total"}),n.jsx("th",{className:`px-6 py-4 text-left text-xs font-bold uppercase tracking-wider ${e?"text-slate-200":"text-slate-600"}`,children:"Estado"}),n.jsx("th",{className:`px-6 py-4 text-right text-xs font-bold uppercase tracking-wider ${e?"text-slate-200":"text-slate-600"}`,children:"Acciones"})]})}),n.jsx("tbody",{className:`divide-y ${e?"divide-slate-600":"divide-slate-100"}`,children:ne.map(_=>n.jsxs("tr",{className:`transition-colors ${e?"hover:bg-slate-700/50":"hover:bg-blue-50/30"}`,children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("span",{className:"text-sm font-bold text-blue-600",children:["#",_.orden_numero]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("span",{className:`text-sm font-medium ${e?"text-slate-100":"text-slate-900"}`,children:_.cliente_nombre})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("span",{className:`text-sm ${e?"text-slate-300":"text-slate-600"}`,children:Xr(_.fecha)})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("span",{className:`text-sm font-bold ${e?"text-slate-100":"text-slate-900"}`,children:["$",ct(_.total)]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx(Zn,{service:_,darkMode:e,onStatusChange:R})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right",children:n.jsxs("div",{className:"flex items-center justify-end gap-2",children:[n.jsx("button",{onClick:()=>k(_),className:"p-2 text-purple-600 hover:bg-purple-50 rounded-lg transition-colors",title:"Ver QR de Seguimiento",children:n.jsx(Is,{className:"w-5 h-5"})}),n.jsx("button",{onClick:()=>L(_),className:"p-2 text-slate-700 hover:bg-slate-100 rounded-lg transition-colors",title:"Imprimir Ticket",children:n.jsx(Ws,{className:"w-5 h-5"})}),n.jsx("button",{onClick:()=>i({..._,type:"PC",tableName:"servicios_pc",original:_}),className:"p-2 text-blue-500 hover:bg-blue-50 rounded-lg transition-colors",title:"Generar Nota de Venta",children:n.jsx(jr,{className:"w-5 h-5"})}),_.pagado&&_.entregado?n.jsx("span",{className:"hidden sm:inline-block px-2 py-1 text-[10px] font-bold uppercase tracking-widest text-green-600 bg-green-500/10 backdrop-blur-md border border-green-500/20 rounded-md mr-2",children:"Pagado y Entregado"}):n.jsx("span",{className:"hidden sm:inline-block px-2 py-1 text-[10px] font-bold uppercase tracking-widest text-red-600 bg-red-500/10 backdrop-blur-md border border-red-500/20 rounded-md mr-2",children:"Pendiente de Entregar/Pagar"}),n.jsx("button",{onClick:()=>r(_),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Ver Servicio",children:n.jsx(pr,{className:"w-5 h-5"})}),n.jsx("button",{onClick:()=>a(_),className:"p-2 text-slate-600 hover:bg-slate-100 rounded-lg transition-colors",title:"Editar Servicio",children:n.jsx(Cr,{className:"w-5 h-5"})}),n.jsx("button",{onClick:()=>O(_.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Eliminar Servicio",children:n.jsx(Wt,{className:"w-5 h-5"})})]})})]},_.id))})]})}),n.jsx("div",{className:"md:hidden flex flex-col gap-4 p-4 pb-24",children:ne.map(_=>n.jsxs("div",{className:`rounded-2xl p-5 border shadow-sm ${e?"bg-slate-800 border-slate-700":"bg-white border-slate-100"}`,children:[n.jsxs("div",{className:"flex justify-between items-start mb-4",children:[n.jsxs("div",{children:[n.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-bold bg-blue-100 text-blue-800 mb-2",children:["#",_.orden_numero]}),n.jsx("h3",{className:`text-lg font-bold ${e?"text-slate-100":"text-slate-900"}`,children:_.cliente_nombre}),n.jsx("p",{className:`text-xs ${e?"text-slate-400":"text-slate-500"}`,children:Xr(_.fecha)})]}),n.jsx(Zn,{service:_,darkMode:e,onStatusChange:R})]}),n.jsxs("div",{className:"flex justify-between items-end border-t border-dashed pt-4 border-slate-200 dark:border-slate-700",children:[n.jsxs("div",{children:[n.jsx("p",{className:`text-xs font-bold uppercase tracking-wider mb-1 ${e?"text-slate-500":"text-slate-400"}`,children:"Total"}),n.jsxs("p",{className:`text-xl font-black ${e?"text-white":"text-slate-900"}`,children:["$",ct(_.total)]})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{onClick:()=>k(_),className:"p-2.5 bg-purple-50 text-purple-600 rounded-xl",children:n.jsx(Is,{className:"w-5 h-5"})}),n.jsx("button",{onClick:()=>L(_),className:"p-2.5 bg-slate-50 text-slate-600 rounded-xl",children:n.jsx(Ws,{className:"w-5 h-5"})}),n.jsx("button",{onClick:()=>i({..._,type:"PC",tableName:"servicios_pc",original:_}),className:"p-2.5 bg-blue-50 text-blue-500 rounded-xl",title:"Generar Nota de Venta",children:n.jsx(jr,{className:"w-5 h-5"})}),n.jsx("button",{onClick:()=>r(_),className:"p-2.5 bg-blue-50 text-blue-600 rounded-xl",children:n.jsx(pr,{className:"w-5 h-5"})}),n.jsx("button",{onClick:()=>a(_),className:"p-2.5 bg-slate-50 text-slate-600 rounded-xl",children:n.jsx(Cr,{className:"w-5 h-5"})}),n.jsx("button",{onClick:()=>O(_.id),className:"p-2.5 bg-red-50 text-red-600 rounded-xl",children:n.jsx(Wt,{className:"w-5 h-5"})})]})]})]},`mobile-pc-${_.id}`))})]})}),N&&x&&n.jsx(Ca,{service:x,onClose:()=>{w(!1),B(null)},darkMode:e}),C&&S&&n.jsx(_a,{service:S,onClose:()=>{E(!1),D(null)},darkMode:e})]})},eL=({service:e,onBack:t,onEdit:r,darkMode:s,company:a})=>{var E;if(!e)return null;const[i,o]=X.useState(!1),[A,l]=X.useState(null),[c,d]=X.useState(!1),[f,m]=X.useState(null),h=S=>{l(S),o(!0)},v=S=>{m(S),d(!0)},[b,N]=X.useState([]),[w,x]=X.useState(!1);X.useEffect(()=>{e!=null&&e.id&&B()},[e]);const B=async()=>{x(!0);try{const{data:{user:S}}=await je.auth.getUser();if(!S)return;const{data:D,error:R}=await je.from("servicio_fotos").select("*").eq("servicio_id",e.id).eq("user_id",S.id).eq("tipo_servicio","servicios_pc");if(R)throw R;const W=(D||[]).map(ne=>({...ne,uri:ne.foto_url||ne.url||ne.uri||""}));N(W)}catch(S){console.error("Error fetching photos:",S)}finally{x(!1)}},C=S=>`$${ct(S||0)}`;return n.jsxs("div",{className:"w-full min-h-screen p-6 md:p-10",children:[n.jsxs("div",{className:"max-w-7xl mx-auto bg-white rounded-3xl overflow-hidden shadow-2xl border border-blue-100",children:[n.jsx("div",{className:"p-8 bg-gradient-to-r from-blue-50 to-white border-b border-blue-100",children:n.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-6",children:[n.jsxs("div",{className:"flex items-center gap-5",children:[n.jsx("button",{onClick:t,className:"p-3 bg-white rounded-full shadow-sm hover:shadow-md transition-all text-slate-600 hover:text-blue-600",children:n.jsx(mi,{className:"w-6 h-6"})}),n.jsxs("div",{className:"flex items-start gap-4",children:[a!=null&&a.logo_uri?n.jsx("img",{src:a.logo_uri,alt:"Logo",className:"w-20 h-20 object-contain p-1 rounded-xl bg-white shadow-sm"}):n.jsx("div",{className:"w-20 h-20 bg-blue-600 rounded-2xl flex items-center justify-center text-white font-black text-3xl shadow-lg shadow-blue-600/20",children:((E=a==null?void 0:a.nombre)==null?void 0:E.charAt(0))||"C"}),n.jsxs("div",{className:"flex flex-col",children:[n.jsx("h2",{className:"text-2xl font-black text-slate-800 tracking-tight leading-tight",children:(a==null?void 0:a.nombre)||"Mi Empresa"}),(a==null?void 0:a.direccion)&&n.jsx("p",{className:"text-[10px] text-slate-500 max-w-[250px] leading-tight mt-1",children:a.direccion}),n.jsxs("div",{className:"flex flex-wrap gap-x-4 gap-y-1 mt-1",children:[(a==null?void 0:a.telefono)&&n.jsxs("p",{className:"text-[10px] font-bold text-slate-600",children:["Tel: ",a.telefono]}),(a==null?void 0:a.correo)&&n.jsx("p",{className:"text-[10px] font-bold text-slate-600",children:a.correo}),(a==null?void 0:a.rfc)&&n.jsxs("p",{className:"text-[10px] font-bold text-blue-600 uppercase",children:["RFC: ",a.rfc]})]}),n.jsxs("div",{className:"flex gap-3 mt-3 no-print",children:[n.jsxs("button",{onClick:()=>h(e),className:"px-4 py-1.5 bg-purple-600 text-white rounded-xl text-xs font-bold hover:bg-purple-700 transition-all flex items-center gap-2 shadow-sm",children:[n.jsx(Is,{className:"w-3.5 h-3.5"})," TICKET QR"]}),n.jsxs("button",{onClick:()=>v(e),className:"px-4 py-1.5 bg-slate-800 text-white rounded-xl text-xs font-bold hover:bg-slate-900 transition-all flex items-center gap-2 shadow-sm",children:[n.jsx(Ws,{className:"w-3.5 h-3.5"})," RECIBO"]}),n.jsxs("button",{onClick:()=>r(e),className:"px-4 py-1.5 bg-blue-600 text-white rounded-xl text-xs font-bold hover:bg-blue-700 transition-all flex items-center gap-2 shadow-sm",children:[n.jsx(Cr,{className:"w-3.5 h-3.5"})," EDITAR REPORTE"]})]})]})]})]}),n.jsxs("div",{className:"text-left md:text-right",children:[n.jsx("span",{className:"block text-[10px] font-black uppercase tracking-[0.3em] text-blue-400 mb-1",children:"Reparacin de PC"}),n.jsxs("h1",{className:"text-4xl font-black tracking-tighter text-slate-900 mb-2",children:["#",e.orden_numero]}),n.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-1.5 bg-slate-900 text-white rounded-xl shadow-lg",children:[n.jsx(ea,{className:"w-3.5 h-3.5 text-blue-400"}),n.jsx("span",{className:"text-xs font-mono font-bold",children:Xr(e.fecha)})]})]})]})}),n.jsxs("div",{className:"p-8 md:p-10 grid grid-cols-1 lg:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"p-6 rounded-2xl bg-gradient-to-br from-blue-50 to-white border border-blue-100",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[n.jsx(Ls,{className:"w-5 h-5 text-blue-600"}),n.jsx("h3",{className:"text-sm font-bold uppercase tracking-wider text-blue-600",children:"Cliente"})]}),n.jsx("p",{className:"text-xl font-bold text-slate-800 mb-1",children:e.cliente_nombre}),n.jsx("p",{className:"text-sm text-slate-500",children:e.cliente_telefono})]}),n.jsxs("div",{className:"p-6 rounded-2xl bg-gradient-to-br from-orange-50 to-white border border-orange-100",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[n.jsx(Yl,{className:"w-5 h-5 text-orange-600"}),n.jsx("h3",{className:"text-sm font-bold uppercase tracking-wider text-orange-600",children:"Tcnico Responsable"})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-orange-400 to-orange-600 flex items-center justify-center text-white font-bold",children:e.tecnico_nombre?e.tecnico_nombre.charAt(0):"I"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-lg font-bold text-slate-800",children:e.tecnico_nombre||"Sin asignar"}),n.jsx("p",{className:"text-xs text-slate-500",children:"Asignado al servicio"})]})]})]})]}),n.jsxs("div",{className:"p-6 rounded-2xl bg-gradient-to-br from-purple-50 to-white border border-purple-100",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[n.jsx(ld,{className:"w-5 h-5 text-purple-600"}),n.jsx("h3",{className:"text-sm font-bold uppercase tracking-wider text-purple-600",children:"Dispositivo"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-slate-500 uppercase tracking-wide mb-1",children:"Equipo"}),n.jsxs("p",{className:"text-base font-semibold text-slate-800",children:[e.equipo_tipo,"  ",e.equipo_modelo]})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-slate-500 uppercase tracking-wide mb-1",children:"Nmero de Serie"}),n.jsx("p",{className:"text-base font-mono text-slate-600",children:e.equipo_serie})]})]})]}),n.jsxs("div",{className:"p-6 rounded-2xl bg-gradient-to-br from-cyan-50 to-white border border-cyan-100",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[n.jsx(Nr,{className:"w-5 h-5 text-cyan-600"}),n.jsx("h3",{className:"text-sm font-bold uppercase tracking-wider text-cyan-600",children:"Informe Tcnico"})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-slate-500 uppercase tracking-wide mb-2 font-bold",children:"Problema Reportado"}),n.jsxs("div",{className:"p-3 rounded-lg bg-red-50 border border-red-200",children:[(e.problema_reportado||"").split(`
`).map((S,D)=>S.trim()&&n.jsxs("div",{className:"flex gap-2 items-start mb-1 last:mb-0",children:[n.jsx(Wn,{className:"w-4 h-4 text-red-500 mt-0.5 flex-shrink-0",strokeWidth:3}),n.jsx("span",{className:"text-sm text-red-800",children:S})]},D)),!e.problema_reportado&&n.jsx("p",{className:"text-sm text-red-600 italic",children:"No especificado"})]})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-slate-500 uppercase tracking-wide mb-2 font-bold",children:"Diagnstico Realizado"}),n.jsxs("div",{className:"p-3 rounded-lg bg-blue-50 border border-blue-200",children:[(e.diagnostico_tecnico||"").split(`
`).map((S,D)=>S.trim()&&n.jsxs("div",{className:"flex gap-2 items-start mb-1 last:mb-0",children:[n.jsx(Wn,{className:"w-4 h-4 text-blue-500 mt-0.5 flex-shrink-0",strokeWidth:3}),n.jsx("span",{className:"text-sm text-blue-800",children:S})]},D)),!e.diagnostico_tecnico&&n.jsx("p",{className:"text-sm text-blue-600 italic",children:"Diagnstico pendiente..."})]})]}),e.trabajo_realizado&&n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-slate-500 uppercase tracking-wide mb-2 font-bold",children:"Trabajo Realizado"}),n.jsx("div",{className:"p-3 rounded-lg bg-green-50 border border-green-200",children:(Array.isArray(e.trabajo_realizado)?e.trabajo_realizado:typeof e.trabajo_realizado=="string"?e.trabajo_realizado.split(","):[]).map((S,D)=>n.jsxs("div",{className:"flex gap-2 items-start mb-1 last:mb-0",children:[n.jsx(Wn,{className:"w-4 h-4 text-green-500 mt-0.5 flex-shrink-0",strokeWidth:3}),n.jsx("span",{className:"text-sm text-green-800",children:typeof S=="string"?S:JSON.stringify(S)})]},D))})]}),e.repuestos_descripcion&&e.repuestos_descripcion!=="[]"&&n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-slate-500 uppercase tracking-wide mb-2 font-bold",children:"Repuestos & Materiales"}),n.jsx("div",{className:"p-3 rounded-lg bg-slate-50 border border-slate-200",children:(()=>{try{if(e.repuestos_descripcion&&e.repuestos_descripcion.startsWith("[")){const S=JSON.parse(e.repuestos_descripcion);return n.jsxs("div",{className:"w-full",children:[n.jsxs("div",{className:"flex text-xs font-bold text-slate-500 border-b border-slate-200 pb-2 mb-2",children:[n.jsx("div",{className:"w-12 text-center",children:"Cant"}),n.jsx("div",{className:"flex-1",children:"Articulo"}),n.jsx("div",{className:"w-24 text-right",children:"Precio U."}),n.jsx("div",{className:"w-24 text-right",children:"Total"})]}),n.jsx("div",{className:"space-y-1",children:S.map((D,R)=>n.jsxs("div",{className:"flex items-start text-sm py-1 border-b border-slate-100 last:border-0",children:[n.jsx("div",{className:"w-12 text-center text-slate-500",children:D.cantidad||1}),n.jsx("div",{className:"flex-1 text-slate-700 font-medium",children:D.producto||D.descripcion}),n.jsxs("div",{className:"w-24 text-right text-slate-600 font-mono",children:["$",ct(D.costoPublico||D.precio_publico||0)]}),n.jsxs("div",{className:"w-24 text-right text-slate-800 font-mono font-bold",children:["$",ct((D.cantidad||1)*(D.costoPublico||D.precio_publico||0))]})]},R))})]})}return n.jsx("p",{className:"text-sm text-slate-700",children:e.repuestos_descripcion})}catch{return n.jsx("p",{className:"text-sm text-slate-700",children:e.repuestos_descripcion})}})()})]}),e.observaciones&&n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-slate-500 uppercase tracking-wide mb-2 font-bold",children:"Observaciones"}),n.jsx("div",{className:"p-3 rounded-lg bg-amber-50 border border-amber-200",children:n.jsxs("p",{className:"text-sm text-amber-800 italic",children:['"',e.observaciones,'"']})})]})]})]})]}),n.jsx("div",{className:"lg:col-span-1",children:n.jsxs("div",{className:"p-6 rounded-2xl bg-gradient-to-br from-blue-50 to-white border border-blue-100 sticky top-6",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[n.jsx(Js,{className:"w-5 h-5 text-blue-600"}),n.jsx("h3",{className:"text-sm font-bold uppercase tracking-wider text-blue-600",children:"Resumen Financiero"})]}),n.jsxs("div",{className:"space-y-3 mb-6",children:[n.jsxs("div",{className:"flex justify-between items-center text-sm",children:[n.jsx("span",{className:"text-slate-600",children:"Mano de Obra"}),n.jsx("span",{className:"font-semibold text-slate-800",children:C(e.mano_obra)})]}),n.jsxs("div",{className:"flex justify-between items-center text-sm",children:[n.jsx("span",{className:"text-slate-600",children:"Repuestos"}),n.jsx("span",{className:"font-semibold text-slate-800",children:C(e.repuestos_costo)})]}),n.jsxs("div",{className:"flex justify-between items-center text-sm",children:[n.jsx("span",{className:"text-slate-600",children:"Subtotal"}),n.jsx("span",{className:"font-semibold text-slate-800",children:C(e.subtotal)})]})]}),n.jsxs("div",{className:"border-t border-slate-200 pt-4 mb-6",children:[n.jsx("p",{className:"text-xs text-blue-400 uppercase tracking-wider mb-2 text-center font-bold",children:"Total a Pagar"}),n.jsx("p",{className:"text-4xl font-black text-center text-blue-600",children:C(e.total)})]}),n.jsxs("div",{className:"space-y-2 p-4 rounded-xl bg-white border border-slate-200",children:[n.jsxs("div",{className:"flex justify-between items-center text-sm",children:[n.jsx("span",{className:"text-slate-600 font-bold uppercase text-xs",children:"Anticipo"}),n.jsxs("span",{className:"font-bold text-blue-600",children:["-",C(e.anticipo)]})]}),n.jsxs("div",{className:"flex justify-between items-center text-sm pt-2 border-t border-dashed border-slate-300",children:[n.jsx("span",{className:"text-slate-800 font-bold uppercase text-xs",children:"Restante"}),n.jsx("span",{className:"font-bold text-rose-600",children:C((e.total||0)-(e.anticipo||0))})]})]})]})})]}),(e.firma_tecnico_path||e.firma_cliente_path)&&n.jsxs("div",{className:"px-8 md:px-10 pb-8 grid grid-cols-2 gap-6",children:[e.firma_tecnico_path&&n.jsxs("div",{className:"p-6 rounded-2xl bg-slate-50 border border-slate-200 flex flex-col items-center justify-center",children:[n.jsx("img",{src:e.firma_tecnico_path,alt:"Firma Tcnico",className:"h-16 object-contain mb-3 mix-blend-multiply"}),n.jsx("p",{className:"text-xs uppercase tracking-widest text-slate-400",children:"Firma del Tcnico"})]}),e.firma_cliente_path&&n.jsxs("div",{className:"p-6 rounded-2xl bg-slate-50 border border-slate-200 flex flex-col items-center justify-center",children:[n.jsx("img",{src:e.firma_cliente_path,alt:"Firma Cliente",className:"h-16 object-contain mb-3 mix-blend-multiply"}),n.jsx("p",{className:"text-xs uppercase tracking-widest text-slate-400",children:"Firma de Conformidad"})]})]}),n.jsxs("div",{className:"px-8 md:px-10 pb-10",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[n.jsx(bs,{className:"w-5 h-5 text-purple-600"}),n.jsx("h3",{className:"text-sm font-bold uppercase tracking-wider text-purple-600",children:"Evidencia Fotogrfica"})]}),w?n.jsx("div",{className:"flex justify-center p-12",children:n.jsx(Mr,{className:"animate-spin w-8 h-8 text-blue-500"})}):b.length===0?n.jsx("div",{className:"p-12 rounded-xl border border-dashed border-slate-300 text-center text-slate-400",children:"No se han adjuntado fotografas a este servicio."}):n.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4",children:b.map(S=>n.jsxs("div",{className:"group relative aspect-square rounded-xl overflow-hidden border border-slate-200 shadow-sm cursor-pointer transition-all hover:shadow-lg hover:scale-105",children:[n.jsx("img",{src:S.uri,alt:`Evidencia ${S.id}`,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-110"}),n.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/40 transition-colors flex items-center justify-center opacity-0 group-hover:opacity-100",children:n.jsx("button",{onClick:()=>window.open(S.uri,"_blank"),className:"bg-white text-slate-800 p-3 rounded-full shadow-lg transform scale-90 group-hover:scale-100 transition-transform",children:n.jsx(pr,{className:"w-5 h-5"})})})]},S.id))})]})]}),i&&A&&n.jsx(Ca,{service:A,onClose:()=>{o(!1),l(null)},darkMode:s}),c&&f&&n.jsx(_a,{service:f,onClose:()=>{d(!1),m(null)},darkMode:s})]})},tL=({darkMode:e,onNavigate:t,setSelectedService:r,setEditingCCTVService:s,setEditingPCService:a,setEditingPhoneService:i,setEditingPrinterService:o,setEditingNetworkService:A,onShowNotaVenta:l,user:c,refreshTrigger:d})=>{const[f,m]=X.useState([]),[h,v]=X.useState(!0),[b,N]=X.useState(!1),[w,x]=X.useState(!1),[B,C]=X.useState(""),[E,S]=X.useState({key:"fecha",direction:"desc"}),[D,R]=X.useState(!1),[W,ne]=X.useState(null),[k,L]=X.useState(!1),[O,_]=X.useState(null),[K,Q]=X.useState(20),[I,U]=X.useState(1),V=[{id:"cctv",title:"CCTV",icon:hb,color:"text-blue-500",bg:"bg-blue-500/10",implemented:!0,table:"servicios_cctv"},{id:"pc",title:"PC",icon:ld,color:"text-indigo-500",bg:"bg-indigo-500/10",implemented:!0,table:"servicios_pc"},{id:"celulares",title:"Celulares",icon:qu,color:"text-rose-500",bg:"bg-rose-500/10",implemented:!0,table:"servicios_celular"},{id:"impresoras",title:"Impresoras",icon:zu,color:"text-purple-500",bg:"bg-purple-500/10",implemented:!0,table:"servicios_impresora"},{id:"redes",title:"Redes",icon:fb,color:"text-cyan-500",bg:"bg-cyan-500/10",implemented:!0,table:"servicios_redes"}],Z=ae=>{if(!ae)return 0;if(/^\d{4}-\d{2}-\d{2}$/.test(ae)){const ve=new Date(ae+"T00:00:00");if(!isNaN(ve.getTime()))return ve.getTime()}if(/^\d{1,2}\/\d{1,2}\/\d{4}$/.test(ae)){const ve=ae.split("/");return new Date(`${ve[2]}-${ve[1].padStart(2,"0")}-${ve[0].padStart(2,"0")}T00:00:00`).getTime()}const De=new Date(ae);return isNaN(De.getTime())?0:De.getTime()},me=async()=>{if(c){N(!0);try{const{data:ae}=await je.from("servicios_cctv").select("*").eq("user_id",c.id),{data:De}=await je.from("servicios_pc").select("*").eq("user_id",c.id),{data:ve}=await je.from("servicios_celulares").select("*").eq("user_id",c.id),{data:Y}=await je.from("servicios_impresoras").select("*").eq("user_id",c.id),{data:at}=await je.from("servicios_redes").select("*").eq("user_id",c.id),{data:ze}=await je.from("servicio_fotos").select("servicio_id, tipo_servicio").eq("user_id",c.id),Ee=new Set;ze==null||ze.forEach(de=>Ee.add(`${de.tipo_servicio}-${de.servicio_id}`));const Te=[...(ae||[]).map(de=>({...de,id:de.id,type:"CCTV",folio:de.servicio_numero,cliente:de.cliente_nombre,fecha:de.servicio_fecha||de.created_at,total:de.total,original:de,tableName:"servicios_cctv",hasPhotos:Ee.has(`servicios_cctv-${de.id}`)})),...(De||[]).map(de=>({...de,id:de.id,type:"PC",folio:de.orden_numero,cliente:de.cliente_nombre,fecha:de.fecha,total:de.total,original:de,tableName:"servicios_pc",hasPhotos:Ee.has(`servicios_pc-${de.id}`)})),...(ve||[]).map(de=>({...de,id:de.id,type:"Celular",folio:de.orden_numero,cliente:de.cliente_nombre,fecha:de.fecha,total:de.total,original:de,tableName:"servicios_celulares",hasPhotos:Ee.has(`servicios_celulares-${de.id}`)})),...(Y||[]).map(de=>({...de,id:de.id,type:"Impresora",folio:de.orden_numero,cliente:de.cliente_nombre,fecha:de.fecha,total:de.total,original:de,tableName:"servicios_impresoras",hasPhotos:Ee.has(`servicios_impresoras-${de.id}`)})),...(at||[]).map(de=>({...de,id:de.id,type:"Redes",folio:de.orden_numero,cliente:de.cliente_nombre,fecha:de.fecha,total:de.total,original:de,tableName:"servicios_redes",hasPhotos:Ee.has(`servicios_redes-${de.id}`)}))].sort((de,Oe)=>{const rt=Z(de.fecha);return Z(Oe.fecha)-rt});m(Te)}catch(ae){console.error("Error fetching unified services:",ae)}finally{v(!1),N(!1)}}};X.useEffect(()=>{me()},[d]);const F=ae=>{ne(ae.original),R(!0)},G=ae=>{_(ae.original),L(!0)},q=ae=>{let De="asc";E.key===ae&&E.direction==="asc"&&(De="desc"),S({key:ae,direction:De})},se=Pt.useMemo(()=>{let ae=[...f];return E.key!==null&&ae.sort((De,ve)=>{let Y=De[E.key],at=ve[E.key];if(E.key==="fecha"){const ze=Z(Y),Ee=Z(at);return ze===0?1:Ee===0?-1:E.direction==="asc"?ze-Ee:Ee-ze}return typeof Y=="string"&&(Y=Y.toLowerCase()),typeof at=="string"&&(at=at.toLowerCase()),Y<at?E.direction==="asc"?-1:1:Y>at?E.direction==="asc"?1:-1:0}),ae},[f,E]).filter(ae=>{var De,ve;return((De=ae.cliente)==null?void 0:De.toLowerCase().includes(B.toLowerCase()))||((ve=ae.folio)==null?void 0:ve.toString().includes(B))||ae.type.toLowerCase().includes(B.toLowerCase())}),Ae=K===-1?1:Math.ceil(se.length/K),we=K===-1?se:se.slice((I-1)*K,I*K);Pt.useEffect(()=>{U(1)},[B,K]);const ye=async ae=>{if(confirm("Ests seguro de eliminar este servicio?"))try{await ec(ae.id);const De="id",ve=ae.id,{error:Y}=await je.from(ae.tableName).delete().eq(De,ve);if(Y)throw Y;me()}catch(De){console.error("Error deleting service:",De),alert("Error al eliminar servicio")}},Ie=ae=>{ae.type==="CCTV"?(r(ae.original),t("services-cctv-view")):ae.type==="PC"?(r(ae.original),t("services-pc-view")):ae.type==="Celular"?(r(ae.original),t("services-phone-view")):ae.type==="Impresora"?(r(ae.original),t("services-printer-view")):ae.type==="Redes"&&(r(ae.original),t("services-network-view"))},Ue=ae=>{ae.type==="CCTV"?(i(null),a(null),o(null),s(ae.original)):ae.type==="PC"?(i(null),s(null),o(null),a(ae.original)):ae.type==="Celular"?(a(null),s(null),o(null),i(ae.original)):ae.type==="Impresora"?(a(null),s(null),i(null),o(ae.original)):ae.type==="Redes"&&(a(null),s(null),i(null),o(null),A(ae.original))},Pe=ae=>{ae.implemented&&(x(!1),ae.id==="cctv"?(i(null),a(null),o(null),s("new")):ae.id==="pc"?(i(null),s(null),o(null),a("new")):ae.id==="celulares"?(a(null),s(null),o(null),i("new")):ae.id==="impresoras"?(a(null),s(null),i(null),o("new")):ae.id==="redes"&&(a(null),s(null),i(null),o(null),A("new")))};return n.jsxs("div",{className:"w-full px-4 md:px-8 py-8",children:[n.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-8 gap-4",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs("h1",{className:`text-3xl font-extrabold tracking-tight ${e?"text-slate-100":"text-slate-800"}`,children:["Gestin de ",n.jsx("span",{className:"text-blue-600",children:"Servicios"})]}),n.jsx("button",{onClick:me,className:`p-2 rounded-full transition-all hover:scale-110 ${e?"hover:bg-slate-700 text-slate-400 hover:text-white":"hover:bg-slate-200 text-slate-500 hover:text-slate-800"}`,title:"Actualizar lista",children:n.jsx(mA,{className:`w-5 h-5 ${b?"animate-spin text-blue-600":""}`})})]}),n.jsxs("button",{onClick:()=>x(!0),className:"w-full md:w-auto btn bg-blue-600 text-white hover:bg-blue-700 shadow-xl shadow-blue-500/20 transform hover:-translate-y-1 px-8 py-4 rounded-2xl font-black transition-all flex items-center justify-center gap-3 text-lg",children:[n.jsx(Gs,{className:"w-6 h-6 stroke-[3]"}),"NUEVO SERVICIO"]})]}),n.jsxs("div",{className:"mb-6 flex flex-col md:flex-row gap-4",children:[n.jsxs("div",{className:"relative flex-1",children:[n.jsx(Vl,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 w-5 h-5 text-slate-400"}),n.jsx("input",{type:"text",placeholder:"Buscar por cliente, folio o tipo...",value:B,onChange:ae=>C(ae.target.value),className:`w-full pl-12 pr-4 py-4 rounded-2xl border transition-all ${e?"bg-slate-800 border-slate-700 text-slate-100 focus:border-blue-500":"bg-white border-slate-200 text-slate-900 focus:border-blue-500"} focus:outline-none focus:ring-4 focus:ring-blue-500/10 shadow-sm`})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:`text-sm font-medium whitespace-nowrap ${e?"text-slate-400":"text-slate-600"}`,children:"Mostrar:"}),n.jsxs("select",{value:K,onChange:ae=>Q(Number(ae.target.value)),className:`px-4 py-4 rounded-2xl border transition-all font-medium ${e?"bg-slate-800 border-slate-700 text-slate-100 hover:border-slate-600 hover:bg-slate-750":"bg-white border-slate-200 text-slate-900 hover:border-slate-300 hover:bg-slate-50"} focus:outline-none focus:border-blue-500 focus:ring-0 shadow-sm cursor-pointer`,children:[n.jsx("option",{value:10,children:"10"}),n.jsx("option",{value:20,children:"20"}),n.jsx("option",{value:50,children:"50"}),n.jsx("option",{value:-1,children:"Todos"})]})]})]}),n.jsx("div",{className:`md:rounded-[2rem] md:shadow-2xl md:border min-h-[600px] ${e?"md:bg-slate-800 md:border-slate-700":"md:bg-white md:border-slate-100"}`,children:h&&!b?n.jsxs("div",{className:"p-20 flex flex-col items-center justify-center gap-4",children:[n.jsx(Mr,{className:"w-10 h-10 animate-spin text-blue-600"}),n.jsx("p",{className:"text-slate-500 font-bold animate-pulse",children:"Cargando servicios..."})]}):se.length===0?n.jsxs("div",{className:"p-20 text-center flex flex-col items-center gap-4",children:[n.jsx("div",{className:"w-20 h-20 rounded-full bg-slate-100 flex items-center justify-center text-slate-400",children:n.jsx(Vl,{className:"w-10 h-10"})}),n.jsx("p",{className:"text-slate-500 font-medium",children:"No se encontraron servicios que coincidan con tu bsqueda."})]}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"hidden md:block",children:[n.jsxs("table",{className:"w-full text-left border-collapse",children:[n.jsx("thead",{children:n.jsxs("tr",{className:`${e?"bg-slate-900/50":"bg-slate-50/50"} border-b ${e?"border-slate-700":"border-slate-100"}`,children:[n.jsx("th",{onClick:()=>q("type"),className:"px-6 py-5 text-xs font-black uppercase tracking-widest text-slate-400 cursor-pointer hover:bg-slate-500/10 transition-colors select-none",children:n.jsxs("div",{className:"flex items-center gap-1",children:["Tipo",E.key==="type"&&(E.direction==="asc"?n.jsx(zs,{className:"w-3 h-3"}):n.jsx(Vs,{className:"w-3 h-3"}))]})}),n.jsx("th",{className:"px-6 py-5 text-xs font-black uppercase tracking-widest text-slate-400",children:"Folio"}),n.jsx("th",{onClick:()=>q("cliente"),className:"px-6 py-5 text-xs font-black uppercase tracking-widest text-slate-400 cursor-pointer hover:bg-slate-500/10 transition-colors select-none",children:n.jsxs("div",{className:"flex items-center gap-1",children:["Cliente",E.key==="cliente"&&(E.direction==="asc"?n.jsx(zs,{className:"w-3 h-3"}):n.jsx(Vs,{className:"w-3 h-3"}))]})}),n.jsx("th",{onClick:()=>q("fecha"),className:"px-6 py-5 text-xs font-black uppercase tracking-widest text-slate-400 cursor-pointer hover:bg-slate-500/10 transition-colors select-none",children:n.jsxs("div",{className:"flex items-center gap-1",children:["Fecha",E.key==="fecha"&&(E.direction==="asc"?n.jsx(zs,{className:"w-3 h-3"}):n.jsx(Vs,{className:"w-3 h-3"}))]})}),n.jsx("th",{onClick:()=>q("total"),className:"px-6 py-5 text-xs font-black uppercase tracking-widest text-slate-400 cursor-pointer hover:bg-slate-500/10 transition-colors select-none",children:n.jsxs("div",{className:"flex items-center gap-1",children:["Total",E.key==="total"&&(E.direction==="asc"?n.jsx(zs,{className:"w-3 h-3"}):n.jsx(Vs,{className:"w-3 h-3"}))]})}),n.jsx("th",{className:"px-6 py-5 text-xs font-black uppercase tracking-widest text-slate-400",children:"Estado"}),n.jsx("th",{className:"px-6 py-5 text-xs font-black uppercase tracking-widest text-slate-400 text-right",children:"Acciones"})]})}),n.jsx("tbody",{className:`divide-y ${e?"divide-slate-700":"divide-slate-100"}`,children:we.map(ae=>n.jsxs("tr",{className:`transition-colors ${e?"hover:bg-slate-700/50":"hover:bg-blue-50/30"}`,children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${ae.type==="CCTV"?"bg-blue-100 text-blue-800":ae.type==="PC"?"bg-indigo-100 text-indigo-800":ae.type==="Impresora"?"bg-purple-100 text-purple-800":ae.type==="Redes"?"bg-cyan-100 text-cyan-800":"bg-rose-100 text-rose-800"}`,children:ae.type})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("span",{className:"text-sm font-bold text-blue-600",children:["#",ae.folio]}),ae.hasPhotos&&n.jsx("div",{className:"bg-blue-100 p-1 rounded-full",title:"Tiene evidencia fotogrfica",children:n.jsx(bs,{className:"w-3 h-3 text-blue-600"})})]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("span",{className:`text-sm font-medium ${e?"text-slate-100":"text-slate-900"}`,children:ae.cliente})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("span",{className:`text-sm ${e?"text-slate-300":"text-slate-600"}`,children:Xr(ae.fecha)})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("span",{className:`text-sm font-bold ${e?"text-slate-100":"text-slate-900"}`,children:["$",ct(ae.total)]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx(Zn,{service:ae.original,darkMode:e,onStatusChange:me,tableName:ae.tableName})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right",children:n.jsxs("div",{className:"flex items-center justify-end gap-2",children:[ae.type!=="CCTV"&&ae.type!=="Redes"&&n.jsxs(n.Fragment,{children:[n.jsx("button",{onClick:()=>F(ae),className:"p-2 text-purple-600 hover:bg-purple-50 rounded-lg transition-colors",title:"Ver Ticket QR",children:n.jsx(Is,{className:"w-5 h-5"})}),n.jsx("button",{onClick:()=>G(ae),className:"p-2 text-slate-700 hover:bg-slate-100 rounded-lg transition-colors",title:"Imprimir Ticket",children:n.jsx(Ws,{className:"w-5 h-5"})})]}),n.jsx("button",{onClick:()=>l(ae),className:"p-2 text-blue-500 hover:bg-blue-50 rounded-lg transition-colors",title:"Generar Nota de Venta",children:n.jsx(jr,{className:"w-5 h-5"})}),n.jsx("button",{onClick:()=>Ie(ae),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Ver Servicio",children:n.jsx(pr,{className:"w-5 h-5"})}),n.jsx("button",{onClick:()=>Ue(ae),className:"p-2 text-slate-600 hover:bg-slate-100 rounded-lg transition-colors",title:"Editar Servicio",children:n.jsx(Cr,{className:"w-5 h-5"})}),n.jsx("button",{onClick:()=>ye(ae),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Eliminar Servicio",children:n.jsx(Wt,{className:"w-5 h-5"})})]})})]},`${ae.tableName}-${ae.id||ae.folio}`))})]}),K!==-1&&Ae>1&&n.jsxs("div",{className:`px-6 py-4 border-t flex flex-col sm:flex-row items-center justify-between gap-4 ${e?"border-slate-700":"border-slate-100"}`,children:[n.jsxs("div",{className:`text-sm ${e?"text-slate-400":"text-slate-600"}`,children:["Mostrando ",(I-1)*K+1," a ",Math.min(I*K,se.length)," de ",se.length," servicios"]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("button",{onClick:()=>U(ae=>Math.max(1,ae-1)),disabled:I===1,className:`px-3 py-2 rounded-lg font-medium transition-all ${I===1?"opacity-50 cursor-not-allowed":"hover:bg-blue-50"} ${e?"text-slate-300 disabled:text-slate-600":"text-slate-700"}`,children:"Anterior"}),n.jsx("div",{className:"flex items-center gap-1",children:Array.from({length:Ae},(ae,De)=>De+1).map(ae=>{const De=ae===1||ae===Ae||ae>=I-1&&ae<=I+1;return ae===2&&I>3||ae===Ae-1&&I<Ae-2?n.jsx("span",{className:"px-2 text-slate-400",children:"..."},ae):De?n.jsx("button",{onClick:()=>U(ae),className:`px-3 py-2 rounded-lg font-medium transition-all ${ae===I?"bg-blue-600 text-white shadow-lg":e?"text-slate-300 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"}`,children:ae},ae):null})}),n.jsx("button",{onClick:()=>U(ae=>Math.min(Ae,ae+1)),disabled:I===Ae,className:`px-3 py-2 rounded-lg font-medium transition-all ${I===Ae?"opacity-50 cursor-not-allowed":"hover:bg-blue-50"} ${e?"text-slate-300 disabled:text-slate-600":"text-slate-700"}`,children:"Siguiente"})]})]})]}),n.jsxs("div",{className:"md:hidden flex flex-col gap-4 p-4 pb-24",children:[we.map(ae=>n.jsxs("div",{className:`rounded-2xl p-6 border shadow-sm ${e?"bg-slate-800 border-slate-700":"bg-white border-slate-100"}`,children:[n.jsxs("div",{className:"flex justify-between items-start mb-4",children:[n.jsxs("div",{className:"flex flex-col gap-1",children:[n.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-xs font-bold w-fit ${ae.type==="CCTV"?"bg-blue-100 text-blue-800":ae.type==="PC"?"bg-indigo-100 text-indigo-800":ae.type==="Impresora"?"bg-purple-100 text-purple-800":ae.type==="Redes"?"bg-cyan-100 text-cyan-800":"bg-rose-100 text-rose-800"}`,children:ae.type}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("span",{className:"text-lg font-bold text-blue-600",children:["#",ae.folio]}),ae.hasPhotos&&n.jsx("div",{className:"bg-blue-100 p-1 rounded-full",title:"Tiene evidencia fotogrfica",children:n.jsx(bs,{className:"w-4 h-4 text-blue-600"})})]})]}),n.jsxs("div",{className:"flex gap-2",children:[ae.type!=="CCTV"&&ae.type!=="Redes"&&n.jsxs(n.Fragment,{children:[n.jsx("button",{onClick:()=>F(ae),className:"p-2 text-purple-600 hover:bg-purple-50 rounded-lg transition-colors",title:"Ver Ticket QR",children:n.jsx(Is,{className:"w-5 h-5"})}),n.jsx("button",{onClick:()=>G(ae),className:"p-2 text-slate-700 hover:bg-slate-100 rounded-lg transition-colors",title:"Imprimir Ticket",children:n.jsx(Ws,{className:"w-5 h-5"})})]}),n.jsx("button",{onClick:()=>l(ae),className:"p-2 text-blue-500 hover:bg-blue-50 rounded-lg transition-colors",title:"Generar Nota de Venta",children:n.jsx(jr,{className:"w-5 h-5"})}),n.jsx("button",{onClick:()=>Ie(ae),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Ver Servicio",children:n.jsx(pr,{className:"w-5 h-5"})}),n.jsx("button",{onClick:()=>Ue(ae),className:"p-2 text-slate-600 hover:bg-slate-100 rounded-lg transition-colors",title:"Editar Servicio",children:n.jsx(Cr,{className:"w-5 h-5"})}),n.jsx("button",{onClick:()=>ye(ae),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Eliminar Servicio",children:n.jsx(Wt,{className:"w-5 h-5"})})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("p",{className:`text-xs font-bold uppercase tracking-wider mb-1 ${e?"text-slate-500":"text-slate-400"}`,children:"Cliente"}),n.jsx("p",{className:`font-medium text-lg ${e?"text-slate-200":"text-slate-900"}`,children:ae.cliente})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("p",{className:`text-xs font-bold uppercase tracking-wider mb-1 ${e?"text-slate-500":"text-slate-400"}`,children:"Fecha"}),n.jsx("p",{className:`text-sm ${e?"text-slate-300":"text-slate-600"}`,children:Xr(ae.fecha)})]}),n.jsxs("div",{children:[n.jsx("p",{className:`text-xs font-bold uppercase tracking-wider mb-1 ${e?"text-slate-500":"text-slate-400"}`,children:"Total"}),n.jsxs("p",{className:`text-lg font-bold ${e?"text-slate-100":"text-slate-900"}`,children:["$",ct(ae.total)]})]})]}),n.jsxs("div",{children:[n.jsx("p",{className:`text-xs font-bold uppercase tracking-wider mb-2 ${e?"text-slate-500":"text-slate-400"}`,children:"Estado"}),n.jsx(Zn,{service:ae.original,darkMode:e,onStatusChange:me,tableName:ae.tableName})]})]})]},`mobile-service-${ae.tableName}-${ae.id||ae.folio}`)),K!==-1&&Ae>1&&n.jsxs("div",{className:`mt-6 p-4 rounded-2xl border flex flex-col items-center gap-4 ${e?"bg-slate-800 border-slate-700":"bg-white border-slate-100"}`,children:[n.jsxs("div",{className:`text-sm text-center ${e?"text-slate-400":"text-slate-600"}`,children:["Mostrando ",(I-1)*K+1," a ",Math.min(I*K,se.length)," de ",se.length]}),n.jsxs("div",{className:"flex items-center gap-2 flex-wrap justify-center",children:[n.jsx("button",{onClick:()=>U(ae=>Math.max(1,ae-1)),disabled:I===1,className:`px-4 py-2 rounded-lg font-medium transition-all ${I===1?"opacity-50 cursor-not-allowed":"hover:bg-blue-50"} ${e?"text-slate-300 disabled:text-slate-600 bg-slate-700":"text-slate-700 bg-white border border-slate-200"}`,children:" Anterior"}),n.jsx("div",{className:"flex items-center gap-1",children:Array.from({length:Math.min(5,Ae)},(ae,De)=>{let ve;return Ae<=5||I<=3?ve=De+1:I>=Ae-2?ve=Ae-4+De:ve=I-2+De,n.jsx("button",{onClick:()=>U(ve),className:`px-3 py-2 rounded-lg font-medium transition-all ${ve===I?"bg-blue-600 text-white shadow-lg":e?"text-slate-300 bg-slate-700":"text-slate-700 bg-white border border-slate-200"}`,children:ve},ve)})}),n.jsx("button",{onClick:()=>U(ae=>Math.min(Ae,ae+1)),disabled:I===Ae,className:`px-4 py-2 rounded-lg font-medium transition-all ${I===Ae?"opacity-50 cursor-not-allowed":"hover:bg-blue-50"} ${e?"text-slate-300 disabled:text-slate-600 bg-slate-700":"text-slate-700 bg-white border border-slate-200"}`,children:"Siguiente "})]})]})]})]})}),w&&n.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 animate-in fade-in duration-300",children:n.jsx("div",{className:`w-full max-w-5xl rounded-[3rem] shadow-2xl overflow-hidden animate-in zoom-in-95 duration-300 ${e?"bg-slate-900 border border-slate-800":"bg-white"}`,children:n.jsxs("div",{className:"p-6 md:p-12",children:[n.jsxs("div",{className:"flex justify-between items-start md:items-center mb-8 md:mb-12 gap-4",children:[n.jsxs("div",{children:[n.jsx("h2",{className:`text-2xl md:text-4xl font-black tracking-tight mb-2 ${e?"text-white":"text-slate-900"}`,children:"Nuevo Servicio"}),n.jsx("p",{className:`text-sm md:text-lg font-medium ${e?"text-slate-400":"text-slate-500"}`,children:"Selecciona la categora del servicio a registrar"})]}),n.jsx("button",{onClick:()=>x(!1),className:`p-4 rounded-full transition-all hover:rotate-90 ${e?"bg-slate-800 text-slate-400 hover:text-white":"bg-slate-100 text-slate-500 hover:text-slate-900"}`,children:n.jsx(Kr,{className:"w-8 h-8"})})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:V.map(ae=>n.jsxs("button",{onClick:()=>Pe(ae),className:`relative group p-8 rounded-[2rem] border-2 transition-all text-left flex flex-col items-start gap-4 ${ae.implemented?e?"bg-slate-800 border-slate-700 hover:border-blue-500 hover:shadow-2xl hover:shadow-blue-500/10 hover:-translate-y-2":"bg-white border-slate-100 hover:border-blue-500 hover:shadow-2xl hover:shadow-blue-500/10 hover:-translate-y-2":"opacity-60 cursor-not-allowed border-dashed grayscale bg-slate-50 border-slate-200"}`,children:[n.jsx("div",{className:`w-16 h-16 rounded-2xl flex items-center justify-center transition-transform group-hover:scale-110 duration-300 ${ae.bg} ${ae.color}`,children:n.jsx(ae.icon,{className:"w-9 h-9 stroke-[2.5]"})}),n.jsxs("div",{children:[n.jsx("h3",{className:`text-xl font-black mb-1 ${e?"text-white":"text-slate-900"}`,children:ae.title}),n.jsx("p",{className:`text-sm font-medium ${e?"text-slate-400":"text-slate-500"}`,children:ae.implemented?`Registrar servicio de ${ae.title.toLowerCase()}`:"Prximamente..."})]}),!ae.implemented&&n.jsx("div",{className:"absolute top-4 right-4 bg-amber-100 text-amber-700 text-[10px] font-black px-2 py-1 rounded-full uppercase tracking-widest border border-amber-200",children:"Pendiente"}),ae.implemented&&n.jsx("div",{className:"absolute bottom-6 right-6 opacity-0 group-hover:opacity-100 transition-opacity translate-x-4 group-hover:translate-x-0",children:n.jsx(aU,{className:"w-6 h-6 text-blue-500 stroke-[3]"})})]},ae.id))})]})})}),D&&W&&n.jsx(Ca,{service:W,onClose:()=>{R(!1),ne(null)},darkMode:e}),k&&O&&n.jsx(_a,{service:O,onClose:()=>{L(!1),_(null)},darkMode:e})]})},rL=({darkMode:e,onNavigate:t,onViewService:r,onCreateNew:s,onEdit:a,onShowNotaVenta:i,user:o,refreshTrigger:A})=>{const[l,c]=X.useState([]),[d,f]=X.useState(!0),[m,h]=X.useState(!1),[v,b]=X.useState({key:"fecha",direction:"desc"}),[N,w]=X.useState(!1),[x,B]=X.useState(null),[C,E]=X.useState(!1),[S,D]=X.useState(null);X.useEffect(()=>{R()},[o,A]);const R=async()=>{if(o){h(!0);try{const{data:_,error:K}=await je.from("servicios_celulares").select("*").eq("user_id",o.id).order("fecha",{ascending:!1});if(K)throw K;c(_||[])}catch(_){console.error("Error loading Phone services:",_)}finally{f(!1),h(!1)}}},W=_=>{let K="asc";v.key===_&&v.direction==="asc"&&(K="desc"),b({key:_,direction:K})},ne=Pt.useMemo(()=>{let _=[...l];return v.key!==null&&_.sort((K,Q)=>{let I=K[v.key],U=Q[v.key];if(v.key.includes("fecha")){const V=Z=>{if(!Z)return 0;if(/^\d{4}-\d{2}-\d{2}$/.test(Z)){const G=new Date(Z+"T00:00:00");if(!isNaN(G.getTime()))return G.getTime()}const me=new Date(Z);if(!isNaN(me.getTime()))return me.getTime();const F=Z.split("/");return F.length===3?new Date(`${F[2]}-${F[1]}-${F[0]}T00:00:00`).getTime():0};I=V(I),U=V(U)}return I<U?v.direction==="asc"?-1:1:I>U?v.direction==="asc"?1:-1:0}),_},[l,v]),k=_=>{B(_),w(!0)},L=_=>{D(_),E(!0)},O=async _=>{if(confirm("Ests seguro de eliminar este servicio?"))try{await ec(_);const{error:K}=await je.from("servicios_celulares").delete().eq("id",_);if(K)throw K;c(l.filter(Q=>Q.id!==_))}catch(K){console.error("Error deleting service:",K),alert("Error al eliminar servicio")}};return d?n.jsx("div",{className:"flex justify-center p-12",children:n.jsx(Mr,{className:"animate-spin w-8 h-8 text-blue-600"})}):n.jsxs("div",{className:"w-full px-4 md:px-8 py-8",children:[n.jsxs("div",{className:"flex justify-between items-center mb-8",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs("h1",{className:`text-3xl font-extrabold tracking-tight ${e?"text-slate-100":"text-slate-800"}`,children:["Servicios ",n.jsx("span",{className:"text-rose-600",children:"Celulares"})]}),n.jsx("button",{onClick:R,className:`p-2 rounded-full transition-all hover:scale-110 ${e?"hover:bg-slate-700 text-slate-400 hover:text-white":"hover:bg-slate-200 text-slate-500 hover:text-slate-800"}`,title:"Actualizar lista",children:n.jsx(mA,{className:`w-5 h-5 ${m?"animate-spin text-rose-600":""}`})})]}),n.jsx("div",{className:"flex gap-2",children:n.jsxs("button",{onClick:s,className:"btn bg-rose-600 text-white hover:bg-rose-700 shadow-lg shadow-rose-500/30 transform hover:-translate-y-0.5 px-6 py-3 rounded-xl font-bold transition-all flex items-center gap-2",children:[n.jsx(Gs,{className:"w-5 h-5"}),"Nuevo Servicio"]})})]}),n.jsx("div",{className:`rounded-xl shadow-lg border min-h-[600px] ${e?"bg-slate-800 border-slate-700":"bg-white border-slate-100"}`,children:l.length===0?n.jsx("div",{className:"p-12 text-center text-slate-500",children:"No hay servicios de celulares registrados."}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"hidden md:block pb-64",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:`border-b ${e?"bg-slate-800/50 border-slate-700":"bg-gray-50/50 border-gray-200"}`,children:n.jsxs("tr",{children:[n.jsx("th",{onClick:()=>W("orden_numero"),className:`px-6 py-4 text-left text-xs font-bold uppercase tracking-wider cursor-pointer hover:bg-slate-500/10 transition-colors ${e?"text-slate-200":"text-slate-600"}`,children:n.jsxs("div",{className:"flex items-center gap-1",children:["No. Servicio",v.key==="orden_numero"&&(v.direction==="asc"?n.jsx(zs,{className:"w-3 h-3"}):n.jsx(Vs,{className:"w-3 h-3"}))]})}),n.jsx("th",{className:`px-6 py-4 text-left text-xs font-bold uppercase tracking-wider ${e?"text-slate-200":"text-slate-600"}`,children:"Cliente"}),n.jsx("th",{onClick:()=>W("fecha"),className:`px-6 py-4 text-left text-xs font-bold uppercase tracking-wider cursor-pointer hover:bg-slate-500/10 transition-colors ${e?"text-slate-200":"text-slate-600"}`,children:n.jsxs("div",{className:"flex items-center gap-1",children:["Fecha",v.key==="fecha"&&(v.direction==="asc"?n.jsx(zs,{className:"w-3 h-3"}):n.jsx(Vs,{className:"w-3 h-3"}))]})}),n.jsx("th",{className:`px-6 py-4 text-left text-xs font-bold uppercase tracking-wider ${e?"text-slate-200":"text-slate-600"}`,children:"Total"}),n.jsx("th",{className:`px-6 py-4 text-left text-xs font-bold uppercase tracking-wider ${e?"text-slate-200":"text-slate-600"}`,children:"Estado"}),n.jsx("th",{className:`px-6 py-4 text-right text-xs font-bold uppercase tracking-wider ${e?"text-slate-200":"text-slate-600"}`,children:"Acciones"})]})}),n.jsx("tbody",{className:`divide-y ${e?"divide-slate-600":"divide-slate-100"}`,children:ne.map(_=>n.jsxs("tr",{className:`transition-colors ${e?"hover:bg-slate-700/50":"hover:bg-rose-50/30"}`,children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("span",{className:"text-sm font-bold text-rose-600",children:["#",_.orden_numero]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("span",{className:`text-sm font-medium ${e?"text-slate-100":"text-slate-900"}`,children:_.cliente_nombre})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("span",{className:`text-sm ${e?"text-slate-300":"text-slate-600"}`,children:Xr(_.fecha)})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("span",{className:`text-sm font-bold ${e?"text-slate-100":"text-slate-900"}`,children:["$",ct(_.total)]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx(Zn,{service:_,darkMode:e,onStatusChange:R,tableName:"servicios_celulares"})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right",children:n.jsxs("div",{className:"flex items-center justify-end gap-2",children:[n.jsx("button",{onClick:()=>k(_),className:"p-2 text-purple-600 hover:bg-purple-50 rounded-lg transition-colors",title:"Ver QR de Seguimiento",children:n.jsx(Is,{className:"w-5 h-5"})}),n.jsx("button",{onClick:()=>L(_),className:"p-2 text-slate-700 hover:bg-slate-100 rounded-lg transition-colors",title:"Imprimir Ticket",children:n.jsx(Ws,{className:"w-5 h-5"})}),n.jsx("button",{onClick:()=>i({..._,type:"Celular",tableName:"servicios_celulares",original:_}),className:"p-2 text-blue-500 hover:bg-blue-50 rounded-lg transition-colors",title:"Generar Nota de Venta",children:n.jsx(jr,{className:"w-5 h-5"})}),_.pagado&&_.entregado?n.jsx("span",{className:"hidden sm:inline-block px-2 py-1 text-[10px] font-bold uppercase tracking-widest text-green-600 bg-green-500/10 backdrop-blur-md border border-green-500/20 rounded-md mr-2",children:"Pagado y Entregado"}):n.jsx("span",{className:"hidden sm:inline-block px-2 py-1 text-[10px] font-bold uppercase tracking-widest text-red-600 bg-red-500/10 backdrop-blur-md border border-red-500/20 rounded-md mr-2",children:"Pendiente de Entregar/Pagar"}),n.jsx("button",{onClick:()=>r(_),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Ver Servicio",children:n.jsx(pr,{className:"w-5 h-5"})}),n.jsx("button",{onClick:()=>a(_),className:"p-2 text-slate-600 hover:bg-slate-100 rounded-lg transition-colors",title:"Editar Servicio",children:n.jsx(Cr,{className:"w-5 h-5"})}),n.jsx("button",{onClick:()=>O(_.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Eliminar Servicio",children:n.jsx(Wt,{className:"w-5 h-5"})})]})})]},_.id))})]})}),n.jsx("div",{className:"md:hidden flex flex-col gap-4 p-4 pb-24",children:ne.map(_=>n.jsxs("div",{className:`rounded-2xl p-5 border shadow-sm ${e?"bg-slate-800 border-slate-700":"bg-white border-slate-100"}`,children:[n.jsxs("div",{className:"flex justify-between items-start mb-4",children:[n.jsxs("div",{children:[n.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-bold bg-rose-100 text-rose-800 mb-2",children:["#",_.orden_numero]}),n.jsx("h3",{className:`text-lg font-bold ${e?"text-slate-100":"text-slate-900"}`,children:_.cliente_nombre}),n.jsx("p",{className:`text-xs ${e?"text-slate-400":"text-slate-500"}`,children:Xr(_.fecha)})]}),n.jsx(Zn,{service:_,darkMode:e,onStatusChange:R,tableName:"servicios_celulares"})]}),n.jsxs("div",{className:"flex justify-between items-end border-t border-dashed pt-4 border-slate-200 dark:border-slate-700",children:[n.jsxs("div",{children:[n.jsx("p",{className:`text-xs font-bold uppercase tracking-wider mb-1 ${e?"text-slate-500":"text-slate-400"}`,children:"Total"}),n.jsxs("p",{className:`text-xl font-black ${e?"text-white":"text-slate-900"}`,children:["$",ct(_.total)]})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{onClick:()=>k(_),className:"p-2.5 bg-purple-50 text-purple-600 rounded-xl",children:n.jsx(Is,{className:"w-5 h-5"})}),n.jsx("button",{onClick:()=>L(_),className:"p-2.5 bg-slate-50 text-slate-600 rounded-xl",children:n.jsx(Ws,{className:"w-5 h-5"})}),n.jsx("button",{onClick:()=>i({..._,type:"Celular",tableName:"servicios_celulares",original:_}),className:"p-2.5 bg-blue-50 text-blue-500 rounded-xl",title:"Generar Nota de Venta",children:n.jsx(jr,{className:"w-5 h-5"})}),n.jsx("button",{onClick:()=>r(_),className:"p-2.5 bg-blue-50 text-blue-600 rounded-xl",children:n.jsx(pr,{className:"w-5 h-5"})}),n.jsx("button",{onClick:()=>a(_),className:"p-2.5 bg-slate-50 text-slate-600 rounded-xl",children:n.jsx(Cr,{className:"w-5 h-5"})}),n.jsx("button",{onClick:()=>O(_.id),className:"p-2.5 bg-red-50 text-red-600 rounded-xl",children:n.jsx(Wt,{className:"w-5 h-5"})})]})]})]},`mobile-phone-${_.id}`))})]})}),N&&x&&n.jsx(Ca,{service:x,onClose:()=>{w(!1),B(null)},darkMode:e}),C&&S&&n.jsx(_a,{service:S,onClose:()=>{E(!1),D(null)},darkMode:e})]})},sL=({service:e,onBack:t,onEdit:r,darkMode:s,company:a})=>{var E;if(!e)return null;const[i,o]=X.useState(!1),[A,l]=X.useState(null),[c,d]=X.useState(!1),[f,m]=X.useState(null),h=S=>{l(S),o(!0)},v=S=>{m(S),d(!0)},[b,N]=X.useState([]),[w,x]=X.useState(!1);X.useEffect(()=>{e!=null&&e.id&&B()},[e]);const B=async()=>{x(!0);try{const{data:S,error:D}=await je.from("servicio_fotos").select("*").eq("servicio_id",e.id).eq("tipo_servicio","servicios_celulares");if(D)throw D;N(S||[])}catch(S){console.error("Error fetching photos:",S)}finally{x(!1)}},C=S=>`$${ct(S||0)}`;return n.jsxs("div",{className:"w-full min-h-screen p-6 md:p-10",children:[n.jsxs("div",{className:"max-w-7xl mx-auto bg-white rounded-3xl overflow-hidden shadow-2xl border border-rose-100",children:[n.jsx("div",{className:"p-8 bg-gradient-to-r from-rose-50 to-white border-b border-rose-100",children:n.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-6",children:[n.jsxs("div",{className:"flex items-center gap-5",children:[n.jsx("button",{onClick:t,className:"p-3 bg-white rounded-full shadow-sm hover:shadow-md transition-all text-slate-600 hover:text-rose-600",children:n.jsx(mi,{className:"w-6 h-6"})}),n.jsxs("div",{className:"flex items-start gap-4",children:[a!=null&&a.logo_uri?n.jsx("img",{src:a.logo_uri,alt:"Logo",className:"w-20 h-20 object-contain p-1 rounded-xl bg-white shadow-sm"}):n.jsx("div",{className:"w-20 h-20 bg-rose-600 rounded-2xl flex items-center justify-center text-white font-black text-3xl shadow-lg shadow-rose-600/20",children:((E=a==null?void 0:a.nombre)==null?void 0:E.charAt(0))||"C"}),n.jsxs("div",{className:"flex flex-col",children:[n.jsx("h2",{className:"text-2xl font-black text-slate-800 tracking-tight leading-tight",children:(a==null?void 0:a.nombre)||"Mi Empresa"}),(a==null?void 0:a.direccion)&&n.jsx("p",{className:"text-[10px] text-slate-500 max-w-[250px] leading-tight mt-1",children:a.direccion}),n.jsxs("div",{className:"flex flex-wrap gap-x-4 gap-y-1 mt-1",children:[(a==null?void 0:a.telefono)&&n.jsxs("p",{className:"text-[10px] font-bold text-slate-600",children:["Tel: ",a.telefono]}),(a==null?void 0:a.correo)&&n.jsx("p",{className:"text-[10px] font-bold text-slate-600",children:a.correo}),(a==null?void 0:a.rfc)&&n.jsxs("p",{className:"text-[10px] font-bold text-rose-600 uppercase",children:["RFC: ",a.rfc]})]}),n.jsxs("div",{className:"flex gap-3 mt-3 no-print",children:[n.jsxs("button",{onClick:()=>h(e),className:"px-4 py-1.5 bg-purple-600 text-white rounded-xl text-xs font-bold hover:bg-purple-700 transition-all flex items-center gap-2 shadow-sm",children:[n.jsx(Is,{className:"w-3.5 h-3.5"})," TICKET QR"]}),n.jsxs("button",{onClick:()=>v(e),className:"px-4 py-1.5 bg-slate-800 text-white rounded-xl text-xs font-bold hover:bg-slate-900 transition-all flex items-center gap-2 shadow-sm",children:[n.jsx(Ws,{className:"w-3.5 h-3.5"})," RECIBO"]}),n.jsxs("button",{onClick:()=>r(e),className:"px-4 py-1.5 bg-rose-600 text-white rounded-xl text-xs font-bold hover:bg-rose-700 transition-all flex items-center gap-2 shadow-sm",children:[n.jsx(Cr,{className:"w-3.5 h-3.5"})," EDITAR REPORTE"]})]})]})]})]}),n.jsxs("div",{className:"text-left md:text-right",children:[n.jsx("span",{className:"block text-[10px] font-black uppercase tracking-[0.3em] text-rose-400 mb-1",children:"Reparacin de Celular"}),n.jsxs("h1",{className:"text-4xl font-black tracking-tighter text-slate-900 mb-2",children:["#",e.orden_numero]}),n.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-1.5 bg-slate-900 text-white rounded-xl shadow-lg",children:[n.jsx(ea,{className:"w-3.5 h-3.5 text-rose-400"}),n.jsx("span",{className:"text-xs font-mono font-bold",children:Xr(e.fecha)})]})]})]})}),n.jsxs("div",{className:"p-8 md:p-10 grid grid-cols-1 lg:grid-cols-3 gap-8 text-left",children:[n.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"p-6 rounded-3xl bg-slate-50 border border-slate-100 shadow-sm",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-4 text-blue-600",children:[n.jsx(Ls,{className:"w-5 h-5"}),n.jsx("h3",{className:"text-xs font-black uppercase tracking-widest",children:"Informacin del Cliente"})]}),n.jsx("p",{className:"text-xl font-bold text-slate-800 mb-1",children:e.cliente_nombre}),n.jsx("p",{className:"text-sm font-medium text-slate-500",children:e.cliente_telefono||"Sin telfono"})]}),n.jsxs("div",{className:"p-6 rounded-3xl bg-slate-50 border border-slate-100 shadow-sm",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-4 text-orange-600",children:[n.jsx(Ls,{className:"w-5 h-5"}),n.jsx("h3",{className:"text-xs font-black uppercase tracking-widest",children:"Atendido por"})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-10 h-10 rounded-full bg-orange-600 text-white flex items-center justify-center font-black",children:e.tecnico_nombre?e.tecnico_nombre.charAt(0):"T"}),n.jsx("p",{className:"text-xl font-bold text-slate-800",children:e.tecnico_nombre||"Pblico General"})]})]})]}),n.jsxs("div",{className:"p-8 rounded-3xl bg-slate-900 text-white shadow-xl relative overflow-hidden",children:[n.jsx("div",{className:"absolute top-0 right-0 p-8 opacity-10",children:n.jsx(qu,{className:"w-32 h-32"})}),n.jsxs("div",{className:"relative z-10",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-6 text-rose-400",children:[n.jsx(qu,{className:"w-5 h-5"}),n.jsx("h3",{className:"text-xs font-black uppercase tracking-widest",children:"Detalles del Dispositivo"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-[10px] font-black text-rose-400 uppercase tracking-widest mb-1",children:"Modelo / Equipo"}),n.jsx("p",{className:"text-xl font-bold",children:e.equipo_modelo})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-[10px] font-black text-rose-400 uppercase tracking-widest mb-1",children:"IMEI de Seguridad"}),n.jsx("p",{className:"text-xl font-mono font-bold tracking-tighter text-slate-300",children:e.equipo_imei||"----------------"})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-[10px] font-black text-rose-400 uppercase tracking-widest mb-1",children:"Acceso / Pass"}),n.jsx("p",{className:"text-xl font-bold bg-white/10 px-3 py-1 rounded-lg inline-block",children:e.equipo_pass||"LIBRE"})]})]}),e.estado_fisico&&n.jsxs("div",{className:"mt-8 pt-6 border-t border-white/10",children:[n.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-2",children:"Estado Fsico Reportado"}),n.jsxs("p",{className:"text-sm italic text-slate-300",children:['"',e.estado_fisico,'"']})]})]})]}),n.jsxs("div",{className:"p-8 rounded-3xl border border-slate-100 bg-white shadow-sm space-y-8",children:[n.jsxs("div",{children:[n.jsxs("h3",{className:"text-xs font-black uppercase tracking-widest text-blue-600 mb-4 flex items-center gap-2",children:[n.jsx(Nr,{className:"w-4 h-4"})," TRABAJO REALIZADO"]}),n.jsx("div",{className:"p-5 bg-blue-50/50 rounded-2xl border border-blue-100",children:n.jsx("p",{className:"text-slate-700 leading-relaxed font-medium whitespace-pre-wrap",children:e.trabajo_realizado||"Sin descripcin de trabajo."})})]}),e.repuestos_descripcion&&e.repuestos_descripcion!=="[]"&&n.jsxs("div",{children:[n.jsxs("h3",{className:"text-xs font-black uppercase tracking-widest text-emerald-600 mb-4 flex items-center gap-2",children:[n.jsx(Js,{className:"w-4 h-4"})," REFACCIONES UTILIZADAS"]}),n.jsx("div",{className:"overflow-hidden rounded-2xl border border-slate-100",children:n.jsxs("table",{className:"w-full text-sm",children:[n.jsx("thead",{className:"bg-slate-50 text-[10px] font-black uppercase text-slate-400 border-b border-slate-100",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-5 py-3 text-center",children:"Cant"}),n.jsx("th",{className:"px-5 py-3 text-left",children:"Descripcin del Componente"}),n.jsx("th",{className:"px-5 py-3 text-right",children:"Precio"})]})}),n.jsx("tbody",{className:"divide-y divide-slate-50",children:(()=>{try{return JSON.parse(e.repuestos_descripcion).map((D,R)=>n.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[n.jsx("td",{className:"px-5 py-4 text-center font-bold text-slate-400",children:D.cantidad}),n.jsx("td",{className:"px-5 py-4 font-bold text-slate-700",children:D.producto||D.descripcion}),n.jsxs("td",{className:"px-5 py-4 text-right font-mono font-bold text-slate-900",children:["$",ct(D.costoPublico||D.precio_publico)]})]},R))}catch{return null}})()})]})})]}),e.observaciones&&n.jsxs("div",{children:[n.jsx("h3",{className:"text-xs font-black uppercase tracking-widest text-slate-400 mb-2",children:"NOTAS ADICIONALES"}),n.jsx("p",{className:"text-sm italic text-slate-500",children:e.observaciones})]})]})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"p-8 rounded-[2.5rem] bg-slate-900 text-white shadow-2xl sticky top-10",children:[n.jsx("h3",{className:"text-xs font-black uppercase tracking-widest text-rose-400 mb-8 border-b border-white/10 pb-4",children:"Resumen de Cuenta"}),n.jsxs("div",{className:"space-y-4 mb-8",children:[n.jsxs("div",{className:"flex justify-between items-center text-sm",children:[n.jsx("span",{className:"text-slate-400 font-bold uppercase text-[10px] tracking-widest",children:"Servicio / M.O."}),n.jsx("span",{className:"font-bold",children:C(e.mano_obra)})]}),n.jsxs("div",{className:"flex justify-between items-center text-sm",children:[n.jsx("span",{className:"text-slate-400 font-bold uppercase text-[10px] tracking-widest",children:"Refacciones"}),n.jsx("span",{className:"font-bold",children:C(e.repuestos_costo)})]}),e.incluir_iva&&n.jsxs("div",{className:"flex justify-between items-center text-sm",children:[n.jsx("span",{className:"text-slate-400 font-bold uppercase text-[10px] tracking-widest",children:"IVA (16%)"}),n.jsx("span",{className:"font-bold",children:C(e.iva)})]})]}),n.jsxs("div",{className:"bg-white/5 p-6 rounded-3xl border border-white/10 mb-8",children:[n.jsx("p",{className:"text-[10px] font-black uppercase tracking-[0.2em] text-rose-400 mb-2 text-center",children:"TOTAL NETO"}),n.jsx("p",{className:"text-5xl font-black text-center tracking-tighter text-white",children:C(e.total)})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex justify-between items-center p-3 rounded-2xl bg-emerald-500/10 border border-emerald-500/20",children:[n.jsx("span",{className:"text-[10px] font-black text-emerald-400 uppercase tracking-widest",children:"Anticipo"}),n.jsxs("span",{className:"font-black text-emerald-400",children:["-",C(e.anticipo)]})]}),n.jsxs("div",{className:"flex justify-between items-center p-4 rounded-2xl bg-rose-500 shadow-lg shadow-rose-500/20",children:[n.jsx("span",{className:"text-xs font-black text-rose-100 uppercase tracking-widest",children:"POR LIQUIDAR"}),n.jsx("span",{className:"text-2xl font-black text-white",children:C((e.total||0)-(e.anticipo||0))})]})]})]}),n.jsxs("div",{className:"p-6 rounded-3xl border border-slate-100 bg-white",children:[n.jsxs("h3",{className:"text-[10px] font-black uppercase tracking-widest text-slate-400 mb-4",children:["Evidencia (",b.length,")"]}),w?n.jsx(Mr,{className:"animate-spin w-5 h-5 text-slate-300 mx-auto"}):b.length===0?n.jsx("p",{className:"text-xs text-center text-slate-300 italic py-4 font-medium",children:"Sin fotografas adjuntas."}):n.jsx("div",{className:"grid grid-cols-2 gap-3",children:b.map(S=>n.jsxs("div",{className:"aspect-square rounded-2xl overflow-hidden border border-slate-100 group relative",children:[n.jsx("img",{src:S.uri,alt:"evidencia",className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500"}),n.jsx("button",{onClick:()=>window.open(S.uri,"_blank"),className:"absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:n.jsx(pr,{className:"w-5 h-5 text-white"})})]},S.id))})]})]})]})]}),i&&A&&n.jsx(Ca,{service:A,onClose:()=>{o(!1),l(null)},darkMode:s}),c&&f&&n.jsx(_a,{service:f,onClose:()=>{d(!1),m(null)},darkMode:s})]})},nL=({activeTab:e,setActiveTab:t,onLogout:r,userEmail:s,currentTheme:a,setTheme:i,mobileMode:o,toggleMobileMode:A,isOpen:l,onClose:c,companyLogo:d,companyName:f})=>{const m=C=>{t(C),o&&c&&c()},h=a==="glass",b=o?`fixed inset-y-0 left-0 z-50 w-64 ${a==="dark"?"bg-slate-900 border-r border-slate-800":"bg-blue-600"} ${h?"text-amber-900":"text-white"} transform transition-transform duration-300 ease-in-out shadow-2xl ${l?"translate-x-0":"-translate-x-full"} no-print`:`fixed inset-y-0 left-0 z-20 w-72 ${h?"text-amber-900":"text-white"} flex flex-col hidden md:flex ${h?"bg-white/30 backdrop-blur-2xl border-r border-orange-200/40 rounded-r-3xl":"bg-transparent"} no-print`,N=h?"text-amber-700/70":"text-blue-200",w=h?"hover:text-amber-950 hover:bg-amber-900/10 rounded-lg":"hover:text-white hover:bg-white/10 rounded-xl",x=h?"font-bold text-amber-950 bg-amber-900/20 rounded-lg shadow-sm":"font-bold text-white bg-white/20 rounded-xl shadow-sm",B=h?"text-amber-800":"text-blue-100";return n.jsxs(n.Fragment,{children:[o&&l&&n.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 backdrop-blur-sm",onClick:c}),n.jsxs("div",{className:b,children:[n.jsx("div",{className:"p-8 pb-4",children:n.jsxs("div",{className:"flex items-center gap-3 mb-1",children:[d?n.jsx("img",{src:d,alt:"Company Logo",className:"w-10 h-10 rounded-full object-cover"}):n.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center backdrop-blur-sm ${h?"bg-white/40 text-slate-800 shadow-sm":"bg-white/20 text-white"}`,children:n.jsx("span",{className:"font-bold text-xl",children:(f==null?void 0:f[0])||"C"})}),n.jsxs("div",{children:[n.jsx("h2",{className:"font-bold text-lg leading-tight",children:f||"Empresa"}),n.jsx("p",{className:`text-xs ${N}`,children:s})]})]})}),n.jsx("div",{className:"flex-1 overflow-y-auto px-8 py-4 space-y-8 scrollbar-hide",children:n.jsxs("div",{children:[n.jsx("h3",{className:`text-[10px] font-bold tracking-widest mb-4 uppercase ${N}`,children:"Men"}),n.jsxs("ul",{className:"space-y-1",children:[n.jsx("li",{children:n.jsx("div",{className:"space-y-1",children:n.jsx("button",{onClick:()=>m("cotizaciones-list"),className:`w-full flex items-center justify-between text-left py-2 px-3 transition-all ${["cotizaciones-list","cotizaciones-new"].includes(e)?x:`${B} ${w}`}`,children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(jr,{className:"w-4 h-4"}),n.jsx("span",{children:"Cotizaciones"})]})})})}),n.jsx("li",{children:n.jsx("button",{onClick:()=>m("clientes"),className:`w-full flex items-center justify-between text-left py-2 px-3 transition-all ${e==="clientes"?x:`${B} ${w}`}`,children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Ls,{className:"w-4 h-4"}),n.jsx("span",{children:"Clientes"})]})})}),n.jsx("li",{children:n.jsx("button",{onClick:()=>m("servicios"),className:`w-full flex items-center justify-between text-left py-2 px-3 transition-all ${e==="servicios"?x:`${B} ${w}`}`,children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Nr,{className:"w-4 h-4"}),n.jsx("span",{children:"Servicios"})]})})}),n.jsx("li",{children:n.jsx("button",{onClick:()=>m("contratos"),className:`w-full flex items-center justify-between text-left py-2 px-3 transition-all ${e==="contratos"?x:`${B} ${w}`}`,children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(jr,{className:"w-4 h-4"}),n.jsx("span",{children:"Contratos"})]})})}),n.jsx("li",{children:n.jsx("button",{onClick:()=>m("products"),className:`w-full flex items-center justify-between text-left py-2 px-3 transition-all ${e==="products"?x:`${B} ${w}`}`,children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Js,{className:"w-4 h-4"}),n.jsx("span",{children:"Productos"})]})})}),n.jsx("li",{children:n.jsx("button",{onClick:()=>m("informes"),className:`w-full flex items-center justify-between text-left py-2 px-3 transition-all ${e==="informes"?x:`${B} ${w}`}`,children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(uU,{className:"w-4 h-4"}),n.jsx("span",{children:"Informes"})]})})}),n.jsx("li",{className:"pt-4",children:n.jsxs("button",{onClick:()=>m("suscripcion"),className:`w-full group relative flex items-center justify-center gap-3 py-4 px-4 rounded-2xl font-black text-sm uppercase tracking-widest transition-all duration-300 shadow-xl overflow-hidden
                                        ${e==="suscripcion"?"bg-white text-blue-600 scale-95":"bg-gradient-to-r from-yellow-400 via-orange-500 to-pink-500 text-white hover:scale-105 hover:shadow-orange-500/40 active:scale-95"}`,children:[n.jsx(cA,{className:`w-5 h-5 fill-current ${e==="suscripcion"?"animate-pulse":"group-hover:animate-bounce"}`}),n.jsx("span",{children:"SUSCRBETE"}),n.jsx("div",{className:"absolute top-0 -left-full w-full h-full bg-gradient-to-r from-transparent via-white/30 to-transparent skew-x-[45deg] group-hover:left-[200%] transition-all duration-1000 ease-in-out"})]})})]})]})}),n.jsxs("div",{className:"p-8 pt-0 space-y-6",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsxs("button",{onClick:()=>m("configuracion"),className:`w-full flex items-center gap-3 text-left py-2 px-3 transition-all ${e==="configuracion"?x:`${B} ${w}`}`,children:[n.jsx(Nr,{className:"w-4 h-4"}),n.jsx("span",{children:"Configuracin"})]}),n.jsxs("button",{onClick:r,className:`w-full flex items-center gap-3 text-left py-2 px-3 transition-all ${B} ${w}`,children:[n.jsx(MU,{className:"w-4 h-4"}),n.jsx("span",{children:"Cerrar Sesin"})]})]}),n.jsxs("div",{className:`flex items-center gap-4 text-xs font-bold uppercase tracking-wider ${N}`,children:[n.jsx("button",{onClick:()=>m("contacto"),className:`${w} transition-colors`,children:"Contacto"}),n.jsx("button",{onClick:()=>m("changelog"),className:`${w} transition-colors`,children:"Changelog"})]}),n.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-full p-1 flex items-center w-max",children:[n.jsxs("button",{onClick:()=>i("blue"),className:`px-3 py-1.5 rounded-full text-xs font-bold transition-all flex items-center gap-1.5 ${a==="blue"?"bg-white text-blue-600 shadow-sm":"text-blue-200 hover:text-white"}`,children:[n.jsx("span",{className:`w-2 h-2 rounded-full ${a==="blue"?"bg-blue-600":"bg-transparent border border-blue-300"}`}),"Azul"]}),n.jsxs("button",{onClick:()=>i("glass"),className:`px-3 py-1.5 rounded-full text-xs font-bold transition-all flex items-center gap-1.5 ${a==="glass"?"bg-white text-amber-600 shadow-sm":"text-blue-200 hover:text-white"}`,children:[n.jsx(DB,{className:`w-3 h-3 ${a==="glass"?"text-amber-600":""}`}),"Claro"]}),n.jsxs("button",{onClick:()=>i("dark"),className:`px-3 py-1.5 rounded-full text-xs font-bold transition-all flex items-center gap-1.5 ${a==="dark"?"bg-slate-700 text-white shadow-sm":"text-blue-200 hover:text-white"}`,children:[n.jsx(RB,{className:`w-3 h-3 ${a==="dark"?"text-slate-300":""}`}),"Oscuro"]})]})]})]})]})},aL=({darkMode:e,onNavigate:t,onViewService:r,onCreateNew:s,onEdit:a,onShowNotaVenta:i,user:o,refreshTrigger:A})=>{const[l,c]=X.useState([]),[d,f]=X.useState(!0),[m,h]=X.useState(!1),[v,b]=X.useState({key:"fecha",direction:"desc"}),[N,w]=X.useState(!1),[x,B]=X.useState(null),[C,E]=X.useState(!1),[S,D]=X.useState(null);X.useEffect(()=>{R()},[o,A]);const R=async()=>{if(o){h(!0);try{const{data:_,error:K}=await je.from("servicios_impresoras").select("*").eq("user_id",o.id).order("fecha",{ascending:!1});if(K)throw K;c(_||[])}catch(_){console.error("Error loading Printer services:",_)}finally{f(!1),h(!1)}}},W=_=>{let K="asc";v.key===_&&v.direction==="asc"&&(K="desc"),b({key:_,direction:K})},ne=Pt.useMemo(()=>{let _=[...l];return v.key!==null&&_.sort((K,Q)=>{let I=K[v.key],U=Q[v.key];if(v.key.includes("fecha")){const V=Z=>{if(!Z)return 0;if(/^\d{4}-\d{2}-\d{2}$/.test(Z)){const G=new Date(Z+"T00:00:00");if(!isNaN(G.getTime()))return G.getTime()}const me=new Date(Z);if(!isNaN(me.getTime()))return me.getTime();const F=Z.split("/");return F.length===3?new Date(`${F[2]}-${F[1]}-${F[0]}T00:00:00`).getTime():0};I=V(I),U=V(U)}return I<U?v.direction==="asc"?-1:1:I>U?v.direction==="asc"?1:-1:0}),_},[l,v]),k=_=>{B(_),w(!0)},L=_=>{D(_),E(!0)},O=async _=>{if(confirm("Ests seguro de eliminar este servicio?"))try{await ec(_);const{error:K}=await je.from("servicios_impresoras").delete().eq("id",_);if(K)throw K;c(l.filter(Q=>Q.id!==_))}catch(K){console.error("Error deleting service:",K),alert("Error al eliminar servicio")}};return d?n.jsx("div",{className:"flex justify-center p-12",children:n.jsx(Mr,{className:"animate-spin w-8 h-8 text-purple-600"})}):n.jsxs("div",{className:"w-full px-4 md:px-8 py-8",children:[n.jsxs("div",{className:"flex justify-between items-center mb-8",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs("h1",{className:`text-3xl font-extrabold tracking-tight ${e?"text-slate-100":"text-slate-800"}`,children:["Servicios ",n.jsx("span",{className:"text-purple-600",children:"Impresoras"})]}),n.jsx("button",{onClick:R,className:`p-2 rounded-full transition-all hover:scale-110 ${e?"hover:bg-slate-700 text-slate-400 hover:text-white":"hover:bg-slate-200 text-slate-500 hover:text-slate-800"}`,title:"Actualizar lista",children:n.jsx(mA,{className:`w-5 h-5 ${m?"animate-spin text-purple-600":""}`})})]}),n.jsx("div",{className:"flex gap-2",children:n.jsxs("button",{onClick:s,className:"btn bg-purple-600 text-white hover:bg-purple-700 shadow-lg shadow-purple-500/30 transform hover:-translate-y-0.5 px-6 py-3 rounded-xl font-bold transition-all flex items-center gap-2",children:[n.jsx(Gs,{className:"w-5 h-5"}),"Nuevo Servicio"]})})]}),n.jsx("div",{className:`rounded-xl shadow-lg border min-h-[600px] ${e?"bg-slate-800 border-slate-700":"bg-white border-slate-100"}`,children:l.length===0?n.jsx("div",{className:"p-12 text-center text-slate-500",children:"No hay servicios de Impresoras registrados."}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"hidden md:block pb-64",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:`border-b ${e?"bg-slate-800/50 border-slate-700":"bg-gray-50/50 border-gray-200"}`,children:n.jsxs("tr",{children:[n.jsx("th",{onClick:()=>W("orden_numero"),className:`px-6 py-4 text-left text-xs font-bold uppercase tracking-wider cursor-pointer hover:bg-slate-500/10 transition-colors ${e?"text-slate-200":"text-slate-600"}`,children:n.jsxs("div",{className:"flex items-center gap-1",children:["No. Servicio",v.key==="orden_numero"&&(v.direction==="asc"?n.jsx(zs,{className:"w-3 h-3"}):n.jsx(Vs,{className:"w-3 h-3"}))]})}),n.jsx("th",{className:`px-6 py-4 text-left text-xs font-bold uppercase tracking-wider ${e?"text-slate-200":"text-slate-600"}`,children:"Cliente"}),n.jsx("th",{onClick:()=>W("fecha"),className:`px-6 py-4 text-left text-xs font-bold uppercase tracking-wider cursor-pointer hover:bg-slate-500/10 transition-colors ${e?"text-slate-200":"text-slate-600"}`,children:n.jsxs("div",{className:"flex items-center gap-1",children:["Fecha",v.key==="fecha"&&(v.direction==="asc"?n.jsx(zs,{className:"w-3 h-3"}):n.jsx(Vs,{className:"w-3 h-3"}))]})}),n.jsx("th",{className:`px-6 py-4 text-left text-xs font-bold uppercase tracking-wider ${e?"text-slate-200":"text-slate-600"}`,children:"Total"}),n.jsx("th",{className:`px-6 py-4 text-left text-xs font-bold uppercase tracking-wider ${e?"text-slate-200":"text-slate-600"}`,children:"Estado"}),n.jsx("th",{className:`px-6 py-4 text-right text-xs font-bold uppercase tracking-wider ${e?"text-slate-200":"text-slate-600"}`,children:"Acciones"})]})}),n.jsx("tbody",{className:`divide-y ${e?"divide-slate-600":"divide-slate-100"}`,children:ne.map(_=>n.jsxs("tr",{className:`transition-colors ${e?"hover:bg-slate-700/50":"hover:bg-purple-50/30"}`,children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("span",{className:"text-sm font-bold text-purple-600",children:["#",_.orden_numero]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("span",{className:`text-sm font-medium ${e?"text-slate-100":"text-slate-900"}`,children:_.cliente_nombre})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("span",{className:`text-sm ${e?"text-slate-300":"text-slate-600"}`,children:Xr(_.fecha)})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("span",{className:`text-sm font-bold ${e?"text-slate-100":"text-slate-900"}`,children:["$",ct(_.total)]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx(Zn,{service:_,tableName:"servicios_impresoras",darkMode:e,onStatusChange:R})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right",children:n.jsxs("div",{className:"flex items-center justify-end gap-2",children:[n.jsx("button",{onClick:()=>k(_),className:"p-2 text-purple-600 hover:bg-purple-50 rounded-lg transition-colors",title:"Ver QR de Seguimiento",children:n.jsx(Is,{className:"w-5 h-5"})}),n.jsx("button",{onClick:()=>L(_),className:"p-2 text-slate-700 hover:bg-slate-100 rounded-lg transition-colors",title:"Imprimir Ticket",children:n.jsx(Ws,{className:"w-5 h-5"})}),n.jsx("button",{onClick:()=>i({..._,type:"Impresora",tableName:"servicios_impresoras",original:_}),className:"p-2 text-blue-500 hover:bg-blue-50 rounded-lg transition-colors",title:"Generar Nota de Venta",children:n.jsx(jr,{className:"w-5 h-5"})}),_.pagado&&_.entregado?n.jsx("span",{className:"hidden sm:inline-block px-2 py-1 text-[10px] font-bold uppercase tracking-widest text-green-600 bg-green-500/10 backdrop-blur-md border border-green-500/20 rounded-md mr-2",children:"Pagado y Entregado"}):n.jsx("span",{className:"hidden sm:inline-block px-2 py-1 text-[10px] font-bold uppercase tracking-widest text-red-600 bg-red-500/10 backdrop-blur-md border border-red-500/20 rounded-md mr-2",children:"Pendiente de Entregar/Pagar"}),n.jsx("button",{onClick:()=>r(_),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Ver Servicio",children:n.jsx(pr,{className:"w-5 h-5"})}),n.jsx("button",{onClick:()=>a(_),className:"p-2 text-slate-600 hover:bg-slate-100 rounded-lg transition-colors",title:"Editar Servicio",children:n.jsx(Cr,{className:"w-5 h-5"})}),n.jsx("button",{onClick:()=>O(_.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Eliminar Servicio",children:n.jsx(Wt,{className:"w-5 h-5"})})]})})]},_.id))})]})}),n.jsx("div",{className:"md:hidden flex flex-col gap-4 p-4 pb-24",children:ne.map(_=>n.jsxs("div",{className:`rounded-2xl p-5 border shadow-sm ${e?"bg-slate-800 border-slate-700":"bg-white border-slate-100"}`,children:[n.jsxs("div",{className:"flex justify-between items-start mb-4",children:[n.jsxs("div",{children:[n.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-bold bg-purple-100 text-purple-800 mb-2",children:["#",_.orden_numero]}),n.jsx("h3",{className:`text-lg font-bold ${e?"text-slate-100":"text-slate-900"}`,children:_.cliente_nombre}),n.jsx("p",{className:`text-xs ${e?"text-slate-400":"text-slate-500"}`,children:Xr(_.fecha)})]}),n.jsx(Zn,{service:_,darkMode:e,onStatusChange:R,tableName:"servicios_impresoras"})]}),n.jsxs("div",{className:"flex justify-between items-end border-t border-dashed pt-4 border-slate-200 dark:border-slate-700",children:[n.jsxs("div",{children:[n.jsx("p",{className:`text-xs font-bold uppercase tracking-wider mb-1 ${e?"text-slate-500":"text-slate-400"}`,children:"Total"}),n.jsxs("p",{className:`text-xl font-black ${e?"text-white":"text-slate-900"}`,children:["$",ct(_.total)]})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{onClick:()=>k(_),className:"p-2.5 bg-purple-50 text-purple-600 rounded-xl",children:n.jsx(Is,{className:"w-5 h-5"})}),n.jsx("button",{onClick:()=>L(_),className:"p-2.5 bg-slate-50 text-slate-600 rounded-xl",children:n.jsx(Ws,{className:"w-5 h-5"})}),n.jsx("button",{onClick:()=>i({..._,type:"Impresora",tableName:"servicios_impresoras",original:_}),className:"p-2.5 bg-blue-50 text-blue-500 rounded-xl",title:"Generar Nota de Venta",children:n.jsx(jr,{className:"w-5 h-5"})}),n.jsx("button",{onClick:()=>r(_),className:"p-2.5 bg-blue-50 text-blue-600 rounded-xl",children:n.jsx(pr,{className:"w-5 h-5"})}),n.jsx("button",{onClick:()=>a(_),className:"p-2.5 bg-slate-50 text-slate-600 rounded-xl",children:n.jsx(Cr,{className:"w-5 h-5"})}),n.jsx("button",{onClick:()=>O(_.id),className:"p-2.5 bg-red-50 text-red-600 rounded-xl",children:n.jsx(Wt,{className:"w-5 h-5"})})]})]})]},`mobile-printer-${_.id}`))})]})}),N&&x&&n.jsx(Ca,{service:x,onClose:()=>{w(!1),B(null)},darkMode:e}),C&&S&&n.jsx(_a,{service:S,onClose:()=>{E(!1),D(null)},darkMode:e})]})},iL=({service:e,onBack:t,onEdit:r,darkMode:s,company:a})=>{var E;if(!e)return null;const[i,o]=X.useState(!1),[A,l]=X.useState(null),[c,d]=X.useState(!1),[f,m]=X.useState(null),h=S=>{l(S),o(!0)},v=S=>{m(S),d(!0)},[b,N]=X.useState([]),[w,x]=X.useState(!1);X.useEffect(()=>{e!=null&&e.id&&B()},[e]);const B=async()=>{x(!0);try{const{data:{user:S}}=await je.auth.getUser();if(!S)return;const{data:D,error:R}=await je.from("servicio_fotos").select("*").eq("servicio_id",e.id).eq("user_id",S.id).eq("tipo_servicio","servicios_impresoras");if(R)throw R;const W=(D||[]).map(ne=>({...ne,uri:ne.foto_url||ne.url||ne.uri||""}));N(W)}catch(S){console.error("Error fetching photos:",S)}finally{x(!1)}},C=S=>`$${ct(S||0)}`;return n.jsxs("div",{className:"w-full min-h-screen p-6 md:p-10",children:[n.jsxs("div",{className:"max-w-7xl mx-auto bg-white rounded-3xl overflow-hidden shadow-2xl border border-purple-100",children:[n.jsx("div",{className:"p-8 bg-gradient-to-r from-purple-50 to-white border-b border-purple-100",children:n.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-6",children:[n.jsxs("div",{className:"flex items-center gap-5",children:[n.jsx("button",{onClick:t,className:"p-3 bg-white rounded-full shadow-sm hover:shadow-md transition-all text-slate-600 hover:text-purple-600",children:n.jsx(mi,{className:"w-6 h-6"})}),n.jsxs("div",{className:"flex items-start gap-4",children:[a!=null&&a.logo_uri?n.jsx("img",{src:a.logo_uri,alt:"Logo",className:"w-20 h-20 object-contain p-1 rounded-xl bg-white shadow-sm"}):n.jsx("div",{className:"w-20 h-20 bg-purple-600 rounded-2xl flex items-center justify-center text-white font-black text-3xl shadow-lg shadow-purple-600/20",children:((E=a==null?void 0:a.nombre)==null?void 0:E.charAt(0))||"C"}),n.jsxs("div",{className:"flex flex-col",children:[n.jsx("h2",{className:"text-2xl font-black text-slate-800 tracking-tight leading-tight",children:(a==null?void 0:a.nombre)||"Mi Empresa"}),(a==null?void 0:a.direccion)&&n.jsx("p",{className:"text-[10px] text-slate-500 max-w-[250px] leading-tight mt-1",children:a.direccion}),n.jsxs("div",{className:"flex flex-wrap gap-x-4 gap-y-1 mt-1",children:[(a==null?void 0:a.telefono)&&n.jsxs("p",{className:"text-[10px] font-bold text-slate-600",children:["Tel: ",a.telefono]}),(a==null?void 0:a.correo)&&n.jsx("p",{className:"text-[10px] font-bold text-slate-600",children:a.correo}),(a==null?void 0:a.rfc)&&n.jsxs("p",{className:"text-[10px] font-bold text-purple-600 uppercase",children:["RFC: ",a.rfc]})]}),n.jsxs("div",{className:"flex gap-3 mt-3 no-print",children:[n.jsxs("button",{onClick:()=>h(e),className:"px-4 py-1.5 bg-purple-600 text-white rounded-xl text-xs font-bold hover:bg-purple-700 transition-all flex items-center gap-2 shadow-sm",children:[n.jsx(Is,{className:"w-3.5 h-3.5"})," TICKET QR"]}),n.jsxs("button",{onClick:()=>v(e),className:"px-4 py-1.5 bg-slate-800 text-white rounded-xl text-xs font-bold hover:bg-slate-900 transition-all flex items-center gap-2 shadow-sm",children:[n.jsx(Ws,{className:"w-3.5 h-3.5"})," RECIBO"]}),n.jsxs("button",{onClick:()=>r(e),className:"px-4 py-1.5 bg-purple-600 text-white rounded-xl text-xs font-bold hover:bg-purple-700 transition-all flex items-center gap-2 shadow-sm",children:[n.jsx(Cr,{className:"w-3.5 h-3.5"})," EDITAR REPORTE"]})]})]})]})]}),n.jsxs("div",{className:"text-left md:text-right",children:[n.jsx("span",{className:"block text-[10px] font-black uppercase tracking-[0.3em] text-purple-400 mb-1",children:"Reparacin de Impresora"}),n.jsxs("h1",{className:"text-4xl font-black tracking-tighter text-slate-900 mb-2",children:["#",e.orden_numero]}),n.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-1.5 bg-slate-900 text-white rounded-xl shadow-lg",children:[n.jsx(ea,{className:"w-3.5 h-3.5 text-purple-400"}),n.jsx("span",{className:"text-xs font-mono font-bold",children:Xr(e.fecha)})]})]})]})}),n.jsxs("div",{className:"p-8 md:p-10 grid grid-cols-1 lg:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"p-6 rounded-2xl bg-gradient-to-br from-blue-50 to-white border border-blue-100",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[n.jsx(Ls,{className:"w-5 h-5 text-blue-600"}),n.jsx("h3",{className:"text-sm font-bold uppercase tracking-wider text-blue-600",children:"Cliente"})]}),n.jsx("p",{className:"text-xl font-bold text-slate-800 mb-1",children:e.cliente_nombre}),n.jsx("p",{className:"text-sm text-slate-500",children:e.cliente_telefono})]}),n.jsxs("div",{className:"p-6 rounded-2xl bg-gradient-to-br from-orange-50 to-white border border-orange-100",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[n.jsx(Yl,{className:"w-5 h-5 text-orange-600"}),n.jsx("h3",{className:"text-sm font-bold uppercase tracking-wider text-orange-600",children:"Tcnico Responsable"})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-orange-400 to-orange-600 flex items-center justify-center text-white font-bold",children:e.tecnico_nombre?e.tecnico_nombre.charAt(0):"I"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-lg font-bold text-slate-800",children:e.tecnico_nombre||"Sin asignar"}),n.jsx("p",{className:"text-xs text-slate-500",children:"Asignado al servicio"})]})]})]})]}),n.jsxs("div",{className:"p-6 rounded-2xl bg-gradient-to-br from-purple-50 to-white border border-purple-100",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[n.jsx(zu,{className:"w-5 h-5 text-purple-600"}),n.jsx("h3",{className:"text-sm font-bold uppercase tracking-wider text-purple-600",children:"Dispositivo"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-slate-500 uppercase tracking-wide mb-1",children:"Equipo"}),n.jsxs("p",{className:"text-base font-semibold text-slate-800",children:[e.equipo_tipo,"  ",e.equipo_modelo]})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-slate-500 uppercase tracking-wide mb-1",children:"Nmero de Serie"}),n.jsx("p",{className:"text-base font-mono text-slate-600",children:e.equipo_serie})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-slate-500 uppercase tracking-wide mb-1",children:"Contador"}),n.jsx("p",{className:"text-base font-mono text-slate-600",children:e.equipo_contador})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-slate-500 uppercase tracking-wide mb-1",children:"Consumibles"}),n.jsx("p",{className:"text-base font-mono text-slate-600",children:e.estado_consumibles})]})]}),e.accesorios&&n.jsxs("div",{className:"mt-4 pt-4 border-t border-purple-100",children:[n.jsx("p",{className:"text-xs text-slate-500 uppercase tracking-wide mb-1",children:"Accesorios"}),n.jsx("div",{className:"flex flex-wrap gap-2",children:(()=>{try{let S=e.accesorios;return typeof S=="string"&&S.startsWith("[")&&(S=JSON.parse(S)),Array.isArray(S)?S.map((D,R)=>n.jsx("span",{className:"px-2 py-1 bg-purple-100 text-purple-700 rounded-md text-xs font-medium",children:D},R)):n.jsx("span",{className:"text-sm text-slate-700",children:e.accesorios})}catch{return n.jsx("span",{className:"text-sm text-slate-700",children:e.accesorios})}})()})]})]}),n.jsxs("div",{className:"p-6 rounded-2xl bg-gradient-to-br from-cyan-50 to-white border border-cyan-100",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[n.jsx(Nr,{className:"w-5 h-5 text-cyan-600"}),n.jsx("h3",{className:"text-sm font-bold uppercase tracking-wider text-cyan-600",children:"Informe Tcnico"})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-slate-500 uppercase tracking-wide mb-2 font-bold",children:"Problema Reportado"}),n.jsxs("div",{className:"p-3 rounded-lg bg-red-50 border border-red-200",children:[(e.problema_reportado||"").split(`
`).map((S,D)=>S.trim()&&n.jsxs("div",{className:"flex gap-2 items-start mb-1 last:mb-0",children:[n.jsx(Wn,{className:"w-4 h-4 text-red-500 mt-0.5 flex-shrink-0",strokeWidth:3}),n.jsx("span",{className:"text-sm text-red-800",children:S})]},D)),!e.problema_reportado&&n.jsx("p",{className:"text-sm text-red-600 italic",children:"No especificado"})]})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-slate-500 uppercase tracking-wide mb-2 font-bold",children:"Diagnstico Realizado"}),n.jsxs("div",{className:"p-3 rounded-lg bg-blue-50 border border-blue-200",children:[(e.diagnostico||"").split(`
`).map((S,D)=>S.trim()&&n.jsxs("div",{className:"flex gap-2 items-start mb-1 last:mb-0",children:[n.jsx(Wn,{className:"w-4 h-4 text-blue-500 mt-0.5 flex-shrink-0",strokeWidth:3}),n.jsx("span",{className:"text-sm text-blue-800",children:S})]},D)),!e.diagnostico&&n.jsx("p",{className:"text-sm text-blue-600 italic",children:"Diagnstico pendiente..."})]})]}),e.trabajo_realizado&&n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-slate-500 uppercase tracking-wide mb-2 font-bold",children:"Trabajo Realizado"}),n.jsx("div",{className:"p-3 rounded-lg bg-green-50 border border-green-200",children:(()=>{try{let S=e.trabajo_realizado;return typeof S=="string"&&S.startsWith("[")&&(S=JSON.parse(S)),Array.isArray(S)?S.map((D,R)=>n.jsxs("div",{className:"flex gap-2 items-start mb-1 last:mb-0",children:[n.jsx(Wn,{className:"w-4 h-4 text-green-500 mt-0.5 flex-shrink-0",strokeWidth:3}),n.jsx("span",{className:"text-sm text-green-800",children:D})]},R)):(typeof S=="string"?S.split(","):[]).map((D,R)=>n.jsxs("div",{className:"flex gap-2 items-start mb-1 last:mb-0",children:[n.jsx(Wn,{className:"w-4 h-4 text-green-500 mt-0.5 flex-shrink-0",strokeWidth:3}),n.jsx("span",{className:"text-sm text-green-800",children:D})]},R))}catch{return n.jsx("p",{className:"text-sm text-green-800",children:e.trabajo_realizado})}})()})]}),e.repuestos_descripcion&&e.repuestos_descripcion!=="[]"&&n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-slate-500 uppercase tracking-wide mb-2 font-bold",children:"Repuestos & Materiales"}),n.jsx("div",{className:"p-3 rounded-lg bg-slate-50 border border-slate-200",children:(()=>{try{if(e.repuestos_descripcion.startsWith("[")){const S=JSON.parse(e.repuestos_descripcion);return n.jsxs("div",{className:"w-full",children:[n.jsxs("div",{className:"flex text-xs font-bold text-slate-500 border-b border-slate-200 pb-2 mb-2",children:[n.jsx("div",{className:"w-12 text-center",children:"Cant"}),n.jsx("div",{className:"flex-1",children:"Articulo"}),n.jsx("div",{className:"w-20 text-right",children:"Precio"})]}),n.jsx("div",{className:"space-y-1",children:S.map((D,R)=>n.jsxs("div",{className:"flex items-start text-sm py-1 border-b border-slate-100 last:border-0",children:[n.jsx("div",{className:"w-12 text-center text-slate-500",children:D.cantidad||1}),n.jsx("div",{className:"flex-1 text-slate-700 font-medium",children:D.producto||D.descripcion}),n.jsxs("div",{className:"w-20 text-right text-slate-600 font-mono",children:["$",ct(D.costoPublico||D.precio_publico)]})]},R))})]})}return n.jsx("p",{className:"text-sm text-slate-700",children:e.repuestos_descripcion})}catch{return n.jsx("p",{className:"text-sm text-slate-700",children:e.repuestos_descripcion})}})()})]}),e.observaciones&&n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-slate-500 uppercase tracking-wide mb-2 font-bold",children:"Observaciones"}),n.jsx("div",{className:"p-3 rounded-lg bg-amber-50 border border-amber-200",children:n.jsxs("p",{className:"text-sm text-amber-800 italic",children:['"',e.observaciones,'"']})})]})]})]})]}),n.jsxs("div",{className:"lg:col-span-1",children:[n.jsxs("div",{className:"p-6 rounded-2xl bg-gradient-to-br from-purple-50 to-white border border-purple-100 sticky top-6",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[n.jsx(Js,{className:"w-5 h-5 text-purple-600"}),n.jsx("h3",{className:"text-sm font-bold uppercase tracking-wider text-purple-600",children:"Resumen Financiero"})]}),n.jsxs("div",{className:"space-y-3 mb-6",children:[n.jsxs("div",{className:"flex justify-between items-center text-sm",children:[n.jsx("span",{className:"text-slate-600",children:"Mano de Obra"}),n.jsx("span",{className:"font-semibold text-slate-800",children:C(e.mano_obra)})]}),n.jsxs("div",{className:"flex justify-between items-center text-sm",children:[n.jsx("span",{className:"text-slate-600",children:"Repuestos"}),n.jsx("span",{className:"font-semibold text-slate-800",children:C(e.costo_repuestos)})]}),n.jsxs("div",{className:"flex justify-between items-center text-sm",children:[n.jsx("span",{className:"text-slate-600",children:"Subtotal"}),n.jsx("span",{className:"font-semibold text-slate-800",children:C(e.subtotal)})]})]}),n.jsxs("div",{className:"border-t border-slate-200 pt-4 mb-6",children:[n.jsx("p",{className:"text-xs text-purple-400 uppercase tracking-wider mb-2 text-center font-bold",children:"Total a Pagar"}),n.jsx("p",{className:"text-4xl font-black text-center text-purple-600",children:C(e.total)})]}),n.jsxs("div",{className:"space-y-2 p-4 rounded-xl bg-white border border-slate-200",children:[n.jsxs("div",{className:"flex justify-between items-center text-sm",children:[n.jsx("span",{className:"text-slate-600 font-bold uppercase text-xs",children:"Anticipo"}),n.jsxs("span",{className:"font-bold text-purple-600",children:["-",C(e.anticipo)]})]}),n.jsxs("div",{className:"flex justify-between items-center text-sm pt-2 border-t border-dashed border-slate-300",children:[n.jsx("span",{className:"text-slate-800 font-bold uppercase text-xs",children:"Restante"}),n.jsx("span",{className:"font-bold text-rose-600",children:C((e.total||0)-(e.anticipo||0))})]})]})]}),n.jsxs("div",{className:"p-6 rounded-3xl border border-slate-100 bg-white mt-6",children:[n.jsxs("h3",{className:"text-[10px] font-black uppercase tracking-widest text-slate-400 mb-4",children:["Evidencia (",b.length,")"]}),w?n.jsx(Mr,{className:"animate-spin w-5 h-5 text-slate-300 mx-auto"}):b.length===0?n.jsx("p",{className:"text-xs text-center text-slate-300 italic py-4 font-medium",children:"Sin fotografas adjuntas."}):n.jsx("div",{className:"grid grid-cols-2 gap-3",children:b.map(S=>n.jsxs("div",{className:"aspect-square rounded-2xl overflow-hidden border border-slate-100 group relative",children:[n.jsx("img",{src:S.uri,alt:"evidencia",className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500"}),n.jsx("button",{onClick:()=>window.open(S.uri,"_blank"),className:"absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:n.jsx(pr,{className:"w-5 h-5 text-white"})})]},S.id))})]})]})]}),(e.firma_tecnico_path||e.firma_cliente_path)&&n.jsxs("div",{className:"px-8 md:px-10 pb-8 grid grid-cols-2 gap-6",children:[e.firma_tecnico_path&&n.jsxs("div",{className:"p-6 rounded-2xl bg-slate-50 border border-slate-200 flex flex-col items-center justify-center",children:[n.jsx("img",{src:e.firma_tecnico_path,alt:"Firma Tcnico",className:"h-16 object-contain mb-3 mix-blend-multiply"}),n.jsx("p",{className:"text-xs uppercase tracking-widest text-slate-400",children:"Firma del Tcnico"})]}),e.firma_cliente_path&&n.jsxs("div",{className:"p-6 rounded-2xl bg-slate-50 border border-slate-200 flex flex-col items-center justify-center",children:[n.jsx("img",{src:e.firma_cliente_path,alt:"Firma Cliente",className:"h-16 object-contain mb-3 mix-blend-multiply"}),n.jsx("p",{className:"text-xs uppercase tracking-widest text-slate-400",children:"Firma de Conformidad"})]})]})]}),i&&A&&n.jsx(Ca,{service:A,onClose:()=>{o(!1),l(null)},darkMode:s}),c&&f&&n.jsx(_a,{service:f,onClose:()=>{d(!1),m(null)},darkMode:s})]})},oL=({service:e,onBack:t,onEdit:r,darkMode:s,company:a})=>{var B;if(!e)return null;const[i,o]=X.useState(!1),[A,l]=X.useState(null),[c,d]=X.useState(!1),[f,m]=X.useState(null),[h,v]=X.useState([]),[b,N]=X.useState(!1);X.useEffect(()=>{e!=null&&e.id&&w()},[e]);const w=async()=>{N(!0);try{const{data:{user:C}}=await je.auth.getUser();if(!C)return;const{data:E,error:S}=await je.from("servicio_fotos").select("*").eq("servicio_id",e.id).eq("user_id",C.id).eq("tipo_servicio","servicios_redes");if(S)throw S;const D=(E||[]).map(R=>({...R,uri:R.foto_url||R.url||R.uri||""}));v(D)}catch(C){console.error("Error fetching photos:",C)}finally{N(!1)}},x=C=>`$${ct(C||0)}`;return n.jsxs("div",{className:"w-full min-h-screen p-6 md:p-10",children:[n.jsxs("div",{className:"max-w-7xl mx-auto bg-white rounded-3xl overflow-hidden shadow-2xl border border-cyan-100",children:[n.jsx("div",{className:"p-8 bg-gradient-to-r from-cyan-50 to-white border-b border-cyan-100",children:n.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-6",children:[n.jsxs("div",{className:"flex items-center gap-5",children:[n.jsx("button",{onClick:t,className:"p-3 bg-white rounded-full shadow-sm hover:shadow-md transition-all text-slate-600 hover:text-cyan-600",children:n.jsx(mi,{className:"w-6 h-6"})}),n.jsxs("div",{className:"flex items-start gap-4",children:[a!=null&&a.logo_uri?n.jsx("img",{src:a.logo_uri,alt:"Logo",className:"w-20 h-20 object-contain p-1 rounded-xl bg-white shadow-sm"}):n.jsx("div",{className:"w-20 h-20 bg-cyan-600 rounded-2xl flex items-center justify-center text-white font-black text-3xl shadow-lg shadow-cyan-600/20",children:((B=a==null?void 0:a.nombre)==null?void 0:B.charAt(0))||"C"}),n.jsxs("div",{className:"flex flex-col",children:[n.jsx("h2",{className:"text-2xl font-black text-slate-800 tracking-tight leading-tight",children:(a==null?void 0:a.nombre)||"Mi Empresa"}),(a==null?void 0:a.direccion)&&n.jsx("p",{className:"text-[10px] text-slate-500 max-w-[250px] leading-tight mt-1",children:a.direccion}),n.jsxs("div",{className:"flex flex-wrap gap-x-4 gap-y-1 mt-1",children:[(a==null?void 0:a.telefono)&&n.jsxs("p",{className:"text-[10px] font-bold text-slate-600",children:["Tel: ",a.telefono]}),(a==null?void 0:a.correo)&&n.jsx("p",{className:"text-[10px] font-bold text-slate-600",children:a.correo}),(a==null?void 0:a.rfc)&&n.jsxs("p",{className:"text-[10px] font-bold text-cyan-600 uppercase",children:["RFC: ",a.rfc]})]}),n.jsx("div",{className:"flex gap-3 mt-3 no-print",children:n.jsxs("button",{onClick:()=>r(e),className:"px-4 py-1.5 bg-cyan-600 text-white rounded-xl text-xs font-bold hover:bg-cyan-700 transition-all flex items-center gap-2 shadow-sm",children:[n.jsx(Cr,{className:"w-3.5 h-3.5"})," EDITAR REPORTE"]})})]})]})]}),n.jsxs("div",{className:"text-left md:text-right",children:[n.jsx("span",{className:"block text-[10px] font-black uppercase tracking-[0.3em] text-cyan-400 mb-1",children:"Servicio de Redes"}),n.jsxs("h1",{className:"text-4xl font-black tracking-tighter text-slate-900 mb-2",children:["#",e.orden_numero]}),n.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-1.5 bg-slate-900 text-white rounded-xl shadow-lg",children:[n.jsx(ea,{className:"w-3.5 h-3.5 text-cyan-400"}),n.jsx("span",{className:"text-xs font-mono font-bold",children:Xr(e.fecha)})]})]})]})}),n.jsxs("div",{className:"p-8 md:p-10 grid grid-cols-1 lg:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"p-6 rounded-2xl bg-gradient-to-br from-blue-50 to-white border border-blue-100",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[n.jsx(Ls,{className:"w-5 h-5 text-blue-600"}),n.jsx("h3",{className:"text-sm font-bold uppercase tracking-wider text-blue-600",children:"Cliente"})]}),n.jsx("p",{className:"text-xl font-bold text-slate-800 mb-1",children:e.cliente_nombre}),n.jsx("p",{className:"text-sm text-slate-500",children:e.cliente_telefono})]}),n.jsxs("div",{className:"p-6 rounded-2xl bg-gradient-to-br from-orange-50 to-white border border-orange-100",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[n.jsx(Yl,{className:"w-5 h-5 text-orange-600"}),n.jsx("h3",{className:"text-sm font-bold uppercase tracking-wider text-orange-600",children:"Tcnico Responsable"})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-orange-400 to-orange-600 flex items-center justify-center text-white font-bold",children:e.tecnico_nombre?e.tecnico_nombre.charAt(0):"I"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-lg font-bold text-slate-800",children:e.tecnico_nombre||"Sin asignar"}),n.jsx("p",{className:"text-xs text-slate-500",children:"Asignado al servicio"})]})]})]})]}),n.jsxs("div",{className:"p-6 rounded-2xl bg-gradient-to-br from-cyan-50 to-white border border-cyan-100",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[n.jsx(fb,{className:"w-5 h-5 text-cyan-600"}),n.jsx("h3",{className:"text-sm font-bold uppercase tracking-wider text-cyan-600",children:"Detalles de Red"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-4",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-slate-500 uppercase tracking-wide mb-1",children:"Tipo de Servicio"}),n.jsx("p",{className:"text-base font-semibold text-slate-800",children:e.tipo_servicio})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-slate-500 uppercase tracking-wide mb-1",children:"SSID / WiFi"}),n.jsx("p",{className:"text-base font-mono text-slate-600",children:e.wifi_ssid})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-slate-500 uppercase tracking-wide mb-1",children:"Password WiFi"}),n.jsx("p",{className:"text-base font-mono text-slate-600",children:e.wifi_password})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-slate-500 uppercase tracking-wide mb-1",children:"Gateway IP"}),n.jsx("p",{className:"text-base font-mono text-slate-600",children:e.wifi_gateway_ip})]})]}),n.jsxs("div",{className:"grid grid-cols-3 gap-4 pt-4 border-t border-cyan-100",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-slate-500 uppercase tracking-wide mb-1",children:"Bajada"}),n.jsxs("p",{className:"text-base font-mono font-bold text-green-600",children:[e.velocidad_bajada," Mbps"]})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-slate-500 uppercase tracking-wide mb-1",children:"Subida"}),n.jsxs("p",{className:"text-base font-mono font-bold text-blue-600",children:[e.velocidad_subida," Mbps"]})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-slate-500 uppercase tracking-wide mb-1",children:"Ping"}),n.jsxs("p",{className:"text-base font-mono font-bold text-orange-600",children:[e.velocidad_ping," ms"]})]})]})]}),n.jsxs("div",{className:"p-6 rounded-2xl bg-gradient-to-br from-indigo-50 to-white border border-indigo-100",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[n.jsx(Nr,{className:"w-5 h-5 text-indigo-600"}),n.jsx("h3",{className:"text-sm font-bold uppercase tracking-wider text-indigo-600",children:"Informe Tcnico"})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-slate-500 uppercase tracking-wide mb-2 font-bold",children:"Trabajo Realizado"}),n.jsxs("div",{className:"p-3 rounded-lg bg-blue-50 border border-blue-200",children:[(e.trabajo_realizado||"").split(`
`).map((C,E)=>C.trim()&&n.jsxs("div",{className:"flex gap-2 items-start mb-1 last:mb-0",children:[n.jsx(Wn,{className:"w-4 h-4 text-blue-500 mt-0.5 flex-shrink-0",strokeWidth:3}),n.jsx("span",{className:"text-sm text-blue-800",children:C})]},E)),!e.trabajo_realizado&&n.jsx("p",{className:"text-sm text-blue-600 italic",children:"No especificado"})]})]}),e.materiales_descripcion&&e.materiales_descripcion!=="[]"&&n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-slate-500 uppercase tracking-wide mb-2 font-bold",children:"Materiales Utilizados"}),n.jsx("div",{className:"p-3 rounded-lg bg-slate-50 border border-slate-200",children:(()=>{try{if(e.materiales_descripcion&&e.materiales_descripcion.startsWith("[")){const C=JSON.parse(e.materiales_descripcion);return n.jsxs("div",{className:"w-full",children:[n.jsxs("div",{className:"flex text-xs font-bold text-slate-500 border-b border-slate-200 pb-2 mb-2",children:[n.jsx("div",{className:"w-12 text-center",children:"Cant"}),n.jsx("div",{className:"flex-1",children:"Articulo"}),n.jsx("div",{className:"w-24 text-right",children:"Precio U."}),n.jsx("div",{className:"w-24 text-right",children:"Total"})]}),n.jsx("div",{className:"space-y-1",children:C.map((E,S)=>n.jsxs("div",{className:"flex items-start text-sm py-1 border-b border-slate-100 last:border-0",children:[n.jsx("div",{className:"w-12 text-center text-slate-500",children:E.cantidad||1}),n.jsx("div",{className:"flex-1 text-slate-700 font-medium",children:E.producto||E.descripcion}),n.jsxs("div",{className:"w-24 text-right text-slate-600 font-mono",children:["$",ct(E.costoPublico||E.precio_publico||0)]}),n.jsxs("div",{className:"w-24 text-right text-slate-800 font-mono font-bold",children:["$",ct((E.cantidad||1)*(E.costoPublico||E.precio_publico||0))]})]},S))})]})}return n.jsx("p",{className:"text-sm text-slate-700",children:e.materiales_descripcion})}catch{return n.jsx("p",{className:"text-sm text-slate-700",children:e.materiales_descripcion})}})()})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-slate-500 uppercase tracking-wide mb-2 font-bold",children:"Observaciones"}),n.jsx("div",{className:"p-3 rounded-lg bg-slate-50 border border-slate-200",children:n.jsx("p",{className:"text-sm text-slate-700 whitespace-pre-line",children:e.observaciones||"Sin observaciones"})})]})]})]}),h.length>0&&n.jsxs("div",{className:"p-6 rounded-2xl bg-gradient-to-br from-slate-50 to-white border border-slate-200",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[n.jsx(bs,{className:"w-5 h-5 text-slate-600"}),n.jsx("h3",{className:"text-sm font-bold uppercase tracking-wider text-slate-600",children:"Evidencia Fotogrfica"})]}),n.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:h.map((C,E)=>n.jsx("div",{className:"aspect-square rounded-xl overflow-hidden border border-slate-200 bg-white shadow-sm hover:shadow-md transition-all cursor-pointer",children:n.jsx("img",{src:C.uri,alt:"Evidencia",className:"w-full h-full object-cover",onClick:()=>window.open(C.uri,"_blank")})},E))})]})]}),n.jsx("div",{className:"lg:col-span-1",children:n.jsxs("div",{className:"p-6 rounded-2xl bg-gradient-to-br from-cyan-50 to-white border border-cyan-100 sticky top-6",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[n.jsx(Js,{className:"w-5 h-5 text-cyan-600"}),n.jsx("h3",{className:"text-sm font-bold uppercase tracking-wider text-cyan-600",children:"Resumen Financiero"})]}),n.jsxs("div",{className:"space-y-3 mb-6",children:[n.jsxs("div",{className:"flex justify-between items-center text-sm",children:[n.jsx("span",{className:"text-slate-600",children:"Mano de Obra"}),n.jsx("span",{className:"font-semibold text-slate-800",children:x(e.mano_obra)})]}),n.jsxs("div",{className:"flex justify-between items-center text-sm",children:[n.jsx("span",{className:"text-slate-600",children:"Materiales"}),n.jsx("span",{className:"font-semibold text-slate-800",children:x(e.costo_materiales)})]}),n.jsxs("div",{className:"flex justify-between items-center text-sm",children:[n.jsx("span",{className:"text-slate-600",children:"Subtotal"}),n.jsx("span",{className:"font-semibold text-slate-800",children:x(e.subtotal)})]})]}),n.jsxs("div",{className:"border-t border-slate-200 pt-4 mb-6",children:[n.jsx("p",{className:"text-xs text-cyan-400 uppercase tracking-wider mb-2 text-center font-bold",children:"Total a Pagar"}),n.jsx("p",{className:"text-4xl font-black text-center text-cyan-600",children:x(e.total)})]}),n.jsxs("div",{className:"space-y-2 p-4 rounded-xl bg-white border border-slate-200",children:[n.jsxs("div",{className:"flex justify-between items-center text-sm",children:[n.jsx("span",{className:"text-slate-600 font-bold uppercase text-xs",children:"Anticipo"}),n.jsxs("span",{className:"font-bold text-cyan-600",children:["-",x(e.anticipo)]})]}),n.jsxs("div",{className:"flex justify-between items-center text-sm pt-2 border-t border-dashed border-slate-300",children:[n.jsx("span",{className:"text-slate-800 font-bold uppercase text-xs",children:"Restante"}),n.jsx("span",{className:"font-bold text-rose-600",children:x((e.total||0)-(e.anticipo||0))})]})]})]})})]})]}),i&&A&&n.jsx(Ca,{service:A,onClose:()=>{o(!1),l(null)},darkMode:s}),c&&f&&n.jsx(_a,{service:f,onClose:()=>{d(!1),m(null)},darkMode:s})]})},AL=({darkMode:e,onNavigate:t,onViewService:r,onCreateNew:s,onEdit:a,onShowNotaVenta:i,user:o,refreshTrigger:A})=>{const[l,c]=X.useState([]),[d,f]=X.useState(!0),[m,h]=X.useState(!1),[v,b]=X.useState({key:"fecha",direction:"desc"}),[N,w]=X.useState(!1),[x,B]=X.useState(null),[C,E]=X.useState(!1),[S,D]=X.useState(null);X.useEffect(()=>{R()},[o,A]);const R=async()=>{if(o){h(!0);try{const{data:_,error:K}=await je.from("servicios_redes").select("*").eq("user_id",o.id).order("fecha",{ascending:!1});if(K)throw K;c(_||[])}catch(_){console.error("Error loading Network services:",_)}finally{f(!1),h(!1)}}},W=_=>{B(_),w(!0)},ne=_=>{D(_),E(!0)},k=_=>{let K="asc";v.key===_&&v.direction==="asc"&&(K="desc"),b({key:_,direction:K})},L=Pt.useMemo(()=>{let _=[...l];return v.key!==null&&_.sort((K,Q)=>{let I=K[v.key],U=Q[v.key];if(v.key==="fecha"){const V=Z=>{if(!Z)return 0;if(/^\d{4}-\d{2}-\d{2}$/.test(Z))return new Date(Z+"T00:00:00").getTime();const me=new Date(Z);return isNaN(me.getTime())?0:me.getTime()};I=V(I),U=V(U)}return I<U?v.direction==="asc"?-1:1:I>U?v.direction==="asc"?1:-1:0}),_},[l,v]),O=async _=>{if(confirm("Ests seguro de eliminar este servicio?"))try{await ec(_);const{error:K}=await je.from("servicios_redes").delete().eq("id",_);if(K)throw K;c(l.filter(Q=>Q.id!==_))}catch(K){console.error("Error deleting service:",K),alert("Error al eliminar servicio")}};return d?n.jsx("div",{className:"flex justify-center p-12",children:n.jsx(Mr,{className:"animate-spin w-8 h-8 text-cyan-600"})}):n.jsxs("div",{className:"w-full px-4 md:px-8 py-8",children:[n.jsxs("div",{className:"flex justify-between items-center mb-8",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs("h1",{className:`text-3xl font-extrabold tracking-tight ${e?"text-slate-100":"text-slate-800"}`,children:["Servicios ",n.jsx("span",{className:"text-cyan-600",children:"Redes"})]}),n.jsx("button",{onClick:R,className:`p-2 rounded-full transition-all hover:scale-110 ${e?"hover:bg-slate-700 text-slate-400 hover:text-white":"hover:bg-slate-200 text-slate-500 hover:text-slate-800"}`,title:"Actualizar lista",children:n.jsx(mA,{className:`w-5 h-5 ${m?"animate-spin text-cyan-600":""}`})})]}),n.jsx("div",{className:"flex gap-2",children:n.jsxs("button",{onClick:s,className:"btn bg-cyan-600 text-white hover:bg-cyan-700 shadow-lg shadow-cyan-500/30 transform hover:-translate-y-0.5 px-6 py-3 rounded-xl font-bold transition-all flex items-center gap-2",children:[n.jsx(Gs,{className:"w-5 h-5"}),"Nuevo Servicio"]})})]}),n.jsx("div",{className:`rounded-xl shadow-lg border min-h-[600px] ${e?"bg-slate-800 border-slate-700":"bg-white border-slate-100"}`,children:l.length===0?n.jsx("div",{className:"p-12 text-center text-slate-500",children:"No hay servicios de Redes registrados."}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"hidden md:block pb-64",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:`border-b ${e?"bg-slate-800/50 border-slate-700":"bg-gray-50/50 border-gray-200"}`,children:n.jsxs("tr",{children:[n.jsx("th",{onClick:()=>k("orden_numero"),className:`px-6 py-4 text-left text-xs font-bold uppercase tracking-wider cursor-pointer hover:bg-slate-500/10 transition-colors ${e?"text-slate-200":"text-slate-600"}`,children:n.jsxs("div",{className:"flex items-center gap-1",children:["No. Servicio",v.key==="orden_numero"&&(v.direction==="asc"?n.jsx(zs,{className:"w-3 h-3"}):n.jsx(Vs,{className:"w-3 h-3"}))]})}),n.jsx("th",{className:`px-6 py-4 text-left text-xs font-bold uppercase tracking-wider ${e?"text-slate-200":"text-slate-600"}`,children:"Cliente"}),n.jsx("th",{onClick:()=>k("fecha"),className:`px-6 py-4 text-left text-xs font-bold uppercase tracking-wider cursor-pointer hover:bg-slate-500/10 transition-colors ${e?"text-slate-200":"text-slate-600"}`,children:n.jsxs("div",{className:"flex items-center gap-1",children:["Fecha",v.key==="fecha"&&(v.direction==="asc"?n.jsx(zs,{className:"w-3 h-3"}):n.jsx(Vs,{className:"w-3 h-3"}))]})}),n.jsx("th",{className:`px-6 py-4 text-left text-xs font-bold uppercase tracking-wider ${e?"text-slate-200":"text-slate-600"}`,children:"Total"}),n.jsx("th",{className:`px-6 py-4 text-left text-xs font-bold uppercase tracking-wider ${e?"text-slate-200":"text-slate-600"}`,children:"Estado"}),n.jsx("th",{className:`px-6 py-4 text-right text-xs font-bold uppercase tracking-wider ${e?"text-slate-200":"text-slate-600"}`,children:"Acciones"})]})}),n.jsx("tbody",{className:`divide-y ${e?"divide-slate-700":"divide-slate-100"}`,children:L.map(_=>n.jsxs("tr",{className:`transition-colors ${e?"hover:bg-slate-700/50":"hover:bg-cyan-50/30"}`,children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("span",{className:"text-sm font-bold text-cyan-600",children:["#",_.orden_numero]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{className:"flex flex-col",children:[n.jsx("span",{className:`text-sm font-bold ${e?"text-slate-100":"text-slate-900"}`,children:_.cliente_nombre}),n.jsx("span",{className:"text-xs text-slate-500",children:_.cliente_telefono})]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("span",{className:`text-sm ${e?"text-slate-300":"text-slate-600"}`,children:Xr(_.fecha)})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("span",{className:`text-sm font-bold ${e?"text-slate-100":"text-slate-900"}`,children:["$",ct(_.total)]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx(Zn,{service:_,darkMode:e,onStatusChange:R,tableName:"servicios_redes"})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right",children:n.jsxs("div",{className:"flex items-center justify-end gap-2",children:[n.jsx("button",{onClick:()=>W(_),className:"p-2 text-purple-600 hover:bg-purple-50 rounded-lg transition-colors",title:"Ver QR de Seguimiento",children:n.jsx(Is,{className:"w-5 h-5"})}),n.jsx("button",{onClick:()=>ne(_),className:"p-2 text-slate-700 hover:bg-slate-100 rounded-lg transition-colors",title:"Imprimir Ticket",children:n.jsx(Ws,{className:"w-5 h-5"})}),n.jsx("button",{onClick:()=>i({..._,type:"Redes",tableName:"servicios_redes",original:_}),className:"p-2 text-blue-500 hover:bg-blue-50 rounded-lg transition-colors",title:"Generar Nota de Venta",children:n.jsx(jr,{className:"w-5 h-5"})}),n.jsx("button",{onClick:()=>r(_),className:"p-2 text-cyan-600 hover:bg-cyan-50 rounded-lg transition-colors",title:"Ver Detalle",children:n.jsx(pr,{className:"w-5 h-5"})}),n.jsx("button",{onClick:()=>a(_),className:"p-2 text-slate-400 hover:bg-slate-100 rounded-lg transition-colors",title:"Editar",children:n.jsx(Cr,{className:"w-5 h-5"})}),n.jsx("button",{onClick:()=>O(_.id),className:"p-2 text-red-400 hover:bg-red-50 rounded-lg transition-colors",title:"Eliminar",children:n.jsx(Wt,{className:"w-5 h-5"})})]})})]},_.id))})]})}),n.jsx("div",{className:"md:hidden flex flex-col gap-4 p-4 pb-24",children:L.map(_=>n.jsxs("div",{className:`rounded-2xl p-5 border shadow-sm ${e?"bg-slate-800 border-slate-700":"bg-white border-slate-100"}`,children:[n.jsxs("div",{className:"flex justify-between items-start mb-4",children:[n.jsxs("div",{children:[n.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-bold bg-cyan-100 text-cyan-800 mb-2",children:["#",_.orden_numero]}),n.jsx("h3",{className:`text-lg font-bold ${e?"text-slate-100":"text-slate-900"}`,children:_.cliente_nombre}),n.jsx("p",{className:`text-xs ${e?"text-slate-400":"text-slate-500"}`,children:Xr(_.fecha)})]}),n.jsx(Zn,{service:_,darkMode:e,onStatusChange:R,tableName:"servicios_redes"})]}),n.jsxs("div",{className:"flex justify-between items-end border-t border-dashed pt-4 border-slate-200 dark:border-slate-700",children:[n.jsxs("div",{children:[n.jsx("p",{className:`text-xs font-bold uppercase tracking-wider mb-1 ${e?"text-slate-500":"text-slate-400"}`,children:"Total"}),n.jsxs("p",{className:`text-xl font-black ${e?"text-white":"text-slate-900"}`,children:["$",ct(_.total)]})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{onClick:()=>W(_),className:"p-2.5 bg-purple-50 text-purple-600 rounded-xl",children:n.jsx(Is,{className:"w-5 h-5"})}),n.jsx("button",{onClick:()=>ne(_),className:"p-2.5 bg-slate-50 text-slate-600 rounded-xl",children:n.jsx(Ws,{className:"w-5 h-5"})}),n.jsx("button",{onClick:()=>i({..._,type:"Redes",tableName:"servicios_redes",original:_}),className:"p-2.5 bg-blue-50 text-blue-500 rounded-xl",title:"Generar Nota de Venta",children:n.jsx(jr,{className:"w-5 h-5"})}),n.jsx("button",{onClick:()=>r(_),className:"p-2.5 bg-cyan-50 text-cyan-600 rounded-xl",children:n.jsx(pr,{className:"w-5 h-5"})}),n.jsx("button",{onClick:()=>a(_),className:"p-2.5 bg-slate-50 text-slate-400 rounded-xl",children:n.jsx(Cr,{className:"w-5 h-5"})}),n.jsx("button",{onClick:()=>O(_.id),className:"p-2.5 bg-red-50 text-red-400 rounded-xl",children:n.jsx(Wt,{className:"w-5 h-5"})})]})]})]},`mobile-network-${_.id}`))})]})}),N&&x&&n.jsx(Ca,{service:x,onClose:()=>{w(!1),B(null)},darkMode:e}),C&&S&&n.jsx(_a,{service:S,onClose:()=>{E(!1),D(null)},darkMode:e})]})},lL=({darkMode:e,user:t})=>{const[r,s]=X.useState(!0),[a,i]=X.useState([]),[o,A]=X.useState([]),[l,c]=X.useState([]),[d,f]=X.useState({totalEarnings:0,totalServices:0,avgTicket:0}),[m,h]=X.useState("1m"),[v,b]=X.useState({start:new Date(Date.now()-30*24*60*60*1e3).toISOString().split("T")[0],end:new Date().toISOString().split("T")[0]}),N=S=>{if(h(S),S==="custom")return;let D=30;S==="1w"&&(D=7),S==="1y"&&(D=365),b({start:new Date(Date.now()-D*24*60*60*1e3).toISOString().split("T")[0],end:new Date().toISOString().split("T")[0]})},[w,x]=X.useState("all"),B=async()=>{if(t){s(!0);try{const S=[{name:"servicios_cctv",dateField:"servicio_fecha",clientField:"cliente_nombre",partsField:"inventario_materiales"},{name:"servicios_pc",dateField:"fecha",clientField:"cliente_nombre",partsField:"repuestos_descripcion"},{name:"servicios_celulares",dateField:"fecha",clientField:"cliente_nombre",partsField:"repuestos_descripcion"},{name:"servicios_impresoras",dateField:"fecha",clientField:"cliente_nombre",partsField:"repuestos_descripcion"},{name:"servicios_redes",dateField:"fecha",clientField:"cliente_nombre",partsField:"materiales_descripcion"}],D=S.map(q=>je.from(q.name).select(`id, total, ${q.dateField}, created_at, ${q.clientField}, ${q.partsField}`).eq("user_id",t.id).then(ee=>{var se;return ee.error?(console.error(`Error fetching from ${q.name}:`,ee.error),{data:[],error:ee.error}):(console.log(`Fetched ${((se=ee.data)==null?void 0:se.length)||0} records from ${q.name}`),ee)})),R=await Promise.all(D),W=q=>{if(!q)return 0;let ee=[];try{typeof q=="string"?q.trim().startsWith("[")&&(ee=JSON.parse(q)):Array.isArray(q)&&(ee=q)}catch{return 0}return ee.reduce((se,Ae)=>se+(Number(Ae.costo_empresa||Ae.costoEmpresa)||0)*(Number(Ae.cantidad)||1),0)},ne=q=>{if(!q)return"";const ee=String(q).trim();if(/^\d{4}-\d{2}-\d{2}/.test(ee))return ee.split("T")[0];const se=ee.split("/");if(se.length===3&&se[2].length===4)return`${se[2]}-${se[1].padStart(2,"0")}-${se[0].padStart(2,"0")}`;try{const Ae=new Date(ee);if(!isNaN(Ae.getTime()))return Ae.toISOString().split("T")[0]}catch{}return ee};let k=[];R.forEach((q,ee)=>{const se=S[ee];q.data&&(k=[...k,...q.data.map(Ae=>{const we=W(Ae[se.partsField]),ye=Number(Ae.total)||0,Ie=Ae[se.dateField]||Ae.created_at;return{...Ae,type:se.name.replace("servicios_",""),date:ne(Ie),cliente_nombre:Ae[se.clientField],expense:we,profit:ye-we}})])});const L=k.filter(q=>{const ee=q.date>=v.start&&q.date<=v.end,se=w==="all"||q.type===w;return ee&&se}),O=L.reduce((q,ee)=>q+(Number(ee.total)||0),0),_=L.reduce((q,ee)=>q+(ee.expense||0),0),K=O-_,Q=L.length,I=Q>0?O/Q:0;f({totalEarnings:O,totalExpenses:_,totalProfit:K,totalServices:Q,avgTicket:I});const U=L.reduce((q,ee)=>{const se=ee.date;return q[se]=(q[se]||0)+(Number(ee.total)||0),q},{}),V=[];let Z=new Date(v.start+"T00:00:00");const me=new Date(v.end+"T00:00:00");for(;Z<=me;){const q=Z.toISOString().split("T")[0];V.push({date:q,amount:U[q]||0}),Z.setDate(Z.getDate()+1)}i(V);const F=L.reduce((q,ee)=>{const se=ee.cliente_nombre||"Desconocido";return q[se]||(q[se]={name:se,count:0,total:0}),q[se].count+=1,q[se].total+=Number(ee.total)||0,q},{}),G=Object.values(F);A([...G].sort((q,ee)=>ee.count-q.count).slice(0,5)),c([...G].sort((q,ee)=>ee.total-q.total).slice(0,5))}catch(S){console.error("Error fetching reports:",S)}finally{s(!1)}}};X.useEffect(()=>{B()},[t,v,w]);const C=S=>`$${ct(S)}`,E=({data:S})=>{if(!S||S.length===0)return n.jsxs("div",{className:"h-64 flex flex-col items-center justify-center text-slate-400 border-2 border-dashed border-slate-200 dark:border-slate-800 rounded-3xl",children:[n.jsx(BarChart2,{className:"w-10 h-10 mb-2 opacity-20"}),n.jsx("p",{className:"font-bold text-sm",children:"Sin datos para el perodo"})]});const D=Math.max(...S.map(R=>R.amount),1);return n.jsxs("div",{className:`p-8 rounded-[2.5rem] border transition-all duration-500 ${e?"bg-slate-800/50 border-slate-700 shadow-2xl":"bg-white border-slate-100 shadow-2xl shadow-blue-500/5"}`,children:[n.jsxs("div",{className:"flex justify-between items-center mb-10",children:[n.jsx("h3",{className:`text-lg font-black tracking-tight ${e?"text-white":"text-slate-900"}`,children:"Tendencia de Ingresos"}),n.jsx("div",{className:"flex gap-2",children:n.jsxs("div",{className:"flex items-center gap-2 px-3 py-1 bg-blue-50 dark:bg-blue-900/20 rounded-full",children:[n.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),n.jsx("span",{className:"text-[10px] font-black text-blue-600 dark:text-blue-400",children:"INGRESOS DIARIOS"})]})})]}),n.jsx("div",{className:"flex items-end gap-1.5 h-64 w-full px-2 group/chart",children:S.map((R,W)=>n.jsx("div",{className:"flex-1 flex flex-col items-center group relative h-full justify-end",children:n.jsx("div",{className:`w-full ${R.amount>0?"bg-gradient-to-t from-blue-600 to-indigo-400 hover:from-blue-500 hover:to-indigo-300":"bg-slate-100 dark:bg-slate-800"} rounded-2xl transition-all duration-700 ease-out cursor-help relative group-hover:shadow-[0_0_20px_rgba(59,130,246,0.3)] shadow-sm`,style:{height:`${R.amount/D*95}%`,minHeight:R.amount>0?"6px":"4px"},children:R.amount>0&&n.jsxs("div",{className:"absolute bottom-full mb-4 left-1/2 -translate-x-1/2 pointer-events-none transition-all duration-300 opacity-0 group-hover:opacity-100 z-50 transform group-hover:scale-110 translate-y-2 group-hover:translate-y-0",children:[n.jsxs("div",{className:"bg-slate-900 dark:bg-white dark:text-slate-900 text-white text-[10px] font-black py-2 px-4 rounded-2xl shadow-2xl whitespace-nowrap border border-white/10 dark:border-slate-200",children:[n.jsx("div",{className:"text-blue-400 dark:text-blue-600 mb-0.5 uppercase tracking-tighter opacity-70",children:R.date}),n.jsx("div",{className:"text-xs",children:C(R.amount)})]}),n.jsx("div",{className:"w-2 h-2 bg-slate-900 dark:bg-white rotate-45 absolute -bottom-1 left-1/2 -translate-x-1/2"})]})})},W))})]})};return n.jsxs("div",{className:"w-full px-4 md:px-12 py-10 animate-in fade-in duration-700 bg-slate-50/30 dark:bg-transparent min-h-screen",children:[n.jsxs("div",{className:"flex flex-col xl:flex-row justify-between items-start xl:items-center mb-12 gap-8",children:[n.jsxs("div",{className:"flex items-center gap-6",children:[n.jsxs("div",{className:"relative group",children:[n.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-blue-600 to-indigo-600 rounded-[2rem] blur opacity-40 group-hover:opacity-100 transition duration-1000 group-hover:duration-200"}),n.jsx("div",{className:`relative p-5 rounded-[1.5rem] ${e?"bg-slate-800 border-slate-700":"bg-white border-slate-100"} border shadow-2xl`,children:n.jsx(SQ,{className:"w-10 h-10 text-blue-600"})})]}),n.jsxs("div",{children:[n.jsxs("h1",{className:`text-5xl font-black tracking-tight mb-2 ${e?"text-white":"text-slate-900"}`,children:["Dashboard de ",n.jsx("span",{className:"bg-gradient-to-r from-blue-600 via-indigo-500 to-purple-600 bg-clip-text text-transparent italic",children:"Negocio"})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("span",{className:`text-sm font-semibold px-3 py-1 rounded-full ${e?"bg-blue-900/40 text-blue-400":"bg-blue-50 text-blue-600"}`,children:"PRO ANALYTICS"}),n.jsx("div",{className:"w-1.5 h-1.5 bg-slate-300 dark:bg-slate-700 rounded-full"}),n.jsx("p",{className:`text-sm font-medium ${e?"text-slate-400":"text-slate-500"}`,children:"Visualizacin de mtricas avanzadas en tiempo real"})]})]})]}),n.jsxs("div",{className:`p-2 rounded-[2rem] border backdrop-blur-3xl transition-all duration-500 flex flex-wrap gap-2 ${e?"bg-slate-800/40 border-slate-700/50 shadow-2xl shadow-blue-500/5":"bg-white/90 border-slate-200/50 shadow-2xl shadow-blue-500/10"}`,children:[n.jsxs("div",{className:`flex items-center gap-3 px-4 py-2.5 rounded-2xl transition-all ${e?"bg-slate-700/30 text-slate-300":"bg-slate-50 text-slate-600"}`,children:[n.jsx(EU,{className:"w-4 h-4 text-blue-500"}),n.jsxs("select",{value:w,onChange:S=>x(S.target.value),className:"bg-transparent border-none text-sm font-black focus:ring-0 cursor-pointer outline-none pr-6",children:[n.jsx("option",{value:"all",children:"Servicios: Todos"}),n.jsx("option",{value:"pc",children:"Equipos PC"}),n.jsx("option",{value:"cctv",children:"Sistemas CCTV"}),n.jsx("option",{value:"celulares",children:"Telefona Celular"}),n.jsx("option",{value:"impresoras",children:"Servicio Impresoras"}),n.jsx("option",{value:"redes",children:"Infraestructura Redes"})]})]}),n.jsxs("div",{className:`flex items-center gap-3 px-4 py-2.5 rounded-2xl transition-all ${e?"bg-slate-700/30 text-slate-300":"bg-slate-50 text-slate-600"}`,children:[n.jsx(ea,{className:"w-4 h-4 text-indigo-500"}),n.jsxs("select",{value:m,onChange:S=>N(S.target.value),className:"bg-transparent border-none text-sm font-black focus:ring-0 cursor-pointer outline-none pr-6",children:[n.jsx("option",{value:"1w",children:"Semana Actual"}),n.jsx("option",{value:"1m",children:"ltimos 30 das"}),n.jsx("option",{value:"1y",children:"Ao en curso"}),n.jsx("option",{value:"custom",children:"Personalizado..."})]}),m==="custom"&&n.jsxs("div",{className:"flex items-center gap-3 pr-2 border-l border-slate-300/40 pl-4 ml-2 animate-in fade-in zoom-in-95 duration-300",children:[n.jsx("input",{type:"date",value:v.start,onChange:S=>b({...v,start:S.target.value}),className:`bg-transparent border-none text-xs font-black focus:ring-0 outline-none w-28 ${e?"text-blue-400":"text-blue-600"}`}),n.jsx("span",{className:`text-slate-300 font-thin ${e?"opacity-20":""}`,children:"|"}),n.jsx("input",{type:"date",value:v.end,onChange:S=>b({...v,end:S.target.value}),className:`bg-transparent border-none text-xs font-black focus:ring-0 outline-none w-28 ${e?"text-blue-400":"text-blue-600"}`})]})]}),n.jsx("button",{onClick:B,className:`p-2.5 rounded-[1.5rem] transition-all hover:scale-105 active:scale-95 ${e?"bg-slate-700/50 hover:bg-blue-500/20 text-blue-400":"bg-blue-50 hover:bg-blue-100 text-blue-600"} border border-transparent hover:border-blue-500/30`,title:"Actualizar datos",children:n.jsx(mA,{className:`w-5 h-5 ${r?"animate-spin":""}`})})]})]}),r?n.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[500px] gap-6",children:[n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute inset-0 bg-blue-500 rounded-full blur-2xl opacity-20 animate-pulse"}),n.jsx(Mr,{className:"w-16 h-16 animate-spin text-blue-600 relative z-10"})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:`text-xl font-black mb-1 ${e?"text-white":"text-slate-900"}`,children:"Analizando Datos..."}),n.jsx("p",{className:"text-slate-400 font-medium tracking-wide",children:"Construyendo mtricas de rendimiento"})]})]}):n.jsxs("div",{className:"space-y-12 pb-20",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:[n.jsxs("div",{className:`group relative overflow-hidden p-8 rounded-[2.5rem] border transition-all duration-500 hover:scale-[1.02] hover:-translate-y-2 ${e?"bg-slate-800/80 border-slate-700/50 shadow-2xl shadow-blue-900/20":"bg-white border-slate-100 shadow-2xl shadow-blue-500/10"}`,children:[n.jsx("div",{className:"absolute -top-10 -right-10 w-40 h-40 bg-indigo-500/10 rounded-full blur-3xl transition-all duration-700 group-hover:scale-150 group-hover:bg-indigo-500/20"}),n.jsxs("div",{className:"relative flex justify-between items-start mb-8",children:[n.jsx("div",{className:"p-4 bg-gradient-to-br from-indigo-500 to-blue-700 rounded-2xl text-white shadow-xl shadow-indigo-500/30 rotate-3 group-hover:rotate-0 transition-transform",children:n.jsx(W0,{className:"w-7 h-7"})}),n.jsx("div",{className:`px-4 py-1.5 rounded-full text-[10px] font-black uppercase tracking-[0.2em] ${e?"bg-slate-700 text-indigo-400":"bg-indigo-50 text-indigo-600"}`,children:"Bruto"})]}),n.jsx("h3",{className:`text-xs font-bold uppercase tracking-widest mb-2 opacity-60 ${e?"text-slate-100":"text-slate-900"}`,children:"Ingresos Totales"}),n.jsx("p",{className:`text-4xl font-black tracking-tighter ${e?"text-white":"text-slate-900"}`,children:C(d.totalEarnings)}),n.jsx("div",{className:"mt-6 h-2 w-full bg-slate-100 dark:bg-slate-700/50 rounded-full overflow-hidden",children:n.jsx("div",{className:"h-full bg-gradient-to-r from-indigo-500 via-blue-500 to-indigo-600 rounded-full w-full animate-progress-glow"})})]}),n.jsxs("div",{className:`group relative overflow-hidden p-8 rounded-[2.5rem] border transition-all duration-500 hover:scale-[1.02] hover:-translate-y-2 ${e?"bg-slate-800/80 border-slate-700/50 shadow-2xl shadow-rose-900/20":"bg-white border-slate-100 shadow-2xl shadow-rose-500/10"}`,children:[n.jsx("div",{className:"absolute -top-10 -right-10 w-40 h-40 bg-rose-500/10 rounded-full blur-3xl transition-all duration-700 group-hover:scale-150 group-hover:bg-rose-500/20"}),n.jsxs("div",{className:"relative flex justify-between items-start mb-8",children:[n.jsx("div",{className:"p-4 bg-gradient-to-br from-rose-500 to-pink-700 rounded-2xl text-white shadow-xl shadow-rose-500/30 -rotate-3 group-hover:rotate-0 transition-transform",children:n.jsx(Js,{className:"w-7 h-7"})}),n.jsx("div",{className:`px-4 py-1.5 rounded-full text-[10px] font-black uppercase tracking-[0.2em] ${e?"bg-slate-700 text-rose-400":"bg-rose-50 text-rose-600"}`,children:"Costos"})]}),n.jsx("h3",{className:`text-xs font-bold uppercase tracking-widest mb-2 opacity-60 ${e?"text-slate-100":"text-slate-900"}`,children:"Gasto Empresa"}),n.jsx("p",{className:`text-4xl font-black tracking-tighter ${e?"text-white":"text-slate-900"}`,children:C(d.totalExpenses)}),n.jsx("div",{className:"mt-6 h-2 w-full bg-slate-100 dark:bg-slate-700/50 rounded-full overflow-hidden",children:n.jsx("div",{className:"h-full bg-gradient-to-r from-rose-500 to-pink-600 rounded-full w-[40%]"})})]}),n.jsxs("div",{className:`group relative overflow-hidden p-8 rounded-[2.5rem] border transition-all duration-500 hover:scale-[1.02] hover:-translate-y-2 ${e?"bg-slate-800/80 border-slate-700/50 shadow-2xl shadow-emerald-900/20":"bg-white border-slate-100 shadow-2xl shadow-emerald-500/10"}`,children:[n.jsx("div",{className:"absolute -top-10 -right-10 w-40 h-40 bg-emerald-500/10 rounded-full blur-3xl transition-all duration-700 group-hover:scale-150 group-hover:bg-emerald-500/20"}),n.jsxs("div",{className:"relative flex justify-between items-start mb-8",children:[n.jsx("div",{className:"p-4 bg-gradient-to-br from-emerald-500 to-teal-700 rounded-2xl text-white shadow-xl shadow-emerald-500/30 rotate-6 group-hover:rotate-0 transition-transform",children:n.jsx(cA,{className:"w-7 h-7"})}),n.jsx("div",{className:`px-4 py-1.5 rounded-full text-[10px] font-black uppercase tracking-[0.2em] ${e?"bg-slate-700 text-emerald-400":"bg-emerald-50 text-emerald-600"}`,children:"Beneficio"})]}),n.jsx("h3",{className:`text-xs font-bold uppercase tracking-widest mb-2 opacity-60 ${e?"text-slate-100":"text-slate-900"}`,children:"Ganancia Real"}),n.jsx("p",{className:`text-4xl font-black tracking-tighter ${e?"text-white":"text-slate-900"}`,children:C(d.totalProfit)}),n.jsx("div",{className:"mt-6 h-2 w-full bg-slate-100 dark:bg-slate-700/50 rounded-full overflow-hidden",children:n.jsx("div",{className:"h-full bg-gradient-to-r from-emerald-400 via-teal-500 to-emerald-600 rounded-full w-[75%]"})})]}),n.jsxs("div",{className:`group relative overflow-hidden p-8 rounded-[2.5rem] border transition-all duration-500 hover:scale-[1.02] hover:-translate-y-2 ${e?"bg-slate-800/80 border-slate-700/50 shadow-2xl shadow-purple-900/20":"bg-white border-slate-100 shadow-2xl shadow-slate-500/10"}`,children:[n.jsx("div",{className:"absolute -top-10 -right-10 w-40 h-40 bg-slate-500/10 rounded-full blur-3xl transition-all duration-700 group-hover:scale-150 group-hover:bg-slate-500/20"}),n.jsx("div",{className:"relative flex justify-between items-start mb-8",children:n.jsx("div",{className:"p-4 bg-gradient-to-br from-slate-700 to-slate-900 rounded-2xl text-white shadow-xl shadow-slate-800/40 -rotate-6 group-hover:rotate-0 transition-transform",children:n.jsx(Yl,{className:"w-7 h-7"})})}),n.jsx("h3",{className:`text-xs font-bold uppercase tracking-widest mb-2 opacity-60 ${e?"text-slate-100":"text-slate-900"}`,children:"Volumen Servicios"}),n.jsx("p",{className:`text-4xl font-black tracking-tighter ${e?"text-white":"text-slate-900"}`,children:d.totalServices}),n.jsxs("div",{className:"mt-6 flex gap-1.5 h-2 w-full bg-slate-100 dark:bg-slate-700/50 rounded-full overflow-hidden",children:[n.jsx("div",{className:"h-full bg-blue-500 w-[25%] transition-all hover:w-[35%]"}),n.jsx("div",{className:"h-full bg-indigo-500 w-[15%] transition-all hover:w-[25%]"}),n.jsx("div",{className:"h-full bg-emerald-500 w-[30%] transition-all hover:w-[40%]"}),n.jsx("div",{className:"h-full bg-rose-500 w-[30%] transition-all hover:w-[40%]"})]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-10",children:[n.jsx("div",{className:"lg:col-span-2",children:n.jsx(E,{data:a})}),n.jsxs("div",{className:`p-8 rounded-[2.5rem] border backdrop-blur-3xl transition-all duration-500 ${e?"bg-slate-800/40 border-slate-700 shadow-2xl":"bg-white/80 border-slate-100 shadow-2xl shadow-blue-500/5"}`,children:[n.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[n.jsx("div",{className:"p-3 bg-blue-100 dark:bg-blue-900/30 text-blue-600 rounded-2xl",children:n.jsx(UQ,{className:"w-5 h-5"})}),n.jsx("h3",{className:`text-lg font-black tracking-tight ${e?"text-white":"text-slate-900"}`,children:"Top Clientes"})]}),n.jsxs("div",{className:"space-y-8",children:[n.jsxs("section",{children:[n.jsx("p",{className:"text-[10px] font-black uppercase tracking-[0.2em] text-slate-400 mb-5",children:" MAYOR FACTURACIN"}),n.jsx("div",{className:"space-y-4",children:l.map((S,D)=>n.jsxs("div",{className:"group/item flex justify-between items-center p-3 rounded-2xl transition-all hover:bg-white dark:hover:bg-slate-700 shadow-sm hover:shadow-md border border-transparent hover:border-slate-100 dark:hover:border-slate-600",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center font-black text-xs transition-colors ${D===0?"bg-amber-100 text-amber-600 border border-amber-200":"bg-slate-100 dark:bg-slate-700 dark:text-slate-300 text-slate-500"}`,children:D+1}),n.jsx("span",{className:`text-sm font-bold truncate max-w-[140px] ${e?"text-slate-100":"text-slate-800"}`,children:S.name})]}),n.jsx("span",{className:"text-sm font-black text-blue-600 bg-blue-50 dark:bg-blue-900/40 px-3 py-1 rounded-lg",children:C(S.total)})]},D))})]}),n.jsx("div",{className:"h-px bg-gradient-to-r from-transparent via-slate-200 dark:via-slate-700 to-transparent"}),n.jsxs("section",{children:[n.jsx("p",{className:"text-[10px] font-black uppercase tracking-[0.2em] text-slate-400 mb-5",children:" MS RECURRENTES"}),n.jsx("div",{className:"space-y-4",children:o.map((S,D)=>n.jsxs("div",{className:"group/item flex justify-between items-center p-3 rounded-2xl transition-all hover:bg-white dark:hover:bg-slate-700 shadow-sm hover:shadow-md border border-transparent hover:border-slate-100 dark:hover:border-slate-600",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"w-10 h-10 rounded-xl bg-indigo-50 dark:bg-indigo-900/30 text-indigo-600 flex items-center justify-center font-black text-xs",children:D+1}),n.jsx("span",{className:`text-sm font-bold truncate max-w-[140px] ${e?"text-slate-100":"text-slate-800"}`,children:S.name})]}),n.jsxs("div",{className:"flex items-center gap-1.5 px-3 py-1 bg-indigo-50 dark:bg-indigo-900/30 rounded-lg",children:[n.jsx("span",{className:"text-xs font-black text-indigo-600",children:S.count}),n.jsx("span",{className:"text-[10px] font-bold text-indigo-400 uppercase tracking-tighter",children:"serv."})]})]},D))})]})]})]})]})]})]})},cL=()=>{if(!je)return n.jsx(v8,{});const e=async()=>{localStorage.removeItem("companyData"),localStorage.removeItem("sb-access-token"),localStorage.removeItem("sb-refresh-token"),N(null),r(null),await je.auth.signOut()},[t,r]=X.useState(null),[s,a]=X.useState(null),[i,o]=X.useState(!0),[A,l]=X.useState(window.innerWidth<768),[c,d]=X.useState(!1),f=X.useRef(null);X.useEffect(()=>{const ie=()=>{l(window.innerWidth<768)};return window.addEventListener("resize",ie),()=>window.removeEventListener("resize",ie)},[]);const m=()=>l(!A),[h,v]=X.useState(()=>localStorage.getItem("activeTab")||"cotizaciones-list"),[b,N]=X.useState({nombre:"",direccion:"",telefono:"",correo:"",logo_uri:"",rfc:"",pagina_web:""}),[w,x]=X.useState({name:"",phone:"",email:"",address:""}),[B,C]=X.useState(!1),[E,S]=X.useState([]),[D,R]=X.useState([]),[W,ne]=X.useState(0),[k,L]=X.useState(null),[O,_]=X.useState(null),[K,Q]=X.useState([]),[I,U]=X.useState(""),[V,Z]=X.useState(new Date().toISOString().split("T")[0]),[me,F]=X.useState(new Date(Date.now()+30*24*60*60*1e3).toISOString().split("T")[0]),[G,q]=X.useState(!1),[ee,se]=X.useState(!1),[Ae,we]=X.useState(null),[ye,Ie]=X.useState("COT-"+new Date().getFullYear()+"-100"),[Ue,Pe]=X.useState(!1),[ae,De]=X.useState({client:{name:"",phone:"",email:"",address:""},items:[]}),ve=()=>{if(h!=="cotizaciones-new")return!1;const ie=JSON.stringify(w),fe=JSON.stringify(ae.client),ue=JSON.stringify(K),Qe=JSON.stringify(ae.items);return ie!==fe||ue!==Qe},Y=ie=>{v(ie),localStorage.setItem("activeTab",ie)};X.useEffect(()=>{f.current&&f.current.scrollTo(0,0)},[h]);const at=ie=>{ve()?window.confirm("Tienes cambios sin guardar en tu cotizacin. Ests seguro de que quieres salir? Los datos no guardados se perdern.")&&Y(ie):Y(ie)};X.useEffect(()=>{const ie=fe=>{ve()&&(fe.preventDefault(),fe.returnValue="")};return window.addEventListener("beforeunload",ie),()=>window.removeEventListener("beforeunload",ie)},[h,K,w]);const[ze,Ee]=X.useState(()=>localStorage.getItem("theme")||"blue"),Te=ie=>{Ee(ie),localStorage.setItem("theme",ie)},de=ze==="dark",[Oe,rt]=X.useState(()=>localStorage.getItem("selectedTemplate")||"classic"),[tt,ut]=X.useState(null),yt=ie=>{ut(ie),Y("services-cctv-view")},Et=ie=>{ut(ie),Y("services-pc-view")},Ot=ie=>{rt(ie),localStorage.setItem("selectedTemplate",ie)};X.useEffect(()=>{(async()=>{const{data:{session:ue}}=await je.auth.getSession();r(ue),ue&&(await dt(ue.user.id),pn(ue.user.id),As(ue.user.id),zt(ue.user.id)),o(!1)})();const{data:{subscription:fe}}=je.auth.onAuthStateChange(async(ue,Qe)=>{r(Qe),Qe&&(await dt(Qe.user.id),pn(Qe.user.id),As(Qe.user.id),zt(Qe.user.id),Ts(Qe.user.id))});return()=>fe.unsubscribe()},[]);const dt=async ie=>{try{const{data:fe,error:ue}=await je.from("profiles").select("*").eq("id",ie).maybeSingle();if(ue)throw ue;a(fe)}catch(fe){console.error("Error fetching profile:",fe)}},Bt=()=>{if(!s||s.is_premium)return!1;const ie=new Date(s.trial_start),fe=new Date(ie);return fe.setDate(fe.getDate()+7),new Date>fe};X.useEffect(()=>{t!=null&&t.user&&h==="cotizaciones-list"&&zt(t.user.id)},[h,t]);const[$e,ur]=X.useState(null),Ft=async ie=>{try{let fe,ue;const{files:Qe,photosToDelete:Ye,...re}=ie;let Ke={...re,tecnico_celular:re.tecnico_celular||""};if($e==="new"){const Re=await fn(t.user.id),Me={user_id:t.user.id,orden_numero:Re,token:bm(),fecha:re.fecha,tecnico_nombre:re.tecnico_nombre,cliente_nombre:re.cliente_nombre,cliente_telefono:re.cliente_telefono,equipo_modelo:re.equipo_modelo,equipo_imei:re.equipo_imei,equipo_pass:re.equipo_pass,estado_fisico:re.estado_fisico,trabajo_realizado:re.trabajo_realizado,costo_total:re.total,anticipo:re.anticipo,incluir_iva:re.incluir_iva,iva:re.iva,total:re.total,observaciones:re.observaciones,repuestos_descripcion:typeof re.repuestos_descripcion=="string"?re.repuestos_descripcion:JSON.stringify(re.repuestos_descripcion),mano_obra:re.mano_obra,repuestos_costo:re.repuestos_costo,subtotal:re.subtotal,pagado:re.pagado,entregado:re.entregado,costo_repuestos:re.repuestos_costo,status:re.status||"recibido"},it=await je.from("servicios_celulares").insert(Me).select().single();fe=it.data,ue=it.error}else{const Re={fecha:re.fecha,tecnico_nombre:re.tecnico_nombre,cliente_nombre:re.cliente_nombre,cliente_telefono:re.cliente_telefono,equipo_modelo:re.equipo_modelo,equipo_imei:re.equipo_imei,equipo_pass:re.equipo_pass,estado_fisico:re.estado_fisico,trabajo_realizado:re.trabajo_realizado,costo_total:re.total,anticipo:re.anticipo,incluir_iva:re.incluir_iva,iva:re.iva,total:re.total,observaciones:re.observaciones,repuestos_descripcion:typeof re.repuestos_descripcion=="string"?re.repuestos_descripcion:JSON.stringify(re.repuestos_descripcion),mano_obra:re.mano_obra,repuestos_costo:re.repuestos_costo,subtotal:re.subtotal,pagado:re.pagado,entregado:re.entregado,costo_repuestos:re.repuestos_costo,status:re.status},Me=await je.from("servicios_celulares").update(Re).eq("id",$e.id).select().single();fe=Me.data,ue=Me.error}if(ue)throw ue;if(Ye&&Ye.length>0&&await Wc(Ye),Qe&&Qe.length>0&&fe){const Re=Qe.map(async Me=>{try{const it=await Gc(Me),{data:Qt}=await je.from("servicio_fotos").select("id").eq("servicio_id",fe.id).eq("hash",it).maybeSingle();if(Qt)return{success:!0,skipped:!0};const gr=Me.name.split(".").pop(),ls=`${Date.now()}_${Math.random().toString(36).substring(7)}.${gr}`,Tr=`${t.user.id}/servicio_${fe.id}/${ls}`,{error:Zr}=await je.storage.from("servicio-files-v2").upload(Tr,Me);if(Zr)throw Zr;const{data:{publicUrl:cs}}=je.storage.from("servicio-files-v2").getPublicUrl(Tr),{error:Vr}=await je.from("servicio_fotos").insert({servicio_id:fe.id,user_id:t.user.id,uri:cs,tipo_servicio:"servicios_celulares",hash:it});if(Vr)throw Vr;return{success:!0}}catch(it){return{success:!1,error:it}}});await Promise.all(Re)}ne(Re=>Re+1),alert("Servicio de celular guardado correctamente"),ur(null)}catch(fe){console.error("Error saving phone service:",fe),alert("Error al guardar el servicio")}},[os,Lt]=X.useState(null),Yt=async ie=>{try{const ue=`T-${new Date().getFullYear()}-`,{data:Qe,error:Ye}=await je.from("servicios_cctv").select("servicio_numero").eq("user_id",ie).like("servicio_numero",`${ue}%`).order("id",{ascending:!1}).limit(1);if(Ye)throw Ye;if(Qe&&Qe.length>0){const Ke=Qe[0].servicio_numero.split("-"),Re=parseInt(Ke[2])||99;return`${ue}${Re+1}`}return`${ue}100`}catch(fe){return console.error("Error fetching next CCTV folio:",fe),`T-${new Date().getFullYear()}-100`}},Qn=async ie=>{try{let fe,ue;const{files:Qe,photosToDelete:Ye,...re}=ie;if(os==="new"){const Ke=await Yt(t.user.id),Re={user_id:t.user.id,servicio_numero:Ke,servicio_fecha:re.fecha,servicio_hora:new Date().toLocaleTimeString("en-GB",{hour12:!1}),cliente_nombre:re.cliente_nombre,cliente_telefono:re.cliente_telefono,cliente_correo:re.cliente_correo||"",cliente_direccion:re.cliente_direccion||"",tecnico_nombre:re.tecnico_nombre,tecnico_celular:re.tecnico_celular||"",tipo_servicio:"CCTV",marca_principal:re.sistema_modelo,tipo_grabador:re.sistema_tipo,materiales:re.repuestos_costo,inventario_materiales:typeof re.repuestos_descripcion=="string"?re.repuestos_descripcion:JSON.stringify(re.repuestos_descripcion),total:re.total,mano_obra:re.mano_obra,anticipo:re.anticipo,saldo:(parseFloat(re.total)||0)-(parseFloat(re.anticipo)||0),pagado:re.pagado,entregado:re.entregado,status:re.estatus,contenido_dinamico:{cantidad_camaras:re.cantidad_camaras,ubicacion_instalacion:re.ubicacion_instalacion,problema_reportado:re.problema_reportado,diagnostico_tecnico:re.diagnostico_tecnico,trabajo_realizado:re.trabajo_realizado,observaciones:re.observaciones}};({data:fe,error:ue}=await je.from("servicios_cctv").insert([Re]).select())}else{const Ke={servicio_fecha:re.fecha,cliente_nombre:re.cliente_nombre,cliente_telefono:re.cliente_telefono,cliente_correo:re.cliente_correo||"",cliente_direccion:re.cliente_direccion||"",tecnico_nombre:re.tecnico_nombre,tecnico_celular:re.tecnico_celular||"",marca_principal:re.sistema_modelo,tipo_grabador:re.sistema_tipo,materiales:re.repuestos_costo,inventario_materiales:typeof re.repuestos_descripcion=="string"?re.repuestos_descripcion:JSON.stringify(re.repuestos_descripcion),total:re.total,mano_obra:re.mano_obra,anticipo:re.anticipo,saldo:(parseFloat(re.total)||0)-(parseFloat(re.anticipo)||0),pagado:re.pagado,entregado:re.entregado,status:re.estatus,contenido_dinamico:{cantidad_camaras:re.cantidad_camaras,ubicacion_instalacion:re.ubicacion_instalacion,problema_reportado:re.problema_reportado,diagnostico_tecnico:re.diagnostico_tecnico,trabajo_realizado:re.trabajo_realizado,observaciones:re.observaciones}};({data:fe,error:ue}=await je.from("servicios_cctv").update(Ke).eq("id",os.id).select())}if(ue)throw ue;if(fe&&fe[0]){const Ke=fe[0].id;if(Ye&&Ye.length>0&&await Wc(Ye),Qe&&Qe.length>0)for(const Re of Qe){const Me=Re.name.split(".").pop(),it=`${Date.now()}_${Math.random().toString(36).substring(7)}.${Me}`,Qt=`${t.user.id}/servicio_${Ke}/${it}`,gr=await Gc(Re),{error:ls}=await je.storage.from("servicio-files-v2").upload(Qt,Re);if(ls)throw ls;const{data:{publicUrl:Tr}}=je.storage.from("servicio-files-v2").getPublicUrl(Qt);await je.from("servicio_fotos").insert([{servicio_id:Ke,user_id:t.user.id,uri:Tr,tipo_servicio:"servicios_cctv",hash:gr}])}}ne(Ke=>Ke+1),alert("Servicio CCTV guardado correctamente"),Lt(null)}catch(fe){console.error("Error saving CCTV service:",fe),alert("Error al guardar el servicio CCTV")}},[Ct,Zs]=X.useState(null),[Vt,Yr]=X.useState(null),ta=async ie=>{try{const ue=`I-${new Date().getFullYear()}-`,{data:Qe,error:Ye}=await je.from("servicios_impresoras").select("orden_numero").eq("user_id",ie).like("orden_numero",`${ue}%`).order("created_at",{ascending:!1}).limit(1);if(Ye)throw Ye;if(Qe&&Qe.length>0){const Ke=Qe[0].orden_numero.split("-"),Re=parseInt(Ke[2])||99;return`${ue}${Re+1}`}return`${ue}100`}catch(fe){return console.error("Error fetching next Printer folio:",fe),`I-${new Date().getFullYear()}-100`}},or=async ie=>{try{let fe,ue;const{files:Qe,photosToDelete:Ye,...re}=ie,Ke=Me=>{if(typeof Me=="string"&&Me.trim().startsWith("["))try{return JSON.parse(Me)}catch{return[]}return Array.isArray(Me)?Me:[]},Re={fecha:re.fecha,tecnico_nombre:re.tecnico_nombre,cliente_nombre:re.cliente_nombre,cliente_telefono:re.cliente_telefono,equipo_modelo:re.equipo_modelo,equipo_tipo:re.equipo_tipo,equipo_serie:re.equipo_serie,equipo_contador:re.equipo_contador,accesorios:Ke(re.accesorios),estado_consumibles:re.estado_consumibles,problema_reportado:re.problema_reportado,diagnostico:re.diagnostico,trabajo_realizado:re.trabajo_realizado,repuestos_descripcion:typeof re.repuestos_descripcion=="string"?re.repuestos_descripcion:JSON.stringify(re.repuestos_descripcion),costo_repuestos:re.costo_repuestos,costo_total:re.total,anticipo:re.anticipo,incluir_iva:re.incluir_iva,iva:re.iva,total:re.total,observaciones:re.observaciones,firma_cliente_path:re.firma_cliente_path,firma_tecnico_path:re.firma_tecnico_path,pagado:re.pagado,entregado:re.entregado,mano_obra:re.mano_obra,subtotal:re.subtotal,status:re.status||"recibido"};if(Ct==="new"){const Me=await ta(t.user.id),it={...Re,user_id:t.user.id,orden_numero:Me,token:bm()},Qt=await je.from("servicios_impresoras").insert(it).select().single();fe=Qt.data,ue=Qt.error}else{const Me=await je.from("servicios_impresoras").update(Re).eq("id",Ct.id).select().single();fe=Me.data,ue=Me.error}if(ue)throw ue;if(Ye&&Ye.length>0&&await Wc(Ye),Qe&&Qe.length>0&&fe){const Me=Qe.map(async it=>{try{const Qt=await Gc(it),{data:gr}=await je.from("servicio_fotos").select("id").eq("servicio_id",fe.id).eq("hash",Qt).eq("tipo_servicio","servicios_impresoras").maybeSingle();if(gr)return{success:!0,skipped:!0};const ls=it.name.split(".").pop(),Tr=`${Date.now()}_${Math.random().toString(36).substring(7)}.${ls}`,Zr=`${t.user.id}/servicio_${fe.id}/${Tr}`,{error:cs}=await je.storage.from("servicio-files-v2").upload(Zr,it);if(cs)throw cs;const{data:{publicUrl:Vr}}=je.storage.from("servicio-files-v2").getPublicUrl(Zr),{error:Sa}=await je.from("servicio_fotos").insert({servicio_id:fe.id,user_id:t.user.id,uri:Vr,tipo_servicio:"servicios_impresoras",hash:Qt});if(Sa)throw Sa;return{success:!0,url:Vr}}catch(Qt){return console.error("Error uploading file:",Qt),{success:!1,error:Qt}}});await Promise.all(Me)}ne(Me=>Me+1),alert("Servicio de Impresora guardado correctamente"),Zs(null),h==="services-printer-view"&&(tt==null?void 0:tt.id)===fe.id&&ut(fe)}catch(fe){console.error("Error saving Printer service:",fe),alert("Error al guardar el servicio: "+fe.message)}},mt=async ie=>{const fe=`NET-${new Date().getFullYear()}-`;try{const{data:ue,error:Qe}=await je.from("servicios_redes").select("orden_numero").eq("user_id",ie).ilike("orden_numero",`${fe}%`).order("id",{ascending:!1}).limit(1);if(Qe)throw Qe;if(ue&&ue.length>0){const re=ue[0].orden_numero.split("-"),Ke=parseInt(re[2])||99;return`${fe}${Ke+1}`}return`${fe}100`}catch(ue){return console.error("Error fetching next Network folio:",ue),`NET-${new Date().getFullYear()}-100`}},Tt=async ie=>{try{let fe,ue;const{files:Qe,photosToDelete:Ye,...re}=ie,Ke={fecha:re.fecha,tecnico_nombre:re.tecnico_nombre,cliente_nombre:re.cliente_nombre,cliente_telefono:re.cliente_telefono,tipo_servicio:re.tipo_servicio||"Redes",wifi_ssid:re.wifi_ssid,wifi_password:re.wifi_password,wifi_portal_password:re.wifi_portal_password,wifi_gateway_ip:re.wifi_gateway_ip,velocidad_bajada:re.velocidad_bajada,velocidad_subida:re.velocidad_subida,velocidad_ping:re.velocidad_ping,trabajo_realizado:typeof re.trabajo_realizado=="string"?re.trabajo_realizado:JSON.stringify(re.trabajo_realizado||[]),materiales_descripcion:typeof re.materiales_descripcion=="string"?re.materiales_descripcion:JSON.stringify(re.materiales_descripcion||[]),costo_materiales:re.costo_materiales,mano_obra:re.mano_obra,subtotal:re.subtotal,anticipo:re.anticipo,total:re.total,observaciones:re.observaciones,firma_cliente_path:re.firma_cliente_path,firma_tecnico_path:re.firma_tecnico_path,pagado:re.pagado,entregado:re.entregado,status:re.status||"recibido",incluir_iva:re.incluir_iva,iva:re.iva};if(Vt==="new"){const Re=await mt(t.user.id),Me={...Ke,user_id:t.user.id,orden_numero:Re},it=await je.from("servicios_redes").insert(Me).select().single();fe=it.data,ue=it.error}else{const Re=await je.from("servicios_redes").update(Ke).eq("id",Vt.id).select().single();fe=Re.data,ue=Re.error}if(ue)throw ue;if(Ye&&Ye.length>0&&await Wc(Ye),Qe&&Qe.length>0&&fe){const Re=Qe.map(async Me=>{try{const it=await Gc(Me),{data:Qt}=await je.from("servicio_fotos").select("id").eq("servicio_id",fe.id).eq("hash",it).eq("tipo_servicio","servicios_redes").maybeSingle();if(Qt)return{success:!0,skipped:!0};const gr=Me.name.split(".").pop(),ls=`${Date.now()}_${Math.random().toString(36).substring(7)}.${gr}`,Tr=`${t.user.id}/servicio_${fe.id}/${ls}`,{error:Zr}=await je.storage.from("servicio-files-v2").upload(Tr,Me);if(Zr)throw Zr;const{data:{publicUrl:cs}}=je.storage.from("servicio-files-v2").getPublicUrl(Tr),{error:Vr}=await je.from("servicio_fotos").insert({servicio_id:fe.id,user_id:t.user.id,uri:cs,tipo_servicio:"servicios_redes",hash:it});if(Vr)throw Vr}catch(it){console.error("Error uploading file:",it)}});await Promise.all(Re)}ne(Re=>Re+1),alert("Servicio de Redes guardado correctamente"),Yr(null),h==="services-network-view"&&(tt==null?void 0:tt.id)===fe.id&&ut(fe)}catch(fe){console.error("Error saving network service:",fe),alert("Error al guardar servicio: "+fe.message)}},[hn,Ar]=X.useState(null),kn=async ie=>{try{let fe,ue;const{files:Qe,photosToDelete:Ye,...re}=ie;let Ke={...re,tecnico_celular:re.tecnico_celular||""};if(Ke.equipo_password){const Re=`[Contrasea: ${Ke.equipo_password}]`;(!Ke.observaciones||!Ke.observaciones.includes(Re))&&(Ke.observaciones=Ke.observaciones?`${Ke.observaciones}
${Re}`:Re)}if(delete Ke.equipo_password,hn==="new"){const Re=await ot(t.user.id),Me={user_id:t.user.id,orden_numero:Re,fecha:re.fecha,tecnico_nombre:re.tecnico_nombre,cliente_nombre:re.cliente_nombre,cliente_telefono:re.cliente_telefono,equipo_tipo:re.equipo_tipo,equipo_modelo:re.equipo_modelo,equipo_serie:re.equipo_serie,problema_reportado:re.problema_reportado,diagnostico_tecnico:re.diagnostico_tecnico,trabajo_realizado:re.trabajo_realizado,repuestos_descripcion:typeof re.repuestos_descripcion=="string"?re.repuestos_descripcion:JSON.stringify(re.repuestos_descripcion),mano_obra:re.mano_obra,repuestos_costo:re.repuestos_costo,subtotal:re.subtotal,iva:re.iva,total:re.total,observaciones:re.observaciones,anticipo:re.anticipo,pagado:re.pagado,entregado:re.entregado,incluir_iva:re.incluir_iva,token:bm(),status:"recibido"},it=await je.from("servicios_pc").insert(Me).select().single();fe=it.data,ue=it.error}else{const Re={fecha:re.fecha,tecnico_nombre:re.tecnico_nombre,cliente_nombre:re.cliente_nombre,cliente_telefono:re.cliente_telefono,equipo_tipo:re.equipo_tipo,equipo_modelo:re.equipo_modelo,equipo_serie:re.equipo_serie,problema_reportado:re.problema_reportado,diagnostico_tecnico:re.diagnostico_tecnico,trabajo_realizado:re.trabajo_realizado,repuestos_descripcion:typeof re.repuestos_descripcion=="string"?re.repuestos_descripcion:JSON.stringify(re.repuestos_descripcion),mano_obra:re.mano_obra,repuestos_costo:re.repuestos_costo,subtotal:re.subtotal,iva:re.iva,total:re.total,observaciones:re.observaciones,anticipo:re.anticipo,pagado:re.pagado,entregado:re.entregado,incluir_iva:re.incluir_iva,status:re.estatus},Me=await je.from("servicios_pc").update(Re).eq("id",hn.id).select().single();fe=Me.data,ue=Me.error}if(ue)throw ue;if(Ye&&Ye.length>0&&await Wc(Ye),Qe&&Qe.length>0&&fe){console.log(`Uploading ${Qe.length} photos for service ${fe.id}...`);const Re=Qe.map(async Me=>{try{const it=await Gc(Me),{data:Qt}=await je.from("servicio_fotos").select("id").eq("servicio_id",fe.id).eq("hash",it).maybeSingle();if(Qt)return console.log(`Duplicate photo detected (hash: ${it}), skipping upload.`),{success:!0,skipped:!0};const gr=Me.name.split(".").pop(),ls=`${Date.now()}_${Math.random().toString(36).substring(7)}.${gr}`,Tr=`${t.user.id}/servicio_${fe.id}/${ls}`,{error:Zr}=await je.storage.from("servicio-files-v2").upload(Tr,Me);if(Zr)throw Zr;const{data:{publicUrl:cs}}=je.storage.from("servicio-files-v2").getPublicUrl(Tr),{error:Vr}=await je.from("servicio_fotos").insert({servicio_id:fe.id,user_id:t.user.id,uri:cs,tipo_servicio:"servicios_pc",hash:it});if(Vr)throw Vr;return{success:!0,url:cs,hash:it}}catch(it){return console.error("Error uploading file:",it),{success:!1,error:it}}});await Promise.all(Re)}ne(Re=>Re+1),alert("Servicio guardado correctamente"),Ar(null),h==="services-pc-view"&&(tt==null?void 0:tt.id)===fe.id&&ut(fe)}catch(fe){console.error("Error saving PC service:",fe),alert("Error al guardar el servicio: "+fe.message)}},Ts=async ie=>{try{const ue=`COT-${new Date().getFullYear()}-`,{data:Qe,error:Ye}=await je.from("cotizaciones").select("folio").eq("user_id",ie).like("folio",`${ue}%`).order("created_at",{ascending:!1}).limit(1);if(Ye)return console.error("Error fetching last folio:",Ye),`${ue}100`;if(Qe&&Qe.length>0){const re=Qe[0].folio,Re=(parseInt(re.split("-")[2])||99)+1,Me=`${ue}${Re}`;return Ie(Me),Me}else{const re=`${ue}100`;return Ie(re),re}}catch(fe){console.error("Error generating next folio:",fe);const Qe=`COT-${new Date().getFullYear()}-100`;return Ie(Qe),Qe}},ot=async ie=>{try{const ue=`P-${new Date().getFullYear()}-`,{data:Qe,error:Ye}=await je.from("servicios_pc").select("orden_numero").eq("user_id",ie).like("orden_numero",`${ue}%`).order("created_at",{ascending:!1}).limit(1);if(Ye)throw Ye;if(Qe&&Qe.length>0){const Ke=Qe[0].orden_numero.split("-"),Re=parseInt(Ke[2])||99;return`${ue}${Re+1}`}return`${ue}100`}catch(fe){return console.error("Error fetching next PC folio:",fe),`P-${new Date().getFullYear()}-100`}},fn=async ie=>{try{const ue=`C-${new Date().getFullYear()}-`,{data:Qe,error:Ye}=await je.from("servicios_celulares").select("orden_numero").eq("user_id",ie).like("orden_numero",`${ue}%`).order("created_at",{ascending:!1}).limit(1);if(Ye)throw Ye;if(Qe&&Qe.length>0){const Ke=Qe[0].orden_numero.split("-"),Re=parseInt(Ke[2])||99;return`${ue}${Re+1}`}return`${ue}100`}catch(fe){return console.error("Error fetching next Phone folio:",fe),`C-${new Date().getFullYear()}-100`}},pn=async ie=>{try{const{data:fe,error:ue}=await je.from("configuracion_empresa").select("*").eq("user_id",ie).maybeSingle();if(ue){console.error("Error fetching company settings:",ue);return}fe&&(N(fe),localStorage.setItem("companyData",JSON.stringify(fe)))}catch(fe){console.error("Fetch error:",fe)}},As=async ie=>{try{const{data:fe,error:ue}=await je.from("clientes").select("id, nombre, empresa, correo, numero").eq("user_id",ie).order("nombre",{ascending:!0});fe&&S(fe),ue&&console.error("Error fetching clients:",ue)}catch(fe){console.error("Fetch saved clients error:",fe)}},_r=ie=>{const fe=E.find(ue=>ue.id===parseInt(ie));fe&&x({name:fe.nombre,phone:fe.numero||"",email:fe.correo||"",address:""})},zt=async ie=>{try{const{data:fe,error:ue}=await je.from("cotizaciones").select("*").eq("user_id",ie).order("created_at",{ascending:!1});fe&&R(fe),ue&&console.error("Error fetching quotations:",ue)}catch(fe){console.error("Fetch quotations error:",fe)}},Ps=async()=>{if(t!=null&&t.user)try{const ie=K.reduce((Ke,Re)=>{const Me=Re.qty*Re.price,it=Me*(Re.discount||0)/100,Qt=(Me-it)*(Re.tax||0)/100;return Ke+(Me-it+Qt)},0),fe=K.map(Ke=>({articulo:Ke.desc,cantidad:Ke.qty,costoEmpresa:Ke.cost||0,precioUnitario:Ke.price,total:Ke.qty*Ke.price*(1-(Ke.discount||0)/100),descuento:Ke.discount,impuesto:Ke.tax||0})),ue={user_id:t.user.id,folio:ye,nombre_cliente:w.name,telefono:w.phone,empresa:"",correo:w.email,fecha:V,fecha_vencimiento:me,ajuste_nombre:null,ajuste_porcentaje:null,ajuste_tipo:null,total:ie,terminos:I,articulos:fe,updated_at:new Date};let Qe;k?Qe=await je.from("cotizaciones").update(ue).eq("id",k).select():Qe=await je.from("cotizaciones").insert(ue).select();const{data:Ye,error:re}=Qe;if(re)throw re;De({client:{...w},items:JSON.parse(JSON.stringify(K))}),await zt(t.user.id),alert(k?"Cotizacin actualizada":"Cotizacin guardada"),L(null),Y("cotizaciones-list"),k||await Ts(t.user.id)}catch(ie){console.error("Error saving quotation:",ie),alert("Error al guardar cotizacin: "+ie.message)}},bi=async ie=>{try{const{error:fe}=await je.from("cotizaciones").delete().eq("id",ie);if(fe)throw fe;await zt(t.user.id)}catch(fe){console.error("Error deleting quotation:",fe),alert("Error al eliminar cotizacin: "+fe.message)}},ra=async ie=>{if(t!=null&&t.user)try{const fe=ie.folio.split("-");let ue;fe.length>3?ue=fe.slice(0,3).join("-"):ue=ie.folio;const{data:Qe,error:Ye}=await je.from("cotizaciones").select("folio").eq("user_id",t.user.id).like("folio",`${ue}%`);if(Ye)throw Ye;let re=1;if(Qe&&Qe.length>0){const it=Qe.map(Qt=>{const gr=Qt.folio.split("-");return gr.length>3?parseInt(gr[3]):0}).filter(Qt=>!isNaN(Qt));it.length>0&&(re=Math.max(...it)+1)}const Ke=`${ue}-${re}`,Re={...ie};delete Re.id,delete Re.created_at,Re.folio=Ke,Re.user_id=t.user.id,Re.updated_at=new Date;const{error:Me}=await je.from("cotizaciones").insert([Re]);if(Me)throw Me;await zt(t.user.id),alert(`Cotizacin duplicada como: ${Ke}`)}catch(fe){console.error("Error duplicating quotation:",fe),alert("Error al duplicar cotizacin: "+fe.message)}},mn=ie=>{Ie(ie.folio),x({name:ie.nombre_cliente,phone:ie.telefono,email:ie.correo,address:""});const fe=ie.articulos.map((ue,Qe)=>({id:Qe+1,qty:ue.cantidad,desc:ue.articulo,price:ue.precioUnitario,cost:ue.costoEmpresa||ue.costoUnitario||0,discount:ue.descuento||0,tax:ue.impuesto||0}));Q(fe),U(ie.terminos||""),Z(dA(ie.fecha)),F(dA(ie.fecha_vencimiento)),L(ie.id),De({client:{name:ie.nombre_cliente,phone:ie.telefono,email:ie.correo,address:""},items:fe}),Y("cotizaciones-new")},gn=async ie=>{if(t!=null&&t.user)try{let fe=b.logo_uri;if(ie){const Re=ie.name.split(".").pop(),Me=`${t.user.id}/empresa/logo_${Date.now()}.${Re}`,{error:it}=await je.storage.from("servicio-files-v2").upload(Me,ie,{upsert:!0});if(it)throw it;const{data:{publicUrl:Qt}}=je.storage.from("servicio-files-v2").getPublicUrl(Me);fe=Qt,N(gr=>({...gr,logo_uri:Qt}))}const{data:ue}=await je.from("configuracion_empresa").select("id").eq("user_id",t.user.id).maybeSingle();let Qe;const Ye={...b,user_id:t.user.id,logo_uri:fe,updated_at:new Date};delete Ye.id,delete Ye.created_at,console.log("Session user ID:",t.user.id),console.log("Payload user_id:",Ye.user_id),console.log("Full payload:",Ye),console.log("Existing data:",ue),ue?Qe=await je.from("configuracion_empresa").update(Ye).eq("id",ue.id).eq("user_id",t.user.id).select():Qe=await je.from("configuracion_empresa").insert(Ye).select();const{data:re,error:Ke}=Qe;if(Ke)throw Ke;alert("Datos de la empresa y logotipo actualizados."),localStorage.setItem("companyData",JSON.stringify({...b,logo_uri:fe}))}catch(fe){console.error("Error saving company settings:",fe),console.error("Error details:",{message:fe.message,code:fe.code,details:fe.details,hint:fe.hint}),alert("Error al guardar datos: "+fe.message)}};X.useEffect(()=>{const ie=localStorage.getItem("companyData");ie&&N(ue=>({...ue,...JSON.parse(ie)}));const fe=localStorage.getItem("defaultTerms");U(fe||` 1 ao de Garanta en todos los componentes.
 Instalacin en Domicilio Incluida.
 Windows 11 y paquetera Office Incluida.`)},[]),X.useEffect(()=>{localStorage.setItem("defaultTerms",I)},[I]);const Rs=X.useRef(null),en=X.useRef(null),[Os,In]=X.useState(1),[wi,vi]=X.useState("auto");X.useEffect(()=>{const ie=()=>{if(Rs.current&&en.current&&G){const fe=Rs.current.offsetWidth,ue=900,Qe=fe-32<ue?(fe-32)/ue:1;In(Qe),vi(`${en.current.offsetHeight*Qe}px`)}};return G&&(setTimeout(ie,10),window.addEventListener("resize",ie)),()=>window.removeEventListener("resize",ie)},[G,K,I]);const yi=(ie,fe)=>N(ue=>({...ue,[ie]:fe})),sa=(ie,fe)=>x(ue=>({...ue,[ie]:fe})),Bi=()=>{Q([...K,{id:Date.now(),qty:1,desc:"",price:0,cost:0,discount:0,tax:0}])},gA=ie=>Q(K.filter(fe=>fe.id!==ie)),tc=(ie,fe,ue)=>{Q(Qe=>Qe.map(Ye=>Ye.id===ie?{...Ye,[fe]:ue}:Ye))},rc=(ie,fe)=>{const ue=[...K],[Qe]=ue.splice(ie,1);ue.splice(fe,0,Qe),Q(ue)},za=async()=>{Pe(!0),setTimeout(async()=>{const ie=document.getElementById("quotation-pdf-export");if(!ie){console.error("PDF Export element not found"),alert("Error: No se encontr el elemento de exportacin."),Pe(!1);return}try{console.log("Starting PDF generation...");const fe=await V0(ie,{scale:2,useCORS:!0,logging:!1});console.log("Canvas created successfully");const ue=fe.toDataURL("image/png"),Qe=new lt("p","mm","a4"),Ye=210,re=295,Ke=fe.height*Ye/fe.width;let Re=Ke,Me=0;for(Qe.addImage(ue,"PNG",0,Me,Ye,Ke),Re-=re;Re>=0;)Me=Re-Ke,Qe.addPage(),Qe.addImage(ue,"PNG",0,Me,Ye,Ke),Re-=re;Qe.save(`Cotizacion-${ye}.pdf`),alert("Cotizacin generada correctamente")}catch(fe){console.error("Error generating PDF:",fe),alert("Error al generar el PDF. Por favor intente de nuevo.")}finally{Pe(!1)}},500)},xA=async()=>{Pe(!0),setTimeout(async()=>{const ie=document.getElementById("nota-venta-printable");if(!ie){console.error("Nota de Venta Export element not found"),alert("Error: No se encontr el elemento de exportacin de la nota."),Pe(!1);return}try{const fe=await V0(ie,{scale:2,useCORS:!0,logging:!1}),ue=fe.toDataURL("image/png"),Qe=new lt("p","mm","a4"),Ye=210,re=295,Ke=fe.height*Ye/fe.width;let Re=Ke,Me=0;for(Qe.addImage(ue,"PNG",0,Me,Ye,Ke),Re-=re;Re>=0;)Me=Re-Ke,Qe.addPage(),Qe.addImage(ue,"PNG",0,Me,Ye,Ke),Re-=re;const it=(Ae==null?void 0:Ae.folio)||(Ae==null?void 0:Ae.orden_numero)||"NVM";Qe.save(`NotaDeVenta-${it}.pdf`),alert("Nota de Venta generada correctamente")}catch(fe){console.error("Error generating Nota PDF:",fe),alert("Error al generar la Nota de Venta. Por favor intente de nuevo.")}finally{Pe(!1)}},500)},sc=ie=>{_(ie),q(!0)},Bo=({onBack:ie,darkMode:fe,company:ue})=>{const[Qe,Ye]=X.useState("[NOMBRE DEL CLIENTE O RAZN SOCIAL]"),[re,Ke]=X.useState("0,000.00"),[Re,Me]=X.useState("00.00"),[it,Qt]=X.useState("0"),[gr,ls]=X.useState("00"),[Tr,Zr]=X.useState(new Date().getDate().toString()),[cs,Vr]=X.useState(new Date().toLocaleString("es-ES",{month:"long"}).toUpperCase()),[Sa,ic]=X.useState(new Date().getFullYear().toString().slice(-2)),[jo,na]=X.useState("[Nombre y Firma del Responsable]"),[Ea,Ni]=X.useState("[Nombre y Firma del Cliente]"),ji=()=>{window.print()};return n.jsxs("div",{className:`w-full min-h-screen md:p-8 p-3 transition-colors ${fe?"bg-slate-900":"bg-slate-50"} print:p-0 print:min-h-0 print:bg-white`,children:[n.jsxs("div",{className:"max-w-4xl mx-auto mb-6 flex flex-wrap justify-between items-center gap-4 no-print",children:[n.jsxs("button",{onClick:ie,className:`flex items-center gap-2 px-4 py-2 rounded-lg font-medium transition-colors ${fe?"text-slate-300 hover:bg-slate-800":"text-slate-600 hover:bg-white hover:shadow-sm"}`,children:[n.jsx(mi,{className:"w-5 h-5"})," Regresar"]}),n.jsxs("button",{onClick:ji,className:"bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-6 rounded-full shadow-lg transition-transform hover:scale-105 flex items-center gap-2",children:[n.jsx($o,{className:"w-4 h-4"})," Imprimir / PDF"]})]}),n.jsxs("div",{className:"max-w-4xl mx-auto bg-white shadow-2xl md:rounded-xl rounded-lg border border-slate-200 print:shadow-none print:border-none print:w-full print:max-w-none print:overflow-visible print:rounded-none overflow-hidden",children:[n.jsxs("div",{className:"bg-[#1e3a8a] md:p-10 p-6 text-white flex flex-col md:flex-row justify-between items-center gap-6 print:bg-[#1e3a8a] print:text-white print:flex-row",children:[n.jsxs("div",{className:"flex flex-col items-center md:items-start gap-4",children:[n.jsx("div",{className:"relative group",children:n.jsx("div",{className:"bg-white/10 p-2 rounded border border-dashed border-white/30 hover:border-white transition cursor-pointer",children:ue!=null&&ue.logo_uri?n.jsx("img",{src:ue.logo_uri,alt:"Logo",className:"max-h-20 md:max-h-24 w-auto object-contain"}):n.jsx(nA,{className:"w-12 h-12 md:w-16 md:h-16 text-white"})})}),n.jsx("p",{className:"text-blue-400 font-medium tracking-widest text-[10px] md:text-xs uppercase",children:"Soluciones a tu medida"})]}),n.jsxs("div",{className:"text-center md:text-right text-[10px] md:text-xs space-y-1 text-slate-400",children:[n.jsx("p",{className:"font-bold text-white uppercase italic",children:"Direccin"}),n.jsx("p",{children:ue==null?void 0:ue.direccion}),n.jsx("p",{children:ue==null?void 0:ue.ciudad}),n.jsx("p",{children:(ue==null?void 0:ue.telefono)&&`Tel: ${ue.telefono}`}),n.jsx("p",{children:(ue==null?void 0:ue.correo)&&`Email: ${ue.correo}`})]})]}),n.jsxs("div",{className:"md:p-10 p-5 text-gray-800 text-[12px] md:text-[13px] leading-relaxed text-justify",children:[n.jsx("h2",{className:"text-center font-bold text-base md:text-lg mb-6 uppercase tracking-widest border-b pb-4",children:"Contrato de Prestacin de Servicios de Instalacin de CCTV"}),n.jsxs("p",{className:"mb-6",children:["CONTRATO DE PRESTACIN DE SERVICIOS DE INSTALACIN DE SISTEMAS DE VIDEOVIGILANCIA (CCTV) que celebran por una parte ",n.jsx("strong",{children:ue==null?void 0:ue.nombre}),", con domicilio en ",n.jsxs("strong",{children:[ue==null?void 0:ue.direccion,", ",ue==null?void 0:ue.ciudad]}),", a quien en lo sucesivo se le denominar EL PRESTADOR, y por la otra ",n.jsx("span",{contentEditable:!0,suppressContentEditableWarning:!0,className:"font-bold uppercase px-2 bg-green-500/10 border-b border-dashed border-blue-500 outline-none focus:bg-blue-50 transition-colors",children:Qe}),", a quien en lo sucesivo se le denominar EL CLIENTE, al tenor de las siguientes declaraciones y clusulas:"]}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("section",{children:[n.jsx("h3",{className:"font-bold bg-slate-100 px-3 py-1 inline-block mb-3",children:"DECLARACIONES"}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("p",{children:n.jsx("strong",{children:"I. Declara EL PRESTADOR que:"})}),n.jsxs("ul",{className:"list-disc ml-6 md:ml-8 space-y-1",children:[n.jsx("li",{children:"Dedicado a la instalacin, configuracin y mantenimiento de sistemas de videovigilancia (CCTV)."}),n.jsx("li",{children:"Cuenta con los conocimientos tcnicos, herramientas y personal necesario para prestar el servicio objeto de este contrato."})]}),n.jsx("p",{children:n.jsx("strong",{children:"II. Declara EL CLIENTE que:"})}),n.jsxs("ul",{className:"list-disc ml-6 md:ml-8 space-y-1",children:[n.jsx("li",{children:"Es una persona fsica o moral con capacidad legal para contratar."}),n.jsx("li",{children:"Es propietario o cuenta con autorizacin expresa sobre el inmueble donde se realizar la instalacin."})]})]})]}),n.jsxs("section",{children:[n.jsx("h3",{className:"font-bold bg-slate-100 px-3 py-1 inline-block mb-3",children:"CLUSULAS"}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"bg-blue-50 md:p-5 p-4 rounded-lg border border-blue-100 print:bg-blue-50 print:border-blue-100",children:[n.jsxs("p",{children:[n.jsx("strong",{children:"TERCERA. PRECIO Y FORMA DE PAGO."})," EL CLIENTE se obliga a pagar la cantidad de ",n.jsx("span",{className:"font-bold",children:"$"}),n.jsx("span",{contentEditable:!0,suppressContentEditableWarning:!0,className:"font-bold tracking-wider italic text-blue-700 underline uppercase bg-green-500/10 px-1 border-b border-dashed border-blue-500 outline-none",children:re})," MXN, de la siguiente forma:"]}),n.jsxs("ul",{className:"list-disc ml-6 md:ml-8 mt-2",children:[n.jsxs("li",{children:["Anticipo de ",n.jsx("span",{className:"font-bold",children:"$"}),n.jsx("span",{contentEditable:!0,suppressContentEditableWarning:!0,className:"font-bold italic text-blue-700 underline uppercase bg-green-500/10 px-1 border-b border-dashed border-blue-500 outline-none",children:Re})," al firmar el contrato."]}),n.jsx("li",{children:"Saldo restante al concluir la instalacin."})]})]}),n.jsx("div",{children:n.jsxs("p",{children:[n.jsx("strong",{children:"SEXTA. GARANTA."})," EL PRESTADOR otorga una garanta de ",n.jsx("span",{contentEditable:!0,suppressContentEditableWarning:!0,className:"font-bold px-2 italic text-blue-700 underline uppercase bg-green-500/10 border-b border-dashed border-blue-500 outline-none",children:gr})," das sobre la instalacin realizada."]})})]})]}),n.jsxs("section",{className:"mt-6 break-inside-avoid",children:[n.jsxs("p",{className:"mb-8",children:["Ledo que fue el presente contrato y enteradas las partes de su contenido y alcance legal, lo firman por duplicado en ",ue==null?void 0:ue.ciudad,", a ",n.jsx("span",{contentEditable:!0,suppressContentEditableWarning:!0,className:"px-2 font-semibold italic text-blue-700 underline uppercase bg-green-500/10 border-b border-dashed border-blue-500 outline-none",children:Tr})," de ",n.jsx("span",{contentEditable:!0,suppressContentEditableWarning:!0,className:"px-2 font-semibold italic text-blue-700 underline uppercase bg-green-500/10 border-b border-dashed border-blue-500 outline-none",children:cs})," de 20",n.jsx("span",{contentEditable:!0,suppressContentEditableWarning:!0,className:"font-semibold italic text-blue-700 underline uppercase bg-green-500/10 border-b border-dashed border-blue-500 outline-none",children:Sa}),"."]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-10 md:gap-20 text-center mt-10",children:[n.jsxs("div",{children:[n.jsx("div",{className:"h-16 md:h-20 border-b border-slate-900 mx-auto w-4/5"}),n.jsx("p",{className:"mt-4 font-bold uppercase text-xs",children:"EL PRESTADOR"}),n.jsx("p",{className:"text-[11px]",children:ue==null?void 0:ue.nombre}),n.jsx("p",{className:"text-[11px] mt-1 italic text-blue-700",contentEditable:!0,suppressContentEditableWarning:!0,children:jo})]}),n.jsxs("div",{children:[n.jsx("div",{className:"h-16 md:h-20 border-b border-slate-900 mx-auto w-4/5"}),n.jsx("p",{className:"mt-4 font-bold uppercase text-xs",children:"EL CLIENTE"}),n.jsx("p",{className:"text-[11px] mt-1 italic text-blue-700",contentEditable:!0,suppressContentEditableWarning:!0,children:Ea})]})]})]})]})]}),n.jsx("div",{className:"bg-slate-50 border-t p-6 text-center print:bg-white print:border-none",children:n.jsx("p",{className:"text-[9px] md:text-[10px] text-slate-400 uppercase tracking-[0.3em]",children:"Calidad  Confianza  Seguridad"})})]}),n.jsx("style",{dangerouslySetInnerHTML:{__html:`
                    @media print {
                        @page { margin: 1cm; size: auto; }
                        body { background: white !important; padding: 0 !important; margin: 0 !important; overflow: visible !important; }
                        .no-print { display: none !important; }
                        .print\\:shadow-none { box-shadow: none !important; }
                        .print\\:border-none { border: none !important; }
                        .print\\:w-full { width: 100% !important; }
                        .print\\:max-w-none { max-width: none !important; }
                        .print\\:text-white { color: white !important; -webkit-print-color-adjust: exact; print-color-adjust: exact; }
                        .print\\:bg-\\[\\#1e3a8a\\] { background-color: #1e3a8a !important; -webkit-print-color-adjust: exact; print-color-adjust: exact; }
                        .print\\:overflow-visible { overflow: visible !important; }
                        .print\\:rounded-none { border-radius: 0 !important; }
                        .print\\:min-h-0 { min-height: 0 !important; }
                        .print\\:bg-white { background-color: white !important; }
                        .print\\:p-0 { padding: 0 !important; }
                        [contenteditable] { 
                            background-color: transparent !important; 
                            border: none !important; 
                            color: black !important;
                            padding: 0 !important;
                            box-shadow: none !important;
                            -webkit-print-color-adjust: exact !important;
                            print-color-adjust: exact !important;
                        }
                        .bg-green-50, .bg-slate-100, .bg-slate-50 {
                            background-color: transparent !important;
                        }
                    }
                `}})]})},nc=({onBack:ie,darkMode:fe,company:ue})=>{const[Qe,Ye]=X.useState("[NOMBRE DEL CLIENTE O RAZN SOCIAL]"),[re,Ke]=X.useState("0,000.00"),[Re,Me]=X.useState("00.00"),[it,Qt]=X.useState("0"),[gr,ls]=X.useState("00"),[Tr,Zr]=X.useState(new Date().getDate().toString()),[cs,Vr]=X.useState(new Date().toLocaleString("es-ES",{month:"long"}).toUpperCase()),[Sa,ic]=X.useState(new Date().getFullYear().toString().slice(-2)),[jo,na]=X.useState("[Nombre del Tcnico]"),[Ea,Ni]=X.useState("[Nombre y Firma del Cliente]"),ji=()=>{window.print()};return n.jsxs("div",{className:`w-full min-h-screen md:p-8 p-3 transition-colors ${fe?"bg-slate-900":"bg-slate-50"} print:p-0 print:min-h-0 print:bg-white`,children:[n.jsxs("div",{className:"max-w-4xl mx-auto mb-6 flex flex-wrap justify-between items-center gap-4 no-print",children:[n.jsxs("button",{onClick:ie,className:`flex items-center gap-2 px-4 py-2 rounded-lg font-medium transition-colors ${fe?"text-slate-300 hover:bg-slate-800":"text-slate-600 hover:bg-white hover:shadow-sm"}`,children:[n.jsx(mi,{className:"w-5 h-5"})," Regresar"]}),n.jsxs("button",{onClick:ji,className:"bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-6 rounded-full shadow-lg transition-transform hover:scale-105 flex items-center gap-2",children:[n.jsx($o,{className:"w-4 h-4"})," Imprimir / PDF"]})]}),n.jsxs("div",{className:"max-w-4xl mx-auto bg-white shadow-2xl md:rounded-xl rounded-lg border border-slate-200 print:shadow-none print:border-none print:w-full print:max-w-none print:overflow-visible print:rounded-none overflow-hidden",children:[n.jsxs("div",{className:"bg-[#1e3a8a] md:p-10 p-6 text-white flex flex-col md:flex-row justify-between items-center gap-6 print:bg-[#1e3a8a] print:text-white print:flex-row",children:[n.jsxs("div",{className:"flex flex-col items-center md:items-start gap-4",children:[n.jsx("div",{className:"relative group",children:n.jsx("div",{className:"bg-white/10 p-2 rounded border border-dashed border-white/30 hover:border-white transition cursor-pointer",children:ue!=null&&ue.logo_uri?n.jsx("img",{src:ue.logo_uri,alt:"Logo",className:"max-h-20 md:max-h-24 w-auto object-contain"}):n.jsx(nA,{className:"w-12 h-12 md:w-16 md:h-16 text-white"})})}),n.jsx("p",{className:"text-blue-400 font-medium tracking-widest text-[10px] md:text-xs uppercase",children:"SOLUCIONES A TU MEDIDA"})]}),n.jsxs("div",{className:"text-center md:text-right text-[10px] md:text-xs space-y-1 text-slate-400",children:[n.jsx("p",{className:"font-bold text-white uppercase italic",children:"Direccin"}),n.jsx("p",{children:ue==null?void 0:ue.direccion}),n.jsx("p",{children:ue==null?void 0:ue.ciudad}),n.jsx("p",{children:(ue==null?void 0:ue.telefono)&&`Tel: ${ue.telefono}`}),n.jsx("p",{children:(ue==null?void 0:ue.correo)&&`Email: ${ue.correo}`})]})]}),n.jsxs("div",{className:"md:p-10 p-5 text-gray-800 text-[12px] md:text-[13px] leading-relaxed text-justify",children:[n.jsx("h2",{className:"text-center font-bold text-base md:text-lg mb-6 uppercase tracking-widest border-b pb-4",children:"Contrato de Prestacin de Servicios de Ensamble de Computadoras"}),n.jsxs("p",{className:"mb-6",children:["CONTRATO DE PRESTACIN DE SERVICIOS DE ENSAMBLE, CONFIGURACIN Y OPTIMIZACIN DE EQUIPO DE CMPUTO que celebran por una parte ",n.jsx("strong",{children:ue==null?void 0:ue.nombre}),", con domicilio en ",n.jsxs("strong",{children:[ue==null?void 0:ue.direccion,", ",ue==null?void 0:ue.ciudad]}),", a quien en lo sucesivo se le denominar EL PRESTADOR, y por la otra ",n.jsx("span",{contentEditable:!0,suppressContentEditableWarning:!0,className:"font-bold uppercase px-2 bg-slate-200/50 border-b border-dashed border-blue-500 outline-none focus:bg-blue-50 transition-colors",children:Qe}),", a quien en lo sucesivo se le denominar EL CLIENTE, al tenor de las siguientes declaraciones y clusulas:"]}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("section",{children:[n.jsx("h3",{className:"font-bold bg-slate-100 px-3 py-1 inline-block mb-3",children:"DECLARACIONES"}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("p",{children:n.jsx("strong",{children:"I. Declara EL PRESTADOR que:"})}),n.jsxs("ul",{className:"list-disc ml-6 md:ml-8 space-y-1",children:[n.jsx("li",{children:"Se dedica al ensamble, configuracin, diagnstico y optimizacin de hardware de cmputo de alto rendimiento."}),n.jsx("li",{children:"Cuenta con los conocimientos tcnicos en arquitectura de hardware y herramientas especializadas."})]}),n.jsx("p",{children:n.jsx("strong",{children:"II. Declara EL CLIENTE que:"})}),n.jsxs("ul",{className:"list-disc ml-6 md:ml-8 space-y-1",children:[n.jsx("li",{children:"Es una persona fsica o moral con capacidad legal para contratar."}),n.jsx("li",{children:"Solicita el ensamble de equipo(s) de cmputo basado en componentes adquiridos o seleccionados."})]})]})]}),n.jsxs("section",{children:[n.jsx("h3",{className:"font-bold bg-slate-100 px-3 py-1 inline-block mb-3",children:"CLUSULAS"}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"bg-blue-50 md:p-5 p-4 rounded-lg border border-blue-100 print:bg-blue-50 print:border-blue-100",children:[n.jsxs("p",{children:[n.jsx("strong",{children:"TERCERA. PRECIO Y FORMA DE PAGO."})," EL CLIENTE se obliga a pagar la cantidad de ",n.jsx("span",{className:"font-bold",children:"$"}),n.jsx("span",{contentEditable:!0,suppressContentEditableWarning:!0,className:"font-bold tracking-wider italic text-blue-700 underline uppercase bg-slate-200/50 px-1 border-b border-dashed border-blue-500 outline-none",children:re})," MXN, de la siguiente forma:"]}),n.jsxs("ul",{className:"list-disc ml-6 md:ml-8 mt-2",children:[n.jsxs("li",{children:["Anticipo por servicio: ",n.jsx("span",{className:"font-bold",children:"$"}),n.jsx("span",{contentEditable:!0,suppressContentEditableWarning:!0,className:"font-bold italic text-blue-700 underline uppercase bg-slate-200/50 px-1 border-b border-dashed border-blue-500 outline-none",children:Re}),"."]}),n.jsx("li",{children:"Saldo restante: Al concluir el ensamble y pruebas."})]})]}),n.jsx("div",{children:n.jsxs("p",{children:[n.jsx("strong",{children:"QUINTA. GARANTA."})," EL PRESTADOR otorga una garanta de ",n.jsx("span",{contentEditable:!0,suppressContentEditableWarning:!0,className:"font-bold px-2 italic text-blue-700 underline uppercase bg-slate-200/50 border-b border-dashed border-blue-500 outline-none",children:gr})," das sobre el ensamble."]})})]})]}),n.jsxs("section",{className:"mt-6 break-inside-avoid",children:[n.jsxs("p",{className:"mb-6",children:["Ledo que fue el presente contrato y enteradas las partes de su contenido y alcance legal, lo firman por duplicado en ",ue==null?void 0:ue.ciudad,", a ",n.jsx("span",{contentEditable:!0,suppressContentEditableWarning:!0,className:"px-2 font-semibold italic text-blue-700 underline uppercase bg-slate-200/50 border-b border-dashed border-blue-500 outline-none",children:Tr})," de ",n.jsx("span",{contentEditable:!0,suppressContentEditableWarning:!0,className:"px-2 font-semibold italic text-blue-700 underline uppercase bg-slate-200/50 border-b border-dashed border-blue-500 outline-none",children:cs})," de 20",n.jsx("span",{contentEditable:!0,suppressContentEditableWarning:!0,className:"font-semibold italic text-blue-700 underline uppercase bg-slate-200/50 border-b border-dashed border-blue-500 outline-none",children:Sa}),"."]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-10 md:gap-20 text-center mt-10",children:[n.jsxs("div",{children:[n.jsx("div",{className:"h-16 md:h-20 border-b border-slate-900 mx-auto w-4/5"}),n.jsx("p",{className:"mt-4 font-bold uppercase text-xs",children:"EL PRESTADOR"}),n.jsxs("p",{className:"text-[11px]",children:[ue==null?void 0:ue.nombre," - rea Tcnica"]}),n.jsx("p",{className:"text-[11px] mt-1 italic text-blue-700",contentEditable:!0,suppressContentEditableWarning:!0,children:jo})]}),n.jsxs("div",{children:[n.jsx("div",{className:"h-16 md:h-20 border-b border-slate-900 mx-auto w-4/5"}),n.jsx("p",{className:"mt-4 font-bold uppercase text-xs",children:"EL CLIENTE"}),n.jsx("p",{className:"text-[11px] mt-1 italic text-blue-700",contentEditable:!0,suppressContentEditableWarning:!0,children:Ea})]})]})]})]})]})]}),n.jsx("style",{dangerouslySetInnerHTML:{__html:`
                    @media print {
                        @page { margin: 1cm; size: auto; }
                        body { background: white !important; padding: 0 !important; margin: 0 !important; overflow: visible !important; }
                        .no-print { display: none !important; }
                        .print\\:shadow-none { box-shadow: none !important; }
                        .print\\:border-none { border: none !important; }
                        .print\\:w-full { width: 100% !important; }
                        .print\\:max-w-none { max-width: none !important; }
                        .print\\:text-white { color: white !important; -webkit-print-color-adjust: exact; print-color-adjust: exact; }
                        .print\\:bg-\\[\\#1e3a8a\\] { background-color: #1e3a8a !important; -webkit-print-color-adjust: exact; print-color-adjust: exact; }
                        .print\\:overflow-visible { overflow: visible !important; }
                        .print\\:rounded-none { border-radius: 0 !important; }
                        .print\\:min-h-0 { min-height: 0 !important; }
                        .print\\:bg-white { background-color: white !important; }
                        .print\\:p-0 { padding: 0 !important; }
                        .print-gradient-text {
                            background-image: none !important;
                            color: black !important;
                            -webkit-background-clip: initial !important;
                            background-clip: initial !important;
                            -webkit-text-fill-color: initial !important;
                        }
                        [contenteditable] { 
                            background-color: transparent !important; 
                            border: none !important; 
                            color: black !important;
                            padding: 0 !important;
                            box-shadow: none !important;
                            -webkit-print-color-adjust: exact !important;
                            print-color-adjust: exact !important;
                        }
                        .bg-green-50, .bg-slate-100, .bg-slate-50 {
                            background-color: transparent !important;
                        }
                    }
                `}})]})},bA=({darkMode:ie,company:fe})=>{const[ue,Qe]=X.useState(null),Ye=[{id:"cctv",title:"CCTV",icon:pr,color:"bg-blue-500"},{id:"pc",title:"PC",icon:cA,color:"bg-purple-500"},{id:"impresoras",title:"IMPRESORAS",icon:jr,color:"bg-orange-500"},{id:"celulares",title:"CELULARES",icon:Il,color:"bg-green-500"},{id:"redes",title:"REDES",icon:pQ,color:"bg-indigo-500"}];return ue==="cctv"?n.jsx(Bo,{onBack:()=>Qe(null),darkMode:ie,company:fe}):ue==="pc"?n.jsx(nc,{onBack:()=>Qe(null),darkMode:ie,company:fe}):ue?n.jsxs("div",{className:`w-full min-h-screen p-8 flex flex-col items-center justify-center ${de?"bg-slate-900 text-slate-100":"bg-slate-50 text-slate-800"}`,children:[n.jsxs("div",{className:"text-center mb-8",children:[n.jsxs("h2",{className:"text-3xl font-bold mb-4",children:["Contrato de ",ue.toUpperCase()]}),n.jsx("p",{className:"text-slate-500",children:"Esta plantilla an no est implementada."})]}),n.jsx("button",{onClick:()=>Qe(null),className:"px-6 py-3 bg-slate-200 text-slate-700 rounded-lg hover:bg-slate-300 font-bold transition-colors",children:"Volver"})]}):n.jsxs("div",{className:"w-full px-4 md:px-8 py-8 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[n.jsxs("div",{className:"mb-8",children:[n.jsxs("h1",{className:`text-3xl font-extrabold tracking-tight mb-2 ${de?"text-slate-100":"text-slate-800"}`,children:["Generar ",n.jsx("span",{className:"text-blue-600",children:"Contratos"})]}),n.jsx("p",{className:`${de?"text-slate-400":"text-slate-500"}`,children:"Selecciona el tipo de servicio para generar el contrato correspondiente."})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Ye.map(re=>n.jsxs("button",{onClick:()=>Qe(re.id),className:`relative overflow-hidden group p-8 rounded-2xl shadow-lg border transition-all duration-300 hover:shadow-2xl hover:-translate-y-1 text-left ${de?"bg-slate-800 border-slate-700":"bg-white border-slate-100"}`,children:[n.jsx("div",{className:`absolute top-0 right-0 w-32 h-32 transform translate-x-8 -translate-y-8 rounded-full opacity-10 transition-transform group-hover:scale-110 ${re.color}`}),n.jsx("div",{className:`w-14 h-14 rounded-xl flex items-center justify-center mb-6 shadow-md ${re.color} text-white`,children:n.jsx(re.icon,{className:"w-8 h-8"})}),n.jsx("h3",{className:`text-xl font-bold mb-2 group-hover:text-blue-500 transition-colors ${de?"text-slate-100":"text-slate-800"}`,children:re.title}),n.jsxs("p",{className:`text-sm ${de?"text-slate-400":"text-slate-500"}`,children:["Generar contrato de servicio para ",re.title.toLowerCase(),"."]})]},re.id))})]})};if(window.location.hash.includes("#/track/"))return n.jsx(Wv,{});if(window.location.pathname.includes("/track/"))return n.jsx(Wv,{});if(i)return n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50",children:n.jsx(Mr,{className:"animate-spin w-8 h-8 text-blue-600"})});if(!t)return n.jsx(w8,{currentTheme:ze,setTheme:Te});const ac=()=>{switch(ze){case"dark":return"bg-slate-900";case"glass":return"bg-gradient-to-br from-orange-200 via-rose-200 to-amber-100";case"blue":default:return"bg-blue-600"}};return n.jsxs(D8,{children:[n.jsx("style",{dangerouslySetInnerHTML:{__html:"@media print { .no-print { display: none !important; } }"}}),n.jsxs("div",{className:`min-h-screen flex flex-col md:flex-row ${ac()} ${ze==="dark"?"dark":""} print:bg-white`,children:[n.jsx(nL,{activeTab:h,setActiveTab:at,onLogout:async()=>{ve()?window.confirm("Tienes cambios sin guardar. Quieres cerrar sesin?")&&await e():await e()},userEmail:t.user.email,currentTheme:ze,setTheme:Te,companyLogo:b==null?void 0:b.logo_uri,companyName:b==null?void 0:b.nombre,mobileMode:A,toggleMobileMode:m,isOpen:c,onClose:()=>d(!1),onCreateNew:()=>{if(ve()&&!window.confirm("Tienes cambios sin guardar. Quieres descartarlos e iniciar una nueva cotizacin?"))return;const ie={name:"",phone:"",email:"",address:""};x(ie),Q([]),De({client:ie,items:[]}),U(localStorage.getItem("defaultTerms")||""),Z(new Date().toISOString().split("T")[0]),F(new Date(Date.now()+30*24*60*60*1e3).toISOString().split("T")[0]),L(null),Ts(t.user.id),Y("cotizaciones-new"),A&&d(!1)}}),A&&n.jsx("div",{className:`sticky top-0 z-30 px-4 py-3 flex items-center justify-between border-b shadow-md ${de?"bg-slate-900 border-slate-700":"bg-blue-600 text-white border-blue-500"} no-print`,children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("button",{onClick:()=>d(!0),className:`p-2 -ml-2 rounded-lg transition-colors ${de?"hover:bg-slate-800 text-slate-200":"hover:bg-blue-500 text-white"}`,"aria-label":"Abrir Men",children:n.jsx(GU,{className:"w-6 h-6"})}),n.jsx("div",{className:"flex items-center gap-2",children:n.jsx("span",{className:"font-bold text-lg tracking-tight",children:"SmartQuote"})})]})}),n.jsx("main",{className:`flex-1 transition-all duration-300 md:p-8 p-3 ${A?"h-[calc(100vh-60px)]":"h-screen"} overflow-hidden ${A?"":"ml-72"} print:ml-0 print:p-0 print:h-auto print:overflow-visible`,children:Bt()&&h!=="suscripcion"?n.jsx("div",{className:"w-full h-full flex items-center justify-center p-4",children:n.jsx(O8,{darkMode:de,onSubscribe:()=>Y("suscripcion")})}):n.jsxs("div",{className:`w-full h-full md:rounded-[2.5rem] rounded-3xl shadow-2xl overflow-hidden ${de?"bg-slate-800":"bg-white"} print:bg-white print:rounded-none print:shadow-none`,children:[n.jsxs("div",{ref:f,className:`w-full h-full overflow-y-auto md:px-8 px-4 md:py-10 py-6 ${ze==="glass"&&!de?"bg-orange-50/40 backdrop-blur-sm":""} print:p-0 print:h-auto print:overflow-visible`,children:[h==="cotizaciones-list"&&n.jsx(H8,{quotations:D,onCreateNew:()=>{x({name:"",phone:"",email:"",address:""}),Q([]),U(localStorage.getItem("defaultTerms")||""),Z(new Date().toISOString().split("T")[0]),F(new Date(Date.now()+30*24*60*60*1e3).toISOString().split("T")[0]),L(null),Ts(t.user.id),Y("cotizaciones-new")},onView:sc,onEdit:mn,onDuplicate:ra,onDelete:bi,darkMode:de,onStatusChange:()=>zt(t.user.id)}),h==="cotizaciones-new"&&n.jsxs("div",{className:"w-full px-4 md:px-8 py-8 pb-20",children:[n.jsxs("div",{className:`flex flex-col md:flex-row justify-between items-start md:items-center mb-8 gap-4 border-b pb-6 ${de?"border-slate-600":""}`,children:[n.jsxs("div",{children:[n.jsxs("h1",{className:`md:text-3xl text-2xl font-extrabold tracking-tight ${de?"text-slate-100":"text-slate-800"}`,children:["Generador de ",n.jsx("span",{className:"text-blue-600",children:"Cotizaciones"})]}),n.jsx("p",{className:`mt-1 text-sm ${de?"text-slate-300":"text-gray-500"}`,children:"Crea documentos profesionales en segundos."})]}),n.jsxs("div",{className:"flex flex-wrap md:flex-nowrap gap-2 md:gap-3 w-full md:w-auto",children:[n.jsxs("button",{onClick:()=>q(!0),className:"flex-1 md:flex-none btn bg-white text-slate-600 hover:text-blue-600 hover:bg-blue-50 border border-slate-200 shadow-sm px-4 py-3 rounded-xl font-bold transition-all flex items-center justify-center gap-2",title:"Vista Previa",children:[n.jsx(pr,{className:"w-5 h-5"}),n.jsx("span",{className:"sm:inline",children:"Vista Previa"})]}),n.jsxs("button",{onClick:Ps,className:"flex-1 md:flex-none btn bg-green-600 text-white hover:bg-green-700 shadow-lg shadow-green-500/30 transform hover:-translate-y-0.5 px-6 py-3 rounded-xl font-bold transition-all flex items-center justify-center gap-2",children:[n.jsx($o,{className:"w-5 h-5"}),k?"Actualizar":n.jsxs(n.Fragment,{children:[n.jsx("span",{className:"md:hidden",children:"Guardar"}),n.jsx("span",{className:"hidden md:inline",children:"Guardar"})]})]}),n.jsxs("button",{onClick:za,disabled:Ue,className:`w-full md:w-auto btn bg-blue-600 text-white hover:bg-blue-700 shadow-lg shadow-blue-500/30 transform hover:-translate-y-0.5 px-6 py-3 rounded-xl font-bold transition-all flex items-center justify-center gap-2 ${Ue?"opacity-50 cursor-not-allowed":""}`,children:[n.jsx($o,{className:"w-5 h-5"}),Ue?"Generando...":"Descargar PDF"]})]})]}),n.jsxs("div",{className:"w-full max-w-5xl mx-auto space-y-6",children:[n.jsxs("div",{className:"bg-blue-50 border border-blue-100 p-4 rounded-xl flex flex-col sm:flex-row items-center justify-between gap-4",children:[n.jsxs("div",{className:"flex items-center gap-3 w-full",children:[n.jsx("div",{className:"w-10 h-10 md:w-12 md:h-12 bg-white rounded-lg flex items-center justify-center text-blue-600 shadow-sm overflow-hidden p-1 shrink-0",children:b.logo_uri?n.jsx("img",{src:b.logo_uri,alt:"Logo",className:"w-full h-full object-contain"}):n.jsx(nA,{className:"w-6 h-6"})}),n.jsxs("div",{children:[n.jsxs("p",{className:"text-sm font-bold text-blue-900",children:["Emisor: ",b.nombre||"Nombre de tu Empresa"]}),n.jsx("p",{className:"text-xs text-blue-700",children:"Los datos se tomarn de tu configuracin."})]})]}),n.jsx("button",{onClick:()=>Y("configuracion"),className:"text-blue-600 text-xs font-bold hover:underline",children:"Editar"})]}),n.jsxs("div",{className:`p-6 rounded-xl shadow-lg border text-left backdrop-blur-md ${de?"bg-slate-800/80 border-slate-700":"bg-white/60 border-white/50"}`,children:[n.jsxs("h3",{className:`font-bold flex items-center gap-2 mb-4 ${de?"text-slate-200":"text-slate-700"}`,children:[n.jsx(jr,{className:"w-5 h-5 text-blue-500"})," Detalles de la Cotizacin"]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:`block text-xs font-bold mb-1 uppercase ${de?"text-slate-400":"text-slate-500"}`,children:"Folio"}),n.jsx("input",{type:"text",value:ye,readOnly:!0,className:`w-full border rounded-lg p-3 text-sm font-bold text-center ${de?"bg-slate-900 border-slate-600 text-blue-400":"bg-slate-100 border-slate-200 text-blue-600"}`})]}),n.jsxs("div",{children:[n.jsx("label",{className:`block text-xs font-bold mb-1 uppercase ${de?"text-slate-400":"text-slate-500"}`,children:"Fecha de Cotizacin"}),n.jsx("input",{type:"date",value:V,onChange:ie=>Z(ie.target.value),className:`w-full border rounded-lg p-3 text-sm outline-none focus:ring-2 focus:ring-blue-500 ${de?"bg-slate-700 border-slate-600 text-white":"bg-slate-50 border-slate-200 text-slate-800"}`})]}),n.jsxs("div",{children:[n.jsx("label",{className:`block text-xs font-bold mb-1 uppercase ${de?"text-slate-400":"text-slate-500"}`,children:"Fecha de Vencimiento"}),n.jsx("input",{type:"date",value:me,onChange:ie=>F(ie.target.value),className:`w-full border rounded-lg p-3 text-sm outline-none focus:ring-2 focus:ring-blue-500 ${de?"bg-slate-700 border-slate-600 text-white":"bg-slate-50 border-slate-200 text-slate-800"}`})]})]})]}),n.jsxs("div",{className:`p-6 rounded-xl shadow-lg border transition-all hover:shadow-xl text-left backdrop-blur-md ${de?"bg-slate-800/80 border-slate-700":"bg-white/50 border-white/40"}`,children:[n.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-4 gap-4",children:[n.jsxs("h3",{className:`font-bold flex items-center gap-2 ${de?"text-slate-200":"text-slate-700"}`,children:[n.jsx(Ls,{className:"w-5 h-5 text-gray-500"})," Datos del Cliente"]}),n.jsxs("select",{className:`border rounded-lg text-sm block p-2 outline-none w-full md:w-64 focus:ring-blue-500 focus:border-blue-500 ${de?"bg-slate-700 border-slate-600 text-white":"bg-slate-50 border-slate-200 text-slate-600"}`,onChange:ie=>_r(ie.target.value),defaultValue:"",children:[n.jsx("option",{value:"",disabled:!0,children:"Seleccionar Cliente Guardado..."}),E.map(ie=>n.jsxs("option",{value:ie.id,children:[ie.nombre," ",ie.empresa?`(${ie.empresa})`:""]},ie.id))]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsx("input",{type:"text",placeholder:"Nombre del Cliente",value:w.name,onChange:ie=>sa("name",ie.target.value),className:`border rounded-lg text-sm block w-full p-2.5 outline-none transition-all focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 ${de?"bg-slate-700 border-slate-600 text-white placeholder-slate-400":"bg-slate-50 border-slate-200 text-slate-800"}`}),n.jsx("input",{type:"text",placeholder:"Telfono",value:w.phone,onChange:ie=>sa("phone",ie.target.value),className:`border rounded-lg text-sm block w-full p-2.5 outline-none transition-all focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 ${de?"bg-slate-700 border-slate-600 text-white placeholder-slate-400":"bg-slate-50 border-slate-200 text-slate-800"}`}),n.jsx("input",{type:"email",placeholder:"Correo Electrnico",value:w.email,onChange:ie=>sa("email",ie.target.value),className:`border rounded-lg text-sm block w-full p-2.5 outline-none transition-all focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 ${de?"bg-slate-700 border-slate-600 text-white placeholder-slate-400":"bg-slate-50 border-slate-200 text-slate-800"}`}),n.jsx("input",{type:"text",placeholder:"Direccin / Ciudad",value:w.address,onChange:ie=>sa("address",ie.target.value),className:`border rounded-lg text-sm block w-full p-2.5 outline-none transition-all focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 ${de?"bg-slate-700 border-slate-600 text-white placeholder-slate-400":"bg-slate-50 border-slate-200 text-slate-800"}`})]})]}),n.jsx(V8,{items:K,onAddItem:Bi,onRemoveItem:gA,onUpdateItem:tc,onMoveItem:rc,darkMode:de}),n.jsxs("div",{className:`p-4 rounded-xl flex items-center justify-end gap-3 backdrop-blur-md ${de?"bg-slate-800/80":"bg-white/60"}`,children:[n.jsx("span",{className:`font-bold text-sm ${de?"text-slate-300":"text-slate-600"}`,children:"Desglosar IVA (16%)"}),n.jsx("button",{onClick:()=>C(!B),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 ${B?"bg-blue-600":"bg-gray-200"}`,children:n.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${B?"translate-x-6":"translate-x-1"}`})})]}),n.jsx(z8,{value:I,onChange:U,darkMode:de})]})]}),h==="clientes"&&n.jsx(K8,{onCreateNew:()=>alert("Funcin de crear cliente prximamente..."),darkMode:de}),h==="configuracion"&&n.jsx($8,{companyData:b,onCompanyChange:yi,onSave:gn,darkMode:de,selectedTemplate:Oe,onTemplateChange:Ot}),h==="products"&&n.jsx(P8,{darkMode:de,user:t==null?void 0:t.user}),h==="informes"&&n.jsx(lL,{darkMode:de,user:t==null?void 0:t.user}),h==="suscripcion"&&n.jsx(R8,{darkMode:de}),h==="servicios"&&n.jsx(tL,{darkMode:de,onNavigate:Y,setSelectedService:ut,setEditingCCTVService:Lt,setEditingPCService:Ar,setEditingPhoneService:ur,setEditingPrinterService:Zs,setEditingNetworkService:Yr,onShowNotaVenta:ie=>{we(ie),se(!0)},user:t==null?void 0:t.user,refreshTrigger:W}),h==="services-cctv-list"&&n.jsx(X8,{darkMode:de,onNavigate:Y,onViewService:yt,onShowNotaVenta:ie=>{we(ie),se(!0)},user:t==null?void 0:t.user,refreshTrigger:W},`cctv-${W}`),h==="services-cctv-view"&&n.jsx(Y8,{service:tt,onBack:()=>Y("servicios"),onEdit:ie=>Lt(ie),darkMode:de,company:b}),h==="services-pc-list"&&n.jsx(Z8,{darkMode:de,onNavigate:Y,onViewService:Et,onCreateNew:()=>Ar("new"),onEdit:ie=>Ar(ie),onShowNotaVenta:ie=>{we({...ie,type:"PC",tableName:"servicios_pc",original:ie}),se(!0)},user:t==null?void 0:t.user,refreshTrigger:W},`pc-${W}`),h==="services-pc-view"&&n.jsx(eL,{service:tt,onBack:()=>Y("servicios"),onEdit:ie=>Ar(ie),darkMode:de,company:b}),h==="services-phone-list"&&n.jsx(rL,{darkMode:de,onNavigate:Y,onViewService:ie=>{ut(ie),Y("services-phone-view")},onCreateNew:()=>ur("new"),onEdit:ie=>ur(ie),onShowNotaVenta:ie=>{we({...ie,type:"Celular",tableName:"servicios_celulares",original:ie}),se(!0)},user:t==null?void 0:t.user,refreshTrigger:W},`phone-${W}`),h==="services-phone-view"&&n.jsx(sL,{service:tt,onBack:()=>Y("servicios"),onEdit:ie=>ur(ie),darkMode:de,company:b}),hn&&n.jsx(Q8,{service:hn==="new"?null:hn,onSave:kn,onCancel:()=>Ar(null),darkMode:de}),os&&n.jsx(T8,{service:os==="new"?null:os,onSave:Qn,onCancel:()=>Lt(null),darkMode:de}),$e&&n.jsx(L8,{service:$e==="new"?null:$e,onSave:Ft,onCancel:()=>ur(null),darkMode:de}),h==="services-network-list"&&n.jsx(AL,{darkMode:de,onNavigate:Y,onViewService:ie=>{ut(ie),Y("services-network-view")},onCreateNew:()=>Yr("new"),onEdit:ie=>Yr(ie),onShowNotaVenta:ie=>{we({...ie,type:"Redes",tableName:"servicios_redes",original:ie}),se(!0)},user:t==null?void 0:t.user,refreshTrigger:W},`network-${W}`),h==="services-printer-list"&&n.jsx(aL,{darkMode:de,onNavigate:Y,onViewService:ie=>{ut(ie),Y("services-printer-view")},onCreateNew:()=>Zs("new"),onEdit:ie=>Zs(ie),onShowNotaVenta:ie=>{we({...ie,type:"Impresora",tableName:"servicios_impresoras",original:ie}),se(!0)},user:t==null?void 0:t.user,refreshTrigger:W},`printer-${W}`),h==="services-printer-view"&&n.jsx(iL,{service:tt,onBack:()=>Y("servicios"),onEdit:ie=>Zs(ie),darkMode:de,company:b}),h==="services-network-view"&&n.jsx(oL,{service:tt,onBack:()=>Y("servicios"),onEdit:ie=>Yr(ie),darkMode:de,company:b}),Ct&&n.jsx(k8,{service:Ct==="new"?null:Ct,onSave:or,onCancel:()=>Zs(null),darkMode:de}),Vt&&n.jsx(I8,{service:Vt==="new"?null:Vt,onSave:Tt,onCancel:()=>Yr(null),darkMode:de}),h==="contratos"&&n.jsx(bA,{darkMode:de,company:b}),G&&n.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 animate-in fade-in duration-200",children:n.jsxs("div",{className:`rounded-2xl shadow-2xl w-full max-w-6xl max-h-[90vh] flex flex-col overflow-hidden relative animate-in zoom-in-95 duration-200 ${de?"bg-slate-800":"bg-white"}`,children:[n.jsxs("div",{className:`p-4 border-b flex justify-between items-center ${de?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"}`,children:[n.jsxs("h3",{className:`font-bold text-lg flex items-center gap-2 ${de?"text-slate-100":"text-slate-700"}`,children:[n.jsx(pr,{className:"w-5 h-5 text-blue-500"})," Vista Previa del Documento"]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("button",{onClick:za,disabled:Ue,className:"flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-bold transition-colors bg-blue-600 hover:bg-blue-700 text-white disabled:opacity-50 disabled:cursor-not-allowed",children:[n.jsx($o,{className:"w-4 h-4"}),Ue?"Generando...":"Descargar PDF"]}),n.jsx("button",{onClick:()=>{q(!1),O&&_(null)},className:`p-2 rounded-full transition-colors ${de?"hover:bg-slate-700 text-slate-400":"hover:bg-slate-200 text-slate-500"}`,children:n.jsx(Kr,{className:"w-6 h-6"})})]})]}),n.jsx("div",{className:`overflow-auto p-8 flex justify-center ${de?"bg-slate-900/50":"bg-slate-200/50"}`,ref:Rs,children:n.jsx("div",{className:"bg-white shadow-xl origin-top transition-transform duration-200",style:{transform:`scale(${Os})`,width:"900px",height:"auto"},children:n.jsx("div",{ref:en,children:n.jsx(ox,{company:b,client:O?{name:O.nombre_cliente,phone:O.telefono,email:O.correo,address:""}:w,items:O?O.articulos.map((ie,fe)=>({id:fe+1,qty:ie.cantidad,desc:ie.articulo,price:ie.precioUnitario,discount:ie.descuento||0,tax:0})):K,terms:O?O.terminos:I,folio:O?O.folio:ye,includeIva:B,template:Oe})})})})]})}),ee&&n.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 animate-in fade-in duration-200",children:n.jsxs("div",{className:`rounded-2xl shadow-2xl w-full max-w-6xl max-h-[90vh] flex flex-col overflow-hidden relative animate-in zoom-in-95 duration-200 ${de?"bg-slate-800":"bg-white"}`,children:[n.jsxs("div",{className:`p-4 border-b flex justify-between items-center ${de?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"}`,children:[n.jsxs("h3",{className:`font-bold text-lg flex items-center gap-2 ${de?"text-slate-100":"text-slate-700"}`,children:[n.jsx(jr,{className:"w-5 h-5 text-blue-500"})," Vista Previa: Nota de Venta"]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("button",{onClick:xA,disabled:Ue,className:"flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-bold transition-colors bg-blue-600 hover:bg-blue-700 text-white disabled:opacity-50 disabled:cursor-not-allowed",children:[n.jsx($o,{className:"w-4 h-4"}),Ue?"Generando...":"Descargar PDF"]}),n.jsx("button",{onClick:()=>{se(!1),we(null)},className:`p-2 rounded-full transition-colors ${de?"hover:bg-slate-700 text-slate-400":"hover:bg-slate-200 text-slate-500"}`,children:n.jsx(Kr,{className:"w-6 h-6"})})]})]}),n.jsx("div",{className:`overflow-auto p-8 flex justify-center ${de?"bg-slate-900/50":"bg-slate-200/50"}`,children:n.jsx("div",{className:"bg-white shadow-xl origin-top transition-transform duration-200",style:{transform:`scale(${Os})`,width:"900px",height:"auto"},children:n.jsx(Zv,{service:Ae,company:b,darkMode:de})})})]})})]}),n.jsxs("div",{style:{position:"absolute",top:"-10000px",left:"-10000px"},children:[n.jsx("div",{id:"quotation-pdf-export",style:{width:"900px"},children:n.jsx(ox,{company:b,client:O?{name:O.nombre_cliente,phone:O.telefono,email:O.correo,address:""}:w,items:O?O.articulos.map((ie,fe)=>({id:fe+1,qty:ie.cantidad,desc:ie.articulo,price:ie.precioUnitario,cost:ie.costoEmpresa||0,discount:ie.descuento||0,tax:0})):K,terms:O?O.terminos:I,folio:O?O.folio:ye,includeIva:B,isPdf:!0,template:Oe})}),n.jsx("div",{id:"nota-venta-printable",style:{width:"900px"},children:n.jsx(Zv,{service:Ae,company:b,darkMode:de})})]})]})})]})]})};class uL extends Pt.Component{constructor(t){super(t),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,r){console.error("Uncaught error:",t,r),this.setState({errorInfo:r})}render(){return this.state.hasError?n.jsx("div",{className:"min-h-screen bg-slate-50 p-8 flex items-center justify-center",children:n.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-xl max-w-4xl w-full border-l-4 border-red-500",children:[n.jsx("h1",{className:"text-2xl font-bold text-slate-800 mb-2 flex items-center gap-2",children:" Algo sali mal"}),n.jsx("p",{className:"text-slate-600 mb-6",children:"La aplicacin encontr un error inesperado."}),n.jsxs("div",{className:"bg-red-50 p-4 rounded-lg overflow-auto max-h-96 font-mono text-sm border border-red-100",children:[n.jsx("p",{className:"font-bold text-red-700 mb-2",children:this.state.error&&this.state.error.toString()}),n.jsx("pre",{className:"text-red-600 whitespace-pre-wrap",children:this.state.errorInfo&&this.state.errorInfo.componentStack})]}),n.jsx("button",{onClick:()=>window.location.reload(),className:"mt-6 px-6 py-2 bg-slate-800 text-white rounded-lg hover:bg-slate-700 transition-colors font-medium",children:"Recargar Pgina"})]})}):this.props.children}}wm.createRoot(document.getElementById("root")).render(n.jsx(Pt.StrictMode,{children:n.jsx(uL,{children:n.jsx(cL,{})})}));export{Mt as _,dL as c,YN as g};
